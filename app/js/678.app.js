"use strict";(self.webpackChunkwebpack_setup=self.webpackChunkwebpack_setup||[]).push([[678],{678:(t,e,i)=>{i.r(e);
/*!
 * lightgallery | 2.7.2 | September 20th 2023
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var s=function(){return s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};var n="lgAfterAppendSlide",o="lgInit",r="lgHasVideo",l="lgContainerResize",a="lgUpdateSlides",d="lgAfterAppendSubHtml",g="lgBeforeOpen",h="lgAfterOpen",c="lgSlideItemLoad",u="lgBeforeSlide",m="lgAfterSlide",p="lgPosterClick",f="lgDragStart",y="lgDragMove",v="lgDragEnd",b="lgBeforeNextSlide",C="lgBeforePrevSlide",I="lgBeforeClose",S="lgAfterClose",w={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};var x=function(){function t(t){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(t),this.firstElement=this._getFirstEl(),this}return t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},t.prototype._getSelector=function(t,e){return void 0===e&&(e=document),"string"!=typeof t?t:(e=e||document,"#"===t.substring(0,1)?e.querySelector(t):e.querySelectorAll(t))},t.prototype._each=function(t){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,t):t(this.selector,0),this):this},t.prototype._setCssVendorPrefix=function(t,e,i){var s=e.replace(/-([a-z])/gi,(function(t,e){return e.toUpperCase()}));-1!==this.cssVenderPrefixes.indexOf(s)?(t.style[s.charAt(0).toLowerCase()+s.slice(1)]=i,t.style["webkit"+s]=i,t.style["moz"+s]=i,t.style["ms"+s]=i,t.style["o"+s]=i):t.style[s]=i},t.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},t.prototype.isEventMatched=function(t,e){var i=e.split(".");return t.split(".").filter((function(t){return t})).every((function(t){return-1!==i.indexOf(t)}))},t.prototype.attr=function(t,e){return void 0===e?this.firstElement?this.firstElement.getAttribute(t):"":(this._each((function(i){i.setAttribute(t,e)})),this)},t.prototype.find=function(t){return T(this._getSelector(t,this.selector))},t.prototype.first=function(){return this.selector&&void 0!==this.selector.length?T(this.selector[0]):T(this.selector)},t.prototype.eq=function(t){return T(this.selector[t])},t.prototype.parent=function(){return T(this.selector.parentElement)},t.prototype.get=function(){return this._getFirstEl()},t.prototype.removeAttr=function(t){var e=t.split(" ");return this._each((function(t){e.forEach((function(e){return t.removeAttribute(e)}))})),this},t.prototype.wrap=function(t){if(!this.firstElement)return this;var e=document.createElement("div");return e.className=t,this.firstElement.parentNode.insertBefore(e,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),e.appendChild(this.firstElement),this},t.prototype.addClass=function(t){return void 0===t&&(t=""),this._each((function(e){t.split(" ").forEach((function(t){t&&e.classList.add(t)}))})),this},t.prototype.removeClass=function(t){return this._each((function(e){t.split(" ").forEach((function(t){t&&e.classList.remove(t)}))})),this},t.prototype.hasClass=function(t){return!!this.firstElement&&this.firstElement.classList.contains(t)},t.prototype.hasAttribute=function(t){return!!this.firstElement&&this.firstElement.hasAttribute(t)},t.prototype.toggleClass=function(t){return this.firstElement?(this.hasClass(t)?this.removeClass(t):this.addClass(t),this):this},t.prototype.css=function(t,e){var i=this;return this._each((function(s){i._setCssVendorPrefix(s,t,e)})),this},t.prototype.on=function(e,i){var s=this;return this.selector?(e.split(" ").forEach((function(e){Array.isArray(t.eventListeners[e])||(t.eventListeners[e]=[]),t.eventListeners[e].push(i),s.selector.addEventListener(e.split(".")[0],i)})),this):this},t.prototype.once=function(t,e){var i=this;return this.on(t,(function(){i.off(t),e(t)})),this},t.prototype.off=function(e){var i=this;return this.selector?(Object.keys(t.eventListeners).forEach((function(s){i.isEventMatched(e,s)&&(t.eventListeners[s].forEach((function(t){i.selector.removeEventListener(s.split(".")[0],t)})),t.eventListeners[s]=[])})),this):this},t.prototype.trigger=function(t,e){if(!this.firstElement)return this;var i=new CustomEvent(t.split(".")[0],{detail:e||null});return this.firstElement.dispatchEvent(i),this},t.prototype.load=function(t){var e=this;return fetch(t).then((function(t){return t.text()})).then((function(t){e.selector.innerHTML=t})),this},t.prototype.html=function(t){return void 0===t?this.firstElement?this.firstElement.innerHTML:"":(this._each((function(e){e.innerHTML=t})),this)},t.prototype.append=function(t){return this._each((function(e){"string"==typeof t?e.insertAdjacentHTML("beforeend",t):e.appendChild(t)})),this},t.prototype.prepend=function(t){return this._each((function(e){e.insertAdjacentHTML("afterbegin",t)})),this},t.prototype.remove=function(){return this._each((function(t){t.parentNode.removeChild(t)})),this},t.prototype.empty=function(){return this._each((function(t){t.innerHTML=""})),this},t.prototype.scrollTop=function(t){return void 0!==t?(document.body.scrollTop=t,document.documentElement.scrollTop=t,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.prototype.scrollLeft=function(t){return void 0!==t?(document.body.scrollLeft=t,document.documentElement.scrollLeft=t,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},t.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var t=this.firstElement.getBoundingClientRect(),e=T("body").style().marginLeft;return{left:t.left-parseFloat(e)+this.scrollLeft(),top:t.top+this.scrollTop()}},t.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},t.prototype.width=function(){var t=this.style();return this.firstElement.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},t.prototype.height=function(){var t=this.style();return this.firstElement.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)},t.eventListeners={},t}();function T(t){return function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),new x(t)}var E=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function O(t){return"href"===t?"src":t=(t=(t=t.replace("data-","")).charAt(0).toLowerCase()+t.slice(1)).replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}var L=function(t,e,i,s){void 0===i&&(i=0);var n=T(t).attr("data-lg-size")||s;if(n){var o=n.split(",");if(o[1])for(var r=window.innerWidth,l=0;l<o.length;l++){var a=o[l];if(parseInt(a.split("-")[2],10)>r){n=a;break}l===o.length-1&&(n=a)}var d=n.split("-"),g=parseInt(d[0],10),h=parseInt(d[1],10),c=e.width(),u=e.height()-i,m=Math.min(c,g),p=Math.min(u,h),f=Math.min(m/g,p/h);return{width:g*f,height:h*f}}},D=function(t,e,i,s,n){if(n){var o=T(t).find("img").first();if(o.get()){var r=e.get().getBoundingClientRect(),l=r.width,a=e.height()-(i+s),d=o.width(),g=o.height(),h=o.style(),c=(l-d)/2-o.offset().left+(parseFloat(h.paddingLeft)||0)+(parseFloat(h.borderLeft)||0)+T(window).scrollLeft()+r.left,u=(a-g)/2-o.offset().top+(parseFloat(h.paddingTop)||0)+(parseFloat(h.borderTop)||0)+T(window).scrollTop()+i;return"translate3d("+(c*=-1)+"px, "+(u*=-1)+"px, 0) scale3d("+d/n.width+", "+g/n.height+", 1)"}}},z=function(t,e,i,s,n,o){return'<div class="lg-video-cont lg-has-iframe" style="width:'+t+"; max-width:"+i+"; height: "+e+"; max-height:"+s+'">\n                    <iframe class="lg-object" frameborder="0" '+(o?'title="'+o+'"':"")+' src="'+n+'"  allowfullscreen="true"></iframe>\n                </div>'},M=function(t,e,i,s,n,o){var r="<img "+i+" "+(s?'srcset="'+s+'"':"")+"  "+(n?'sizes="'+n+'"':"")+' class="lg-object lg-image" data-index="'+t+'" src="'+e+'" />',l="";o&&(l=("string"==typeof o?JSON.parse(o):o).map((function(t){var e="";return Object.keys(t).forEach((function(i){e+=" "+i+'="'+t[i]+'"'})),"<source "+e+"></source>"})));return""+l+r},k=function(t){for(var e=[],i=[],s="",n=0;n<t.length;n++){var o=t[n].split(" ");""===o[0]&&o.splice(0,1),i.push(o[0]),e.push(o[1])}for(var r=window.innerWidth,l=0;l<e.length;l++)if(parseInt(e[l],10)>r){s=i[l];break}return s},G=function(t){return!!t&&(!!t.complete&&0!==t.naturalWidth)},A=function(t,e,i,s,n){return'<div class="lg-video-cont '+(n&&n.youtube?"lg-has-youtube":n&&n.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+i+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+s+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+s+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(e||"")+'\n            <img class="lg-object lg-video-poster" src="'+t+'" />\n        </div>'},B=function(t){var e=t.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');return[].filter.call(e,(function(t){var e=window.getComputedStyle(t);return"none"!==e.display&&"hidden"!==e.visibility}))},P=function(t,e,i,s){var n=[],o=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var s=Array(t),n=0;for(e=0;e<i;e++)for(var o=arguments[e],r=0,l=o.length;r<l;r++,n++)s[n]=o[r];return s}(E,e);return[].forEach.call(t,(function(t){for(var e={},r=0;r<t.attributes.length;r++){var l=t.attributes[r];if(l.specified){var a=O(l.name),d="";o.indexOf(a)>-1&&(d=a),d&&(e[d]=l.value)}}var g=T(t),h=g.find("img").first().attr("alt"),c=g.attr("title"),u=s?g.attr(s):g.find("img").first().attr("src");e.thumb=u,i&&!e.subHtml&&(e.subHtml=c||h||""),e.alt=h||c||"",n.push(e)})),n},_=function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},F=function(t,e,i){if(!t)return e?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");var s=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),n=t.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),o=t.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return s?{youtube:s}:n?{vimeo:n}:o?{wistia:o}:void 0},H=0,$=function(){function t(t,e){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!t)return this;if(H++,this.lgId=H,this.el=t,this.LGel=T(t),this.generateSettings(e),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return t.prototype.generateSettings=function(t){if(this.settings=s(s({},w),t),this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():_()){var e=s(s({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=s(s({},this.settings),e)}},t.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},t.prototype.init=function(){var t=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(o,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout((function(){t.enableDrag(),t.enableSwipe(),t.triggerPosterClick()}),50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},t.prototype.openGalleryOnItemClick=function(){for(var t=this,e=function(e){var s=i.items[e],n=T(s),o=x.generateUUID();n.attr("data-lg-id",o).on("click.lgcustom-item-"+o,(function(i){i.preventDefault();var n=t.settings.index||e;t.openGallery(n,s)}))},i=this,s=0;s<this.items.length;s++)e(s)},t.prototype.buildModules=function(){var t=this;this.settings.plugins.forEach((function(e){t.plugins.push(new e(t,T))}))},t.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},t.prototype.getSlideItem=function(t){return T(this.getSlideItemId(t))},t.prototype.getSlideItemId=function(t){return"#lg-item-"+this.lgId+"-"+t},t.prototype.getIdName=function(t){return t+"-"+this.lgId},t.prototype.getElementById=function(t){return T("#"+this.getIdName(t))},t.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},t.prototype.buildStructure=function(){var t=this;if(!(this.$container&&this.$container.get())){var e="",i="";this.settings.controls&&(e='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(i='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var s="";this.settings.allowMediaOverlap&&(s+="lg-media-overlap ");var n=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",o=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",r="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),l=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",a=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",d='\n        <div class="'+r+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+n+" "+o+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+s+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+e+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+a+"\n                    "+l+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?i:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?i:"")+"\n                </div>\n            </div>\n        </div>\n        ";T(this.settings.container).append(d),document.body!==this.settings.container&&T(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var g=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(g+="lg-grab "),this.outer.addClass(g),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),T(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,(function(){t.refreshOnResize()})),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},t.prototype.refreshOnResize=function(){if(this.lgOpened){var t=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var e=this.mediaContainerPosition,i=e.top,s=e.bottom;if(this.currentImageSize=L(this.items[this.index],this.outer,i+s,t&&this.settings.videoMaxSize),t&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var n=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",n)}this.LGel.trigger(l)}},t.prototype.resizeVideoSlide=function(t,e){var i=this.getVideoContStyle(e);this.getSlideItem(t).find(".lg-video-cont").attr("style",i)},t.prototype.updateSlides=function(t,e){if(this.index>t.length-1&&(this.index=t.length-1),1===t.length&&(this.index=0),t.length){var i=this.galleryItems[e].src;this.galleryItems=t,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var s=0;this.galleryItems.some((function(t,e){return t.src===i&&(s=e,!0)})),this.currentItemsInDom=this.organizeSlideItems(s,-1),this.loadContent(s,!0),this.getSlideItem(s).addClass("lg-current"),this.index=s,this.updateCurrentCounter(s),this.LGel.trigger(a)}else this.closeGallery()},t.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if("this"===this.settings.selector)this.items.push(this.el);else if(this.settings.selector)if("string"==typeof this.settings.selector)if(this.settings.selectWithin){var t=T(this.settings.selectWithin);this.items=t.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return P(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},t.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},t.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(T("body").style().paddingRight);var t=document.documentElement.getBoundingClientRect(),e=window.innerWidth-t.width;T(document.body).css("padding-right",e+this.bodyPaddingRight+"px"),T(document.body).addClass("lg-overlay-open")}},t.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(T(document.body).css("padding-right",this.bodyPaddingRight+"px"),T(document.body).removeClass("lg-overlay-open"))},t.prototype.openGallery=function(t,e){var i=this;if(void 0===t&&(t=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var s=this.getItemsToBeInsertedToDom(t,t);this.currentItemsInDom=s;var n="";s.forEach((function(t){n=n+'<div id="'+t+'" class="lg-item"></div>'})),this.$inner.append(n),this.addHtml(t);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var r=this.mediaContainerPosition,l=r.top,a=r.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(l,a);var d=this.galleryItems[t].__slideVideoInfo;this.zoomFromOrigin&&e&&(this.currentImageSize=L(e,this.outer,l+a,d&&this.settings.videoMaxSize),o=D(e,this.outer,l,a,this.currentImageSize)),this.zoomFromOrigin&&o||(this.outer.addClass(this.settings.startClass),this.getSlideItem(t).removeClass("lg-complete"));var c=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout((function(){i.outer.addClass("lg-components-open")}),c),this.index=t,this.LGel.trigger(g),this.getSlideItem(t).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=T(window).scrollTop(),setTimeout((function(){if(i.zoomFromOrigin&&o){var e=i.getSlideItem(t);e.css("transform",o),setTimeout((function(){e.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")})),setTimeout((function(){e.css("transform","translate3d(0, 0, 0)")}),100)}setTimeout((function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")}),10),setTimeout((function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()}),i.settings.backdropDuration+50),i.zoomFromOrigin&&o||setTimeout((function(){i.outer.addClass("lg-visible")}),i.settings.backdropDuration),i.slide(t,!1,!1,!1),i.LGel.trigger(h)})),document.body===this.settings.container&&T("html").addClass("lg-on")}},t.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var t=this.$toolbar.get().clientHeight||0,e=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||e&&e.clientHeight||0,s=this.outer.find(".lg-thumb-outer").get();return{top:t,bottom:(s?s.clientHeight:0)+i}},t.prototype.setMediaContainerPosition=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.$content.css("top",t+"px").css("bottom",e+"px")},t.prototype.hideBars=function(){var t=this;setTimeout((function(){t.outer.removeClass("lg-hide-items"),t.settings.hideBarsDelay>0&&(t.outer.on("mousemove.lg click.lg touchstart.lg",(function(){t.outer.removeClass("lg-hide-items"),clearTimeout(t.hideBarTimeout),t.hideBarTimeout=setTimeout((function(){t.outer.addClass("lg-hide-items")}),t.settings.hideBarsDelay)})),t.outer.trigger("mousemove.lg"))}),this.settings.showBarsAfter)},t.prototype.initPictureFill=function(t){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[t.get()]})}catch(t){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},t.prototype.counter=function(){if(this.settings.counter){var t='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(t)}},t.prototype.addHtml=function(t){var e,i;if(this.galleryItems[t].subHtmlUrl?i=this.galleryItems[t].subHtmlUrl:e=this.galleryItems[t].subHtml,!i)if(e){var s=e.substring(0,1);"."!==s&&"#"!==s||(e=this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?T(this.items).eq(t).find(e).first().html():T(e).first().html())}else e="";if(".lg-item"!==this.settings.appendSubHtmlTo)i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(e);else{var n=T(this.getSlideItemId(t));i?n.load(i):n.append('<div class="lg-sub-html">'+e+"</div>")}null!=e&&(""===e?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(d,{index:t})},t.prototype.preload=function(t){for(var e=1;e<=this.settings.preload&&!(e>=this.galleryItems.length-t);e++)this.loadContent(t+e,!1);for(var i=1;i<=this.settings.preload&&!(t-i<0);i++)this.loadContent(t-i,!1)},t.prototype.getDummyImgStyles=function(t){return t?"width:"+t.width+"px;\n                margin-left: -"+t.width/2+"px;\n                margin-top: -"+t.height/2+"px;\n                height:"+t.height+"px":""},t.prototype.getVideoContStyle=function(t){return t?"width:"+t.width+"px;\n                height:"+t.height+"px":""},t.prototype.getDummyImageContent=function(t,e,i){var s;if(this.settings.dynamic||(s=T(this.items).eq(e)),s){var n=void 0;if(!(n=this.settings.exThumbImage?s.attr(this.settings.exThumbImage):s.find("img").first().attr("src")))return"";var o="<img "+i+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+n+'" />';return t.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),o}return""},t.prototype.setImgMarkup=function(t,e,i){var s=this.galleryItems[i],n=s.alt,o=s.srcset,r=s.sizes,l=s.sources,a=n?'alt="'+n+'"':"",d='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(e,i,a):M(i,t,a,o,r,l))+"</picture>";e.prepend(d)},t.prototype.onSlideObjectLoad=function(t,e,i,s){var n=t.find(".lg-object").first();G(n.get())||e?i():(n.on("load.lg error.lg",(function(){i&&i()})),n.on("error.lg",(function(){s&&s()})))},t.prototype.onLgObjectLoad=function(t,e,i,s,n,o){var r=this;this.onSlideObjectLoad(t,o,(function(){r.triggerSlideItemLoad(t,e,i,s,n)}),(function(){t.addClass("lg-complete lg-complete_"),t.html('<span class="lg-error-msg">'+r.settings.strings.mediaLoadingFailed+"</span>")}))},t.prototype.triggerSlideItemLoad=function(t,e,i,s,n){var o=this,r=this.galleryItems[e],l=n&&"video"===this.getSlideType(r)&&!r.poster?s:0;setTimeout((function(){t.addClass("lg-complete lg-complete_"),o.LGel.trigger(c,{index:e,delay:i||0,isFirstSlide:n})}),l)},t.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},t.prototype.addSlideVideoInfo=function(t){var e=this;t.forEach((function(t,i){t.__slideVideoInfo=F(t.src,!!t.video,i),t.__slideVideoInfo&&e.settings.loadYouTubePoster&&!t.poster&&t.__slideVideoInfo.youtube&&(t.poster="//img.youtube.com/vi/"+t.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")}))},t.prototype.loadContent=function(t,e){var i=this,s=this.galleryItems[t],o=T(this.getSlideItemId(t)),l=s.poster,a=s.srcset,d=s.sizes,g=s.sources,h=s.src,c=s.video,u=c&&"string"==typeof c?JSON.parse(c):c;if(s.responsive){var m=s.responsive.split(",");h=k(m)||h}var p=s.__slideVideoInfo,f="",y=!!s.iframe,v=!this.lGalleryOn,b=0;if(v&&(b=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),!o.hasClass("lg-loaded")){if(p){var C=this.mediaContainerPosition,I=C.top,S=C.bottom,w=L(this.items[t],this.outer,I+S,p&&this.settings.videoMaxSize);f=this.getVideoContStyle(w)}if(y){var x=z(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,h,s.iframeTitle);o.prepend(x)}else if(l){var E="";v&&this.zoomFromOrigin&&this.currentImageSize&&(E=this.getDummyImageContent(o,t,""));x=A(l,E||"",f,this.settings.strings.playVideo,p);o.prepend(x)}else if(p){x='<div class="lg-video-cont " style="'+f+'"></div>';o.prepend(x)}else if(this.setImgMarkup(h,o,t),a||g){var O=o.find(".lg-object");this.initPictureFill(O)}(l||p)&&this.LGel.trigger(r,{index:t,src:h,html5Video:u,hasPoster:!!l}),this.LGel.trigger(n,{index:t}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(t)}var D=0;b&&!T(document.body).hasClass("lg-from-hash")&&(D=b),this.isFirstSlideWithZoomAnimation()&&(setTimeout((function(){o.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")}),this.settings.startAnimationDuration+100),o.hasClass("lg-loaded")||setTimeout((function(){if("image"===i.getSlideType(s)){var e=s.alt,n=e?'alt="'+e+'"':"";if(o.find(".lg-img-wrap").append(M(t,h,n,a,d,s.sources)),a||g){var r=o.find(".lg-object");i.initPictureFill(r)}}("image"===i.getSlideType(s)||"video"===i.getSlideType(s)&&l)&&(i.onLgObjectLoad(o,t,b,D,!0,!1),i.onSlideObjectLoad(o,!(!p||!p.html5||l),(function(){i.loadContentOnFirstSlideLoad(t,o,D)}),(function(){i.loadContentOnFirstSlideLoad(t,o,D)})))}),this.settings.startAnimationDuration+100)),o.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(s)||l)||this.onLgObjectLoad(o,t,b,D,v,!(!p||!p.html5||l)),this.zoomFromOrigin&&this.currentImageSize||!o.hasClass("lg-complete_")||this.lGalleryOn||setTimeout((function(){o.addClass("lg-complete")}),this.settings.backdropDuration),this.lGalleryOn=!0,!0===e&&(o.hasClass("lg-complete_")?this.preload(t):o.find(".lg-object").first().on("load.lg error.lg",(function(){i.preload(t)})))},t.prototype.loadContentOnFirstSlideLoad=function(t,e,i){var s=this;setTimeout((function(){e.find(".lg-dummy-img").remove(),e.removeClass("lg-first-slide"),s.outer.removeClass("lg-first-slide-loading"),s.isDummyImageRemoved=!0,s.preload(t)}),i+300)},t.prototype.getItemsToBeInsertedToDom=function(t,e,i){var s=this;void 0===i&&(i=0);var n=[],o=Math.max(i,3);o=Math.min(o,this.galleryItems.length);var r="lg-item-"+this.lgId+"-"+e;if(this.galleryItems.length<=3)return this.galleryItems.forEach((function(t,e){n.push("lg-item-"+s.lgId+"-"+e)})),n;if(t<(this.galleryItems.length-1)/2){for(var l=t;l>t-o/2&&l>=0;l--)n.push("lg-item-"+this.lgId+"-"+l);var a=n.length;for(l=0;l<o-a;l++)n.push("lg-item-"+this.lgId+"-"+(t+l+1))}else{for(l=t;l<=this.galleryItems.length-1&&l<t+o/2;l++)n.push("lg-item-"+this.lgId+"-"+l);for(a=n.length,l=0;l<o-a;l++)n.push("lg-item-"+this.lgId+"-"+(t-l-1))}return this.settings.loop&&(t===this.galleryItems.length-1?n.push("lg-item-"+this.lgId+"-0"):0===t&&n.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===n.indexOf(r)&&n.push("lg-item-"+this.lgId+"-"+e),n},t.prototype.organizeSlideItems=function(t,e){var i=this,s=this.getItemsToBeInsertedToDom(t,e,this.settings.numberOfSlideItemsInDom);return s.forEach((function(t){-1===i.currentItemsInDom.indexOf(t)&&i.$inner.append('<div id="'+t+'" class="lg-item"></div>')})),this.currentItemsInDom.forEach((function(t){-1===s.indexOf(t)&&T("#"+t).remove()})),s},t.prototype.getPreviousSlideIndex=function(){var t=0;try{var e=this.outer.find(".lg-current").first().attr("id");t=parseInt(e.split("-")[3])||0}catch(e){t=0}return t},t.prototype.setDownloadValue=function(t){if(this.settings.download){var e=this.galleryItems[t];if(!1===e.downloadUrl||"false"===e.downloadUrl)this.outer.addClass("lg-hide-download");else{var i=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),i.attr("href",e.downloadUrl||e.src),e.download&&i.attr("download",e.download)}}},t.prototype.makeSlideAnimation=function(t,e,i){var s=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout((function(){s.outer.addClass("lg-no-trans"),s.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===t?(e.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(e.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout((function(){s.outer.find(".lg-item").removeClass("lg-current"),e.addClass("lg-current"),s.outer.removeClass("lg-no-trans")}),50)}),this.lGalleryOn?this.settings.slideDelay:0)},t.prototype.slide=function(t,e,i,s){var n=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(t,o),!this.lGalleryOn||o!==t){var r=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(t);var l=this.getSlideItem(t),a=this.getSlideItem(o),d=this.galleryItems[t],g=d.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(d)),this.setDownloadValue(t),g){var h=this.mediaContainerPosition,c=h.top,p=h.bottom,f=L(this.items[t],this.outer,c+p,g&&this.settings.videoMaxSize);this.resizeVideoSlide(t,f)}if(this.LGel.trigger(u,{prevIndex:o,index:t,fromTouch:!!e,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(t),s||(t<o?s="prev":t>o&&(s="next")),e){this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var y=void 0,v=void 0;r>2?(y=t-1,v=t+1,(0===t&&o===r-1||t===r-1&&0===o)&&(v=0,y=r-1)):(y=0,v=1),"prev"===s?this.getSlideItem(v).addClass("lg-next-slide"):this.getSlideItem(y).addClass("lg-prev-slide"),l.addClass("lg-current")}else this.makeSlideAnimation(s,l,a);this.lGalleryOn?setTimeout((function(){n.loadContent(t,!0),".lg-item"!==n.settings.appendSubHtmlTo&&n.addHtml(t)}),this.settings.speed+50+(e?0:this.settings.slideDelay)):this.loadContent(t,!0),setTimeout((function(){n.lgBusy=!1,a.removeClass("lg-slide-progress"),n.LGel.trigger(m,{prevIndex:o,index:t,fromTouch:e,fromThumb:i})}),(this.lGalleryOn?this.settings.speed+100:100)+(e?0:this.settings.slideDelay))}this.index=t}},t.prototype.updateCurrentCounter=function(t){this.getElementById("lg-counter-current").html(t+1+"")},t.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},t.prototype.getSlideType=function(t){return t.__slideVideoInfo?"video":t.iframe?"iframe":"image"},t.prototype.touchMove=function(t,e,i){var s=e.pageX-t.pageX,n=e.pageY-t.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(s)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(n)>15&&(this.swipeDirection="vertical",o=!0),o){var r=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==i||i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(r,s,0);var l=r.get().offsetWidth,a=15*l/100-Math.abs(10*s/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-l+s-a,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),l+s+a,0)}else if("vertical"===this.swipeDirection&&this.settings.swipeToClose){null==i||i.preventDefault(),this.$container.addClass("lg-dragging-vertical");var d=1-Math.abs(n)/window.innerHeight;this.$backdrop.css("opacity",d);var g=1-Math.abs(n)/(2*window.innerWidth);this.setTranslate(r,0,n,g,g),Math.abs(n)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},t.prototype.touchEnd=function(t,e,i){var s,n=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout((function(){n.$container.removeClass("lg-dragging-vertical"),n.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var o=!0;if("horizontal"===n.swipeDirection){s=t.pageX-e.pageX;var r=Math.abs(t.pageX-e.pageX);s<0&&r>n.settings.swipeThreshold?(n.goToNextSlide(!0),o=!1):s>0&&r>n.settings.swipeThreshold&&(n.goToPrevSlide(!0),o=!1)}else if("vertical"===n.swipeDirection){if(s=Math.abs(t.pageY-e.pageY),n.settings.closable&&n.settings.swipeToClose&&s>100)return void n.closeGallery();n.$backdrop.css("opacity",1)}if(n.outer.find(".lg-item").removeAttr("style"),o&&Math.abs(t.pageX-e.pageX)<5){var l=T(i.target);n.isPosterElement(l)&&n.LGel.trigger(p)}n.swipeDirection=void 0})),setTimeout((function(){n.outer.hasClass("lg-dragging")||"lg-slide"===n.settings.mode||n.outer.removeClass("lg-slide")}),this.settings.speed+100)},t.prototype.enableSwipe=function(){var t=this,e={},i={},s=!1,n=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",(function(i){t.dragOrSwipeEnabled=!0;var s=t.getSlideItem(t.index);!T(i.target).hasClass("lg-item")&&!s.get().contains(i.target)||t.outer.hasClass("lg-zoomed")||t.lgBusy||1!==i.touches.length||(n=!0,t.touchAction="swipe",t.manageSwipeClass(),e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY})})),this.$inner.on("touchmove.lg",(function(o){n&&"swipe"===t.touchAction&&1===o.touches.length&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},t.touchMove(e,i,o),s=!0)})),this.$inner.on("touchend.lg",(function(o){if("swipe"===t.touchAction){if(s)s=!1,t.touchEnd(i,e,o);else if(n){var r=T(o.target);t.isPosterElement(r)&&t.LGel.trigger(p)}t.touchAction=void 0,n=!1}})))},t.prototype.enableDrag=function(){var t=this,e={},i={},s=!1,n=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",(function(i){t.dragOrSwipeEnabled=!0;var n=t.getSlideItem(t.index);(T(i.target).hasClass("lg-item")||n.get().contains(i.target))&&(t.outer.hasClass("lg-zoomed")||t.lgBusy||(i.preventDefault(),t.lgBusy||(t.manageSwipeClass(),e={pageX:i.pageX,pageY:i.pageY},s=!0,t.outer.get().scrollLeft+=1,t.outer.get().scrollLeft-=1,t.outer.removeClass("lg-grab").addClass("lg-grabbing"),t.LGel.trigger(f))))})),T(window).on("mousemove.lg.global"+this.lgId,(function(o){s&&t.lgOpened&&(n=!0,i={pageX:o.pageX,pageY:o.pageY},t.touchMove(e,i),t.LGel.trigger(y))})),T(window).on("mouseup.lg.global"+this.lgId,(function(o){if(t.lgOpened){var r=T(o.target);n?(n=!1,t.touchEnd(i,e,o),t.LGel.trigger(v)):t.isPosterElement(r)&&t.LGel.trigger(p),s&&(s=!1,t.outer.removeClass("lg-grabbing").addClass("lg-grab"))}})))},t.prototype.triggerPosterClick=function(){var t=this;this.$inner.on("click.lg",(function(e){!t.dragOrSwipeEnabled&&t.isPosterElement(T(e.target))&&t.LGel.trigger(p)}))},t.prototype.manageSwipeClass=function(){var t=this.index+1,e=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(0===this.index?e=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(t=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),e>-1&&this.getSlideItem(e).addClass("lg-prev-slide"),this.getSlideItem(t).addClass("lg-next-slide")},t.prototype.goToNextSlide=function(t){var e=this,i=this.settings.loop;t&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(b,{index:this.index}),this.slide(this.index,!!t,!1,"next")):i?(this.index=0,this.LGel.trigger(b,{index:this.index}),this.slide(this.index,!!t,!1,"next")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-right-end"),setTimeout((function(){e.outer.removeClass("lg-right-end")}),400)))},t.prototype.goToPrevSlide=function(t){var e=this,i=this.settings.loop;t&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(C,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(C,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-left-end"),setTimeout((function(){e.outer.removeClass("lg-left-end")}),400)))},t.prototype.keyPress=function(){var t=this;T(window).on("keydown.lg.global"+this.lgId,(function(e){t.lgOpened&&!0===t.settings.escKey&&27===e.keyCode&&(e.preventDefault(),t.settings.allowMediaOverlap&&t.outer.hasClass("lg-can-toggle")&&t.outer.hasClass("lg-components-open")?t.outer.removeClass("lg-components-open"):t.closeGallery()),t.lgOpened&&t.galleryItems.length>1&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()))}))},t.prototype.arrow=function(){var t=this;this.getElementById("lg-prev").on("click.lg",(function(){t.goToPrevSlide()})),this.getElementById("lg-next").on("click.lg",(function(){t.goToNextSlide()}))},t.prototype.arrowDisable=function(t){if(!this.settings.loop&&this.settings.hideControlOnEnd){var e=this.getElementById("lg-prev"),i=this.getElementById("lg-next");t+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),0===t?e.attr("disabled","disabled").addClass("disabled"):e.removeAttr("disabled").removeClass("disabled")}},t.prototype.setTranslate=function(t,e,i,s,n){void 0===s&&(s=1),void 0===n&&(n=1),t.css("transform","translate3d("+e+"px, "+i+"px, 0px) scale3d("+s+", "+n+", 1)")},t.prototype.mousewheel=function(){var t=this,e=0;this.outer.on("wheel.lg",(function(i){if(i.deltaY&&!(t.galleryItems.length<2)){i.preventDefault();var s=(new Date).getTime();s-e<1e3||(e=s,i.deltaY>0?t.goToNextSlide():i.deltaY<0&&t.goToPrevSlide())}}))},t.prototype.isSlideElement=function(t){return t.hasClass("lg-outer")||t.hasClass("lg-item")||t.hasClass("lg-img-wrap")},t.prototype.isPosterElement=function(t){var e=this.getSlideItem(this.index).find(".lg-video-play-button").get();return t.hasClass("lg-video-poster")||t.hasClass("lg-video-play-button")||e&&e.contains(t.get())},t.prototype.toggleMaximize=function(){var t=this;this.getElementById("lg-maximize").on("click.lg",(function(){t.$container.toggleClass("lg-inline"),t.refreshOnResize()}))},t.prototype.invalidateItems=function(){for(var t=0;t<this.items.length;t++){var e=T(this.items[t]);e.off("click.lgcustom-item-"+e.attr("data-lg-id"))}},t.prototype.trapFocus=function(){var t=this;this.$container.get().focus({preventScroll:!0}),T(window).on("keydown.lg.global"+this.lgId,(function(e){if(t.lgOpened&&("Tab"===e.key||9===e.keyCode)){var i=B(t.$container.get()),s=i[0],n=i[i.length-1];e.shiftKey?document.activeElement===s&&(n.focus(),e.preventDefault()):document.activeElement===n&&(s.focus(),e.preventDefault())}}))},t.prototype.manageCloseGallery=function(){var t=this;if(this.settings.closable){var e=!1;this.getElementById("lg-close").on("click.lg",(function(){t.closeGallery()})),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",(function(i){var s=T(i.target);e=!!t.isSlideElement(s)})),this.outer.on("mousemove.lg",(function(){e=!1})),this.outer.on("mouseup.lg",(function(i){var s=T(i.target);t.isSlideElement(s)&&e&&(t.outer.hasClass("lg-dragging")||t.closeGallery())})))}},t.prototype.closeGallery=function(t){var e=this;if(!this.lgOpened||!this.settings.closable&&!t)return 0;this.LGel.trigger(I),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&T(window).scrollTop(this.prevScrollTop);var i,s=this.items[this.index];if(this.zoomFromOrigin&&s){var n=this.mediaContainerPosition,o=n.top,r=n.bottom,l=this.galleryItems[this.index],a=l.__slideVideoInfo,d=l.poster,g=L(s,this.outer,o+r,a&&d&&this.settings.videoMaxSize);i=D(s,this.outer,o,r,g)}this.zoomFromOrigin&&i?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",i)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,T("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var h=this.zoomFromOrigin&&i?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout((function(){e.zoomFromOrigin&&i&&e.outer.removeClass("lg-zoom-from-image"),e.$container.removeClass("lg-show"),e.resetScrollBar(),e.$backdrop.removeAttr("style").css("transition-duration",e.settings.backdropDuration+"ms"),e.outer.removeClass("lg-closing "+e.settings.startClass),e.getSlideItem(e.index).removeClass("lg-start-end-progress"),e.$inner.empty(),e.lgOpened&&e.LGel.trigger(S,{instance:e}),e.$container.get()&&e.$container.get().blur(),e.lgOpened=!1}),h+100),h+100},t.prototype.initModules=function(){this.plugins.forEach((function(t){try{t.init()}catch(t){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}}))},t.prototype.destroyModules=function(t){this.plugins.forEach((function(e){try{t?e.destroy():e.closeGallery&&e.closeGallery()}catch(t){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}}))},t.prototype.refresh=function(t){this.settings.dynamic||this.invalidateItems(),this.galleryItems=t||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(a)},t.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},t.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),T(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},t.prototype.destroy=function(){var t=this.closeGallery(!0);return t?setTimeout(this.destroyGallery.bind(this),t):this.destroyGallery(),t},t}();const N=function(t,e){return new $(t,e)};(()=>{document.querySelectorAll(".feed-chapter__images-swiper .slide-feed-chapter__image-wrap");document.querySelectorAll("[data-lightgallery]").forEach((t=>{const e=t.dataset.description,i=N(t,{speed:500,licenseKey:"7EC452A9-0CFD441C-BD984C7C-17C8456E",appendCounterTo:".lg-content",selector:".slide-feed-chapter__image-wrap",appendSubHtmlTo:".lg-item"});t.addEventListener("lgBeforeSlide",(t=>{document.querySelectorAll(".lg-item").forEach((t=>{t.querySelector(".lg-sub-html")&&"true"===t.querySelector(".lg-sub-html").innerHTML&&t.classList.add("_is-vertical")}))})),t.addEventListener("lgBeforeOpen",(t=>{const s=i.$container.firstElement.querySelector(".lg-outer"),n=document.createElement("div");n.classList.add("gallery-description"),n.innerHTML=e,e&&s.append(n);document.querySelectorAll(".lg-item").forEach((t=>{t.querySelector(".lg-sub-html")&&"true"===t.querySelector(".lg-sub-html").innerHTML&&t.classList.add("_is-vertical")}))}))}))})()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUlnTixHQUN0QixPQUFPLElBQUlELEVBQWEvTSxFQUFJZ04sRUFDaEMsRUNycUZ5QnlPLE1BQ1JqYyxTQUFTRyxpQkFDdEIsZ0VBR0ZILFNBQVNHLGlCQUFpQix1QkFBdUJHLFNBQVM0YixJQUN4RCxNQUFNQyxFQUFjRCxFQUFRRSxRQUFRRCxZQUU5QkUsRUFBS0MsRUFBYUosRUFBUyxDQUMvQnJoQixNQUFPLElBQ1BDLFdBQVksc0NBQ1prRCxnQkFBaUIsY0FDakJYLFNBQVUsa0NBQ1ZKLGdCQUFpQixhQUduQmlmLEVBQVE5WCxpQkFBaUIsaUJBQWtCM0MsSUFDM0J6QixTQUFTRyxpQkFBaUIsWUFFbENHLFNBQVM2TCxJQUVYQSxFQUFLak0sY0FBYyxpQkFDOEIsU0FBakRpTSxFQUFLak0sY0FBYyxnQkFBZ0JtRixXQUVuQzhHLEVBQUtqSixVQUFVQyxJQUFJLGVBQ3JCLEdBQ0EsSUFFSitZLEVBQVE5WCxpQkFBaUIsZ0JBQWlCM0MsSUFDeEMsTUFBTXJHLEVBQVlpaEIsRUFBR3BNLFdBQVczUSxhQUFhWSxjQUFjLGFBQ3JEcWMsRUFBT3ZjLFNBQVM0QyxjQUFjLE9BRXBDMlosRUFBS3JaLFVBQVVDLElBQUksdUJBQ25Cb1osRUFBS2xYLFVBQVk4VyxFQUNqQkEsR0FBZS9nQixFQUFVa0ssT0FBT2lYLEdBRWxCdmMsU0FBU0csaUJBQWlCLFlBRWxDRyxTQUFTNkwsSUFFWEEsRUFBS2pNLGNBQWMsaUJBQzhCLFNBQWpEaU0sRUFBS2pNLGNBQWMsZ0JBQWdCbUYsV0FFbkM4RyxFQUFLakosVUFBVUMsSUFBSSxlQUNyQixHQUNBLEdBQ0YsR0FDRixFQUVKOFksRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9ub2RlX21vZHVsZXMvbGlnaHRnYWxsZXJ5L2xpZ2h0Z2FsbGVyeS5lczUuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL3NyYy9qcy9saWIvbGlnaHRnYWxsZXJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogbGlnaHRnYWxsZXJ5IHwgMi43LjIgfCBTZXB0ZW1iZXIgMjB0aCAyMDIzXG4gKiBodHRwOi8vd3d3LmxpZ2h0Z2FsbGVyeWpzLmNvbS9cbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYWNoaW4gTmVyYXZhdGg7XG4gKiBAbGljZW5zZSBHUEx2M1xuICovXG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxuXG4vKipcclxuICogTGlzdCBvZiBsaWdodEdhbGxlcnkgZXZlbnRzXHJcbiAqIEFsbCBldmVudHMgc2hvdWxkIGJlIGRvY3VtZW50ZWQgaGVyZVxyXG4gKiBCZWxvdyBpbnRlcmZhY2VzIGFyZSB1c2VkIHRvIGJ1aWxkIHRoZSB3ZWJzaXRlIGRvY3VtZW50YXRpb25zXHJcbiAqICovXHJcbnZhciBsR0V2ZW50cyA9IHtcclxuICAgIGFmdGVyQXBwZW5kU2xpZGU6ICdsZ0FmdGVyQXBwZW5kU2xpZGUnLFxyXG4gICAgaW5pdDogJ2xnSW5pdCcsXHJcbiAgICBoYXNWaWRlbzogJ2xnSGFzVmlkZW8nLFxyXG4gICAgY29udGFpbmVyUmVzaXplOiAnbGdDb250YWluZXJSZXNpemUnLFxyXG4gICAgdXBkYXRlU2xpZGVzOiAnbGdVcGRhdGVTbGlkZXMnLFxyXG4gICAgYWZ0ZXJBcHBlbmRTdWJIdG1sOiAnbGdBZnRlckFwcGVuZFN1Ykh0bWwnLFxyXG4gICAgYmVmb3JlT3BlbjogJ2xnQmVmb3JlT3BlbicsXHJcbiAgICBhZnRlck9wZW46ICdsZ0FmdGVyT3BlbicsXHJcbiAgICBzbGlkZUl0ZW1Mb2FkOiAnbGdTbGlkZUl0ZW1Mb2FkJyxcclxuICAgIGJlZm9yZVNsaWRlOiAnbGdCZWZvcmVTbGlkZScsXHJcbiAgICBhZnRlclNsaWRlOiAnbGdBZnRlclNsaWRlJyxcclxuICAgIHBvc3RlckNsaWNrOiAnbGdQb3N0ZXJDbGljaycsXHJcbiAgICBkcmFnU3RhcnQ6ICdsZ0RyYWdTdGFydCcsXHJcbiAgICBkcmFnTW92ZTogJ2xnRHJhZ01vdmUnLFxyXG4gICAgZHJhZ0VuZDogJ2xnRHJhZ0VuZCcsXHJcbiAgICBiZWZvcmVOZXh0U2xpZGU6ICdsZ0JlZm9yZU5leHRTbGlkZScsXHJcbiAgICBiZWZvcmVQcmV2U2xpZGU6ICdsZ0JlZm9yZVByZXZTbGlkZScsXHJcbiAgICBiZWZvcmVDbG9zZTogJ2xnQmVmb3JlQ2xvc2UnLFxyXG4gICAgYWZ0ZXJDbG9zZTogJ2xnQWZ0ZXJDbG9zZScsXHJcbiAgICByb3RhdGVMZWZ0OiAnbGdSb3RhdGVMZWZ0JyxcclxuICAgIHJvdGF0ZVJpZ2h0OiAnbGdSb3RhdGVSaWdodCcsXHJcbiAgICBmbGlwSG9yaXpvbnRhbDogJ2xnRmxpcEhvcml6b250YWwnLFxyXG4gICAgZmxpcFZlcnRpY2FsOiAnbGdGbGlwVmVydGljYWwnLFxyXG4gICAgYXV0b3BsYXk6ICdsZ0F1dG9wbGF5JyxcclxuICAgIGF1dG9wbGF5U3RhcnQ6ICdsZ0F1dG9wbGF5U3RhcnQnLFxyXG4gICAgYXV0b3BsYXlTdG9wOiAnbGdBdXRvcGxheVN0b3AnLFxyXG59O1xuXG52YXIgbGlnaHRHYWxsZXJ5Q29yZVNldHRpbmdzID0ge1xyXG4gICAgbW9kZTogJ2xnLXNsaWRlJyxcclxuICAgIGVhc2luZzogJ2Vhc2UnLFxyXG4gICAgc3BlZWQ6IDQwMCxcclxuICAgIGxpY2Vuc2VLZXk6ICcwMDAwLTAwMDAtMDAwLTAwMDAnLFxyXG4gICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgYWRkQ2xhc3M6ICcnLFxyXG4gICAgc3RhcnRDbGFzczogJ2xnLXN0YXJ0LXpvb20nLFxyXG4gICAgYmFja2Ryb3BEdXJhdGlvbjogMzAwLFxyXG4gICAgY29udGFpbmVyOiAnJyxcclxuICAgIHN0YXJ0QW5pbWF0aW9uRHVyYXRpb246IDQwMCxcclxuICAgIHpvb21Gcm9tT3JpZ2luOiB0cnVlLFxyXG4gICAgaGlkZUJhcnNEZWxheTogMCxcclxuICAgIHNob3dCYXJzQWZ0ZXI6IDEwMDAwLFxyXG4gICAgc2xpZGVEZWxheTogMCxcclxuICAgIHN1cHBvcnRMZWdhY3lCcm93c2VyOiB0cnVlLFxyXG4gICAgYWxsb3dNZWRpYU92ZXJsYXA6IGZhbHNlLFxyXG4gICAgdmlkZW9NYXhTaXplOiAnMTI4MC03MjAnLFxyXG4gICAgbG9hZFlvdVR1YmVQb3N0ZXI6IHRydWUsXHJcbiAgICBkZWZhdWx0Q2FwdGlvbkhlaWdodDogMCxcclxuICAgIGFyaWFMYWJlbGxlZGJ5OiAnJyxcclxuICAgIGFyaWFEZXNjcmliZWRieTogJycsXHJcbiAgICByZXNldFNjcm9sbFBvc2l0aW9uOiB0cnVlLFxyXG4gICAgaGlkZVNjcm9sbGJhcjogZmFsc2UsXHJcbiAgICBjbG9zYWJsZTogdHJ1ZSxcclxuICAgIHN3aXBlVG9DbG9zZTogdHJ1ZSxcclxuICAgIGNsb3NlT25UYXA6IHRydWUsXHJcbiAgICBzaG93Q2xvc2VJY29uOiB0cnVlLFxyXG4gICAgc2hvd01heGltaXplSWNvbjogZmFsc2UsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgZXNjS2V5OiB0cnVlLFxyXG4gICAga2V5UHJlc3M6IHRydWUsXHJcbiAgICB0cmFwRm9jdXM6IHRydWUsXHJcbiAgICBjb250cm9sczogdHJ1ZSxcclxuICAgIHNsaWRlRW5kQW5pbWF0aW9uOiB0cnVlLFxyXG4gICAgaGlkZUNvbnRyb2xPbkVuZDogZmFsc2UsXHJcbiAgICBtb3VzZXdoZWVsOiBmYWxzZSxcclxuICAgIGdldENhcHRpb25Gcm9tVGl0bGVPckFsdDogdHJ1ZSxcclxuICAgIGFwcGVuZFN1Ykh0bWxUbzogJy5sZy1zdWItaHRtbCcsXHJcbiAgICBzdWJIdG1sU2VsZWN0b3JSZWxhdGl2ZTogZmFsc2UsXHJcbiAgICBwcmVsb2FkOiAyLFxyXG4gICAgbnVtYmVyT2ZTbGlkZUl0ZW1zSW5Eb206IDEwLFxyXG4gICAgc2VsZWN0b3I6ICcnLFxyXG4gICAgc2VsZWN0V2l0aGluOiAnJyxcclxuICAgIG5leHRIdG1sOiAnJyxcclxuICAgIHByZXZIdG1sOiAnJyxcclxuICAgIGluZGV4OiAwLFxyXG4gICAgaWZyYW1lV2lkdGg6ICcxMDAlJyxcclxuICAgIGlmcmFtZUhlaWdodDogJzEwMCUnLFxyXG4gICAgaWZyYW1lTWF4V2lkdGg6ICcxMDAlJyxcclxuICAgIGlmcmFtZU1heEhlaWdodDogJzEwMCUnLFxyXG4gICAgZG93bmxvYWQ6IHRydWUsXHJcbiAgICBjb3VudGVyOiB0cnVlLFxyXG4gICAgYXBwZW5kQ291bnRlclRvOiAnLmxnLXRvb2xiYXInLFxyXG4gICAgc3dpcGVUaHJlc2hvbGQ6IDUwLFxyXG4gICAgZW5hYmxlU3dpcGU6IHRydWUsXHJcbiAgICBlbmFibGVEcmFnOiB0cnVlLFxyXG4gICAgZHluYW1pYzogZmFsc2UsXHJcbiAgICBkeW5hbWljRWw6IFtdLFxyXG4gICAgZXh0cmFQcm9wczogW10sXHJcbiAgICBleFRodW1iSW1hZ2U6ICcnLFxyXG4gICAgaXNNb2JpbGU6IHVuZGVmaW5lZCxcclxuICAgIG1vYmlsZVNldHRpbmdzOiB7XHJcbiAgICAgICAgY29udHJvbHM6IGZhbHNlLFxyXG4gICAgICAgIHNob3dDbG9zZUljb246IGZhbHNlLFxyXG4gICAgICAgIGRvd25sb2FkOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICBwbHVnaW5zOiBbXSxcclxuICAgIHN0cmluZ3M6IHtcclxuICAgICAgICBjbG9zZUdhbGxlcnk6ICdDbG9zZSBnYWxsZXJ5JyxcclxuICAgICAgICB0b2dnbGVNYXhpbWl6ZTogJ1RvZ2dsZSBtYXhpbWl6ZScsXHJcbiAgICAgICAgcHJldmlvdXNTbGlkZTogJ1ByZXZpb3VzIHNsaWRlJyxcclxuICAgICAgICBuZXh0U2xpZGU6ICdOZXh0IHNsaWRlJyxcclxuICAgICAgICBkb3dubG9hZDogJ0Rvd25sb2FkJyxcclxuICAgICAgICBwbGF5VmlkZW86ICdQbGF5IHZpZGVvJyxcclxuICAgICAgICBtZWRpYUxvYWRpbmdGYWlsZWQ6ICdPb3BzLi4uIEZhaWxlZCB0byBsb2FkIGNvbnRlbnQuLi4nLFxyXG4gICAgfSxcclxufTtcblxuZnVuY3Rpb24gaW5pdExnUG9seWZpbGxzKCkge1xyXG4gICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMpIHtcclxuICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHtcclxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkZXRhaWw6IG51bGwsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcclxuICAgICAgICAgICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcclxuICAgICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XHJcbiAgICB9KSgpO1xyXG4gICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICAgICAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG59XHJcbnZhciBsZ1F1ZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gbGdRdWVyeShzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuY3NzVmVuZGVyUHJlZml4ZXMgPSBbXHJcbiAgICAgICAgICAgICdUcmFuc2l0aW9uRHVyYXRpb24nLFxyXG4gICAgICAgICAgICAnVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJyxcclxuICAgICAgICAgICAgJ1RyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICdUcmFuc2l0aW9uJyxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSB0aGlzLl9nZXRTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5maXJzdEVsZW1lbnQgPSB0aGlzLl9nZXRGaXJzdEVsKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBsZ1F1ZXJ5LmdlbmVyYXRlVVVJRCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLl9nZXRTZWxlY3RvciA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xyXG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IGRvY3VtZW50OyB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcclxuICAgICAgICB2YXIgZmwgPSBzZWxlY3Rvci5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgaWYgKGZsID09PSAnIycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuX2VhY2ggPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuc2VsZWN0b3IsIGZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZnVuYyh0aGlzLnNlbGVjdG9yLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuX3NldENzc1ZlbmRvclByZWZpeCA9IGZ1bmN0aW9uIChlbCwgY3NzUHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gY3NzUHJvcGVydHkucmVwbGFjZSgvLShbYS16XSkvZ2ksIGZ1bmN0aW9uIChzLCBncm91cDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwMS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmNzc1ZlbmRlclByZWZpeGVzLmluZGV4T2YocHJvcGVydHkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBlbC5zdHlsZVtwcm9wZXJ0eS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBlbC5zdHlsZVsnd2Via2l0JyArIHByb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBlbC5zdHlsZVsnbW96JyArIHByb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBlbC5zdHlsZVsnbXMnICsgcHJvcGVydHldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGVsLnN0eWxlWydvJyArIHByb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLl9nZXRGaXJzdEVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yICYmIHRoaXMuc2VsZWN0b3IubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3JbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RvcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuaXNFdmVudE1hdGNoZWQgPSBmdW5jdGlvbiAoZXZlbnQsIGV2ZW50TmFtZSkge1xyXG4gICAgICAgIHZhciBldmVudE5hbWVzcGFjZSA9IGV2ZW50TmFtZS5zcGxpdCgnLicpO1xyXG4gICAgICAgIHJldHVybiBldmVudFxyXG4gICAgICAgICAgICAuc3BsaXQoJy4nKVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlOyB9KVxyXG4gICAgICAgICAgICAuZXZlcnkoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50TmFtZXNwYWNlLmluZGV4T2YoZSkgIT09IC0xO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmF0dHIgPSBmdW5jdGlvbiAoYXR0ciwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZmlyc3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RFbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuICRMRyh0aGlzLl9nZXRTZWxlY3RvcihzZWxlY3RvciwgdGhpcy5zZWxlY3RvcikpO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yICYmIHRoaXMuc2VsZWN0b3IubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRMRyh0aGlzLnNlbGVjdG9yWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkTEcodGhpcy5zZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuICRMRyh0aGlzLnNlbGVjdG9yW2luZGV4XSk7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkTEcodGhpcy5zZWxlY3Rvci5wYXJlbnRFbGVtZW50KTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEZpcnN0RWwoKTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5yZW1vdmVBdHRyID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICB2YXIgYXR0cnMgPSBhdHRyaWJ1dGVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgYXR0cnMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikgeyByZXR1cm4gZWwucmVtb3ZlQXR0cmlidXRlKGF0dHIpOyB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5maXJzdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgdGhpcy5maXJzdEVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgdGhpcy5maXJzdEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZmlyc3RFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5maXJzdEVsZW1lbnQpO1xyXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5maXJzdEVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZXMpIHtcclxuICAgICAgICBpZiAoY2xhc3NOYW1lcyA9PT0gdm9pZCAwKSB7IGNsYXNzTmFtZXMgPSAnJzsgfVxyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBtdWx0aXBsZSBhcmd1bWVudHNcclxuICAgICAgICAgICAgY2xhc3NOYW1lcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lcykge1xyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBtdWx0aXBsZSBhcmd1bWVudHNcclxuICAgICAgICAgICAgY2xhc3NOYW1lcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuaGFzQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5oYXNBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0cmlidXRlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0RWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS50b2dnbGVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZmlyc3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5oYXNDbGFzcyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3NldENzc1ZlbmRvclByZWZpeChlbCwgcHJvcGVydHksIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvLyBOZWVkIHRvIHBhc3Mgc2VwYXJhdGUgbmFtZXNwYWNlcyBmb3Igc2VwYXJhdGUgZWxlbWVudHNcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgbGlzdGVuZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxnUXVlcnkuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSkge1xyXG4gICAgICAgICAgICAgICAgbGdRdWVyeS5ldmVudExpc3RlbmVyc1tldmVudF0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZ1F1ZXJ5LmV2ZW50TGlzdGVuZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihldmVudC5zcGxpdCgnLicpWzBdLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLy8gQHRvZG8gLSB0ZXN0IHRoaXNcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLm9uKGV2ZW50LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9mZihldmVudCk7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmtleXMobGdRdWVyeS5ldmVudExpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0V2ZW50TWF0Y2hlZChldmVudCwgZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgbGdRdWVyeS5ldmVudExpc3RlbmVyc1tldmVudE5hbWVdLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUuc3BsaXQoJy4nKVswXSwgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsZ1F1ZXJ5LmV2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGRldGFpbCkge1xyXG4gICAgICAgIGlmICghdGhpcy5maXJzdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudC5zcGxpdCgnLicpWzBdLCB7XHJcbiAgICAgICAgICAgIGRldGFpbDogZGV0YWlsIHx8IG51bGwsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5maXJzdEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLy8gRG9lcyBub3Qgc3VwcG9ydCBJRVxyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGZldGNoKHVybClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLnRleHQoKTsgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0b3IuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICBpZiAoaHRtbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5maXJzdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBodG1sID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBodG1sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGh0bWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgaHRtbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uIChzY3JvbGxUb3ApIHtcclxuICAgICAgICBpZiAoc2Nyb2xsVG9wICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cucGFnZVlPZmZzZXQgfHxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8XHJcbiAgICAgICAgICAgICAgICAwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuc2Nyb2xsTGVmdCA9IGZ1bmN0aW9uIChzY3JvbGxMZWZ0KSB7XHJcbiAgICAgICAgaWYgKHNjcm9sbExlZnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cucGFnZVhPZmZzZXQgfHxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHxcclxuICAgICAgICAgICAgICAgIDApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmZpcnN0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgYm9keU1hcmdpbkxlZnQgPSAkTEcoJ2JvZHknKS5zdHlsZSgpLm1hcmdpbkxlZnQ7XHJcbiAgICAgICAgLy8gTWludXMgYm9keSBtYXJnaW4gLSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDcxMTU0OC9pcy1nZXRib3VuZGluZ2NsaWVudHJlY3QtbGVmdC1yZXR1cm5pbmctYS13cm9uZy12YWx1ZVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIHBhcnNlRmxvYXQoYm9keU1hcmdpbkxlZnQpICsgdGhpcy5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKyB0aGlzLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpcy5maXJzdEVsZW1lbnQuY3VycmVudFN0eWxlIHx8XHJcbiAgICAgICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZmlyc3RFbGVtZW50KSk7XHJcbiAgICB9O1xyXG4gICAgLy8gV2lkdGggd2l0aG91dCBwYWRkaW5nIGFuZCBib3JkZXIgZXZlbiBpZiBib3gtc2l6aW5nIGlzIHVzZWQuXHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlKCk7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmZpcnN0RWxlbWVudC5jbGllbnRXaWR0aCAtXHJcbiAgICAgICAgICAgIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpIC1cclxuICAgICAgICAgICAgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nUmlnaHQpKTtcclxuICAgIH07XHJcbiAgICAvLyBIZWlnaHQgd2l0aG91dCBwYWRkaW5nIGFuZCBib3JkZXIgZXZlbiBpZiBib3gtc2l6aW5nIGlzIHVzZWQuXHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5zdHlsZSgpO1xyXG4gICAgICAgIHJldHVybiAodGhpcy5maXJzdEVsZW1lbnQuY2xpZW50SGVpZ2h0IC1cclxuICAgICAgICAgICAgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSAtXHJcbiAgICAgICAgICAgIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkpO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkuZXZlbnRMaXN0ZW5lcnMgPSB7fTtcclxuICAgIHJldHVybiBsZ1F1ZXJ5O1xyXG59KCkpO1xyXG5mdW5jdGlvbiAkTEcoc2VsZWN0b3IpIHtcclxuICAgIGluaXRMZ1BvbHlmaWxscygpO1xyXG4gICAgcmV0dXJuIG5ldyBsZ1F1ZXJ5KHNlbGVjdG9yKTtcclxufVxuXG52YXIgZGVmYXVsdER5bmFtaWNPcHRpb25zID0gW1xyXG4gICAgJ3NyYycsXHJcbiAgICAnc291cmNlcycsXHJcbiAgICAnc3ViSHRtbCcsXHJcbiAgICAnc3ViSHRtbFVybCcsXHJcbiAgICAnaHRtbCcsXHJcbiAgICAndmlkZW8nLFxyXG4gICAgJ3Bvc3RlcicsXHJcbiAgICAnc2xpZGVOYW1lJyxcclxuICAgICdyZXNwb25zaXZlJyxcclxuICAgICdzcmNzZXQnLFxyXG4gICAgJ3NpemVzJyxcclxuICAgICdpZnJhbWUnLFxyXG4gICAgJ2Rvd25sb2FkVXJsJyxcclxuICAgICdkb3dubG9hZCcsXHJcbiAgICAnd2lkdGgnLFxyXG4gICAgJ2ZhY2Vib29rU2hhcmVVcmwnLFxyXG4gICAgJ3R3ZWV0VGV4dCcsXHJcbiAgICAnaWZyYW1lVGl0bGUnLFxyXG4gICAgJ3R3aXR0ZXJTaGFyZVVybCcsXHJcbiAgICAncGludGVyZXN0U2hhcmVVcmwnLFxyXG4gICAgJ3BpbnRlcmVzdFRleHQnLFxyXG4gICAgJ2ZiSHRtbCcsXHJcbiAgICAnZGlzcXVzSWRlbnRpZmllcicsXHJcbiAgICAnZGlzcXVzVXJsJyxcclxuXTtcclxuLy8gQ29udmVydCBodG1sIGRhdGEtYXR0cmlidXRlIHRvIGNhbWFsY2FzZVxyXG5mdW5jdGlvbiBjb252ZXJ0VG9EYXRhKGF0dHIpIHtcclxuICAgIC8vIEZJbmQgYSB3YXkgZm9yIGxnc2l6ZVxyXG4gICAgaWYgKGF0dHIgPT09ICdocmVmJykge1xyXG4gICAgICAgIHJldHVybiAnc3JjJztcclxuICAgIH1cclxuICAgIGF0dHIgPSBhdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpO1xyXG4gICAgYXR0ciA9IGF0dHIuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBhdHRyLnNsaWNlKDEpO1xyXG4gICAgYXR0ciA9IGF0dHIucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24gKGcpIHsgcmV0dXJuIGdbMV0udG9VcHBlckNhc2UoKTsgfSk7XHJcbiAgICByZXR1cm4gYXR0cjtcclxufVxyXG52YXIgdXRpbHMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIGdldCBwb3NzaWJsZSB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gdGhlIGxnU2l6ZSBhdHRyaWJ1dGUuIFVzZWQgZm9yIFpvb21Gcm9tT3JpZ2luIG9wdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRTaXplOiBmdW5jdGlvbiAoZWwsIGNvbnRhaW5lciwgc3BhY2luZywgZGVmYXVsdExnU2l6ZSkge1xyXG4gICAgICAgIGlmIChzcGFjaW5nID09PSB2b2lkIDApIHsgc3BhY2luZyA9IDA7IH1cclxuICAgICAgICB2YXIgTEdlbCA9ICRMRyhlbCk7XHJcbiAgICAgICAgdmFyIGxnU2l6ZSA9IExHZWwuYXR0cignZGF0YS1sZy1zaXplJykgfHwgZGVmYXVsdExnU2l6ZTtcclxuICAgICAgICBpZiAoIWxnU2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc1Jlc3BvbnNpdmVTaXplcyA9IGxnU2l6ZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgIC8vIGlmIGF0LWxlYXN0IHR3byB2aWV3cG9ydCBzaXplcyBhcmUgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYgKGlzUmVzcG9uc2l2ZVNpemVzWzFdKSB7XHJcbiAgICAgICAgICAgIHZhciB3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc1Jlc3BvbnNpdmVTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpemVfMSA9IGlzUmVzcG9uc2l2ZVNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNpdmVXaWR0aCA9IHBhcnNlSW50KHNpemVfMS5zcGxpdCgnLScpWzJdLCAxMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2l2ZVdpZHRoID4gd1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGdTaXplID0gc2l6ZV8xO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGFrZSBsYXN0IGl0ZW0gYXMgbGFzdCBvcHRpb25cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSBpc1Jlc3BvbnNpdmVTaXplcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGdTaXplID0gc2l6ZV8xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzaXplID0gbGdTaXplLnNwbGl0KCctJyk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VJbnQoc2l6ZVswXSwgMTApO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUludChzaXplWzFdLCAxMCk7XHJcbiAgICAgICAgdmFyIGNXaWR0aCA9IGNvbnRhaW5lci53aWR0aCgpO1xyXG4gICAgICAgIHZhciBjSGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCgpIC0gc3BhY2luZztcclxuICAgICAgICB2YXIgbWF4V2lkdGggPSBNYXRoLm1pbihjV2lkdGgsIHdpZHRoKTtcclxuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5taW4oY0hlaWdodCwgaGVpZ2h0KTtcclxuICAgICAgICB2YXIgcmF0aW8gPSBNYXRoLm1pbihtYXhXaWR0aCAvIHdpZHRoLCBtYXhIZWlnaHQgLyBoZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiB7IHdpZHRoOiB3aWR0aCAqIHJhdGlvLCBoZWlnaHQ6IGhlaWdodCAqIHJhdGlvIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzYyBHZXQgdHJhbnNmb3JtIHZhbHVlIGJhc2VkIG9uIHRoZSBpbWFnZVNpemUuIFVzZWQgZm9yIFpvb21Gcm9tT3JpZ2luIG9wdGlvblxyXG4gICAgICogQHBhcmFtIHtqUXVlcnkgRWxlbWVudH1cclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRyYW5zZm9ybSBDU1Mgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIGdldFRyYW5zZm9ybTogZnVuY3Rpb24gKGVsLCBjb250YWluZXIsIHRvcCwgYm90dG9tLCBpbWFnZVNpemUpIHtcclxuICAgICAgICBpZiAoIWltYWdlU2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBMR2VsID0gJExHKGVsKS5maW5kKCdpbWcnKS5maXJzdCgpO1xyXG4gICAgICAgIGlmICghTEdlbC5nZXQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHZhciB3V2lkdGggPSBjb250YWluZXJSZWN0LndpZHRoO1xyXG4gICAgICAgIC8vIHVzaW5nIGlubmVyV2lkdGggdG8gaW5jbHVkZSBtb2JpbGUgc2FmYXJpIGJvdHRvbSBiYXJcclxuICAgICAgICB2YXIgd0hlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQoKSAtICh0b3AgKyBib3R0b20pO1xyXG4gICAgICAgIHZhciBlbFdpZHRoID0gTEdlbC53aWR0aCgpO1xyXG4gICAgICAgIHZhciBlbEhlaWdodCA9IExHZWwuaGVpZ2h0KCk7XHJcbiAgICAgICAgdmFyIGVsU3R5bGUgPSBMR2VsLnN0eWxlKCk7XHJcbiAgICAgICAgdmFyIHggPSAod1dpZHRoIC0gZWxXaWR0aCkgLyAyIC1cclxuICAgICAgICAgICAgTEdlbC5vZmZzZXQoKS5sZWZ0ICtcclxuICAgICAgICAgICAgKHBhcnNlRmxvYXQoZWxTdHlsZS5wYWRkaW5nTGVmdCkgfHwgMCkgK1xyXG4gICAgICAgICAgICAocGFyc2VGbG9hdChlbFN0eWxlLmJvcmRlckxlZnQpIHx8IDApICtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykuc2Nyb2xsTGVmdCgpICtcclxuICAgICAgICAgICAgY29udGFpbmVyUmVjdC5sZWZ0O1xyXG4gICAgICAgIHZhciB5ID0gKHdIZWlnaHQgLSBlbEhlaWdodCkgLyAyIC1cclxuICAgICAgICAgICAgTEdlbC5vZmZzZXQoKS50b3AgK1xyXG4gICAgICAgICAgICAocGFyc2VGbG9hdChlbFN0eWxlLnBhZGRpbmdUb3ApIHx8IDApICtcclxuICAgICAgICAgICAgKHBhcnNlRmxvYXQoZWxTdHlsZS5ib3JkZXJUb3ApIHx8IDApICtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykuc2Nyb2xsVG9wKCkgK1xyXG4gICAgICAgICAgICB0b3A7XHJcbiAgICAgICAgdmFyIHNjWCA9IGVsV2lkdGggLyBpbWFnZVNpemUud2lkdGg7XHJcbiAgICAgICAgdmFyIHNjWSA9IGVsSGVpZ2h0IC8gaW1hZ2VTaXplLmhlaWdodDtcclxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKCcgK1xyXG4gICAgICAgICAgICAoeCAqPSAtMSkgK1xyXG4gICAgICAgICAgICAncHgsICcgK1xyXG4gICAgICAgICAgICAoeSAqPSAtMSkgK1xyXG4gICAgICAgICAgICAncHgsIDApIHNjYWxlM2QoJyArXHJcbiAgICAgICAgICAgIHNjWCArXHJcbiAgICAgICAgICAgICcsICcgK1xyXG4gICAgICAgICAgICBzY1kgK1xyXG4gICAgICAgICAgICAnLCAxKSc7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcclxuICAgIH0sXHJcbiAgICBnZXRJZnJhbWVNYXJrdXA6IGZ1bmN0aW9uIChpZnJhbWVXaWR0aCwgaWZyYW1lSGVpZ2h0LCBpZnJhbWVNYXhXaWR0aCwgaWZyYW1lTWF4SGVpZ2h0LCBzcmMsIGlmcmFtZVRpdGxlKSB7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gaWZyYW1lVGl0bGUgPyAndGl0bGU9XCInICsgaWZyYW1lVGl0bGUgKyAnXCInIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwibGctdmlkZW8tY29udCBsZy1oYXMtaWZyYW1lXFxcIiBzdHlsZT1cXFwid2lkdGg6XCIgKyBpZnJhbWVXaWR0aCArIFwiOyBtYXgtd2lkdGg6XCIgKyBpZnJhbWVNYXhXaWR0aCArIFwiOyBoZWlnaHQ6IFwiICsgaWZyYW1lSGVpZ2h0ICsgXCI7IG1heC1oZWlnaHQ6XCIgKyBpZnJhbWVNYXhIZWlnaHQgKyBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aWZyYW1lIGNsYXNzPVxcXCJsZy1vYmplY3RcXFwiIGZyYW1lYm9yZGVyPVxcXCIwXFxcIiBcIiArIHRpdGxlICsgXCIgc3JjPVxcXCJcIiArIHNyYyArIFwiXFxcIiAgYWxsb3dmdWxsc2NyZWVuPVxcXCJ0cnVlXFxcIj48L2lmcmFtZT5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XCI7XHJcbiAgICB9LFxyXG4gICAgZ2V0SW1nTWFya3VwOiBmdW5jdGlvbiAoaW5kZXgsIHNyYywgYWx0QXR0ciwgc3Jjc2V0LCBzaXplcywgc291cmNlcykge1xyXG4gICAgICAgIHZhciBzcmNzZXRBdHRyID0gc3Jjc2V0ID8gXCJzcmNzZXQ9XFxcIlwiICsgc3Jjc2V0ICsgXCJcXFwiXCIgOiAnJztcclxuICAgICAgICB2YXIgc2l6ZXNBdHRyID0gc2l6ZXMgPyBcInNpemVzPVxcXCJcIiArIHNpemVzICsgXCJcXFwiXCIgOiAnJztcclxuICAgICAgICB2YXIgaW1nTWFya3VwID0gXCI8aW1nIFwiICsgYWx0QXR0ciArIFwiIFwiICsgc3Jjc2V0QXR0ciArIFwiICBcIiArIHNpemVzQXR0ciArIFwiIGNsYXNzPVxcXCJsZy1vYmplY3QgbGctaW1hZ2VcXFwiIGRhdGEtaW5kZXg9XFxcIlwiICsgaW5kZXggKyBcIlxcXCIgc3JjPVxcXCJcIiArIHNyYyArIFwiXFxcIiAvPlwiO1xyXG4gICAgICAgIHZhciBzb3VyY2VUYWcgPSAnJztcclxuICAgICAgICBpZiAoc291cmNlcykge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlT2JqID0gdHlwZW9mIHNvdXJjZXMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShzb3VyY2VzKSA6IHNvdXJjZXM7XHJcbiAgICAgICAgICAgIHNvdXJjZVRhZyA9IHNvdXJjZU9iai5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gJyc7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCByZW1vdmUgdGhlIGZpcnN0IHNwYWNlIGFzIGl0IGlzIHJlcXVpcmVkIHRvIHNlcGFyYXRlIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMgKz0gXCIgXCIgKyBrZXkgKyBcIj1cXFwiXCIgKyBzb3VyY2Vba2V5XSArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8c291cmNlIFwiICsgYXR0cnMgKyBcIj48L3NvdXJjZT5cIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiICsgc291cmNlVGFnICsgaW1nTWFya3VwO1xyXG4gICAgfSxcclxuICAgIC8vIEdldCBzcmMgZnJvbSByZXNwb25zaXZlIHNyY1xyXG4gICAgZ2V0UmVzcG9uc2l2ZVNyYzogZnVuY3Rpb24gKHNyY0l0bXMpIHtcclxuICAgICAgICB2YXIgcnNXaWR0aCA9IFtdO1xyXG4gICAgICAgIHZhciByc1NyYyA9IFtdO1xyXG4gICAgICAgIHZhciBzcmMgPSAnJztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNyY0l0bXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIF9zcmMgPSBzcmNJdG1zW2ldLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIC8vIE1hbmFnZSBlbXB0eSBzcGFjZVxyXG4gICAgICAgICAgICBpZiAoX3NyY1swXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIF9zcmMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJzU3JjLnB1c2goX3NyY1swXSk7XHJcbiAgICAgICAgICAgIHJzV2lkdGgucHVzaChfc3JjWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnNXaWR0aC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQocnNXaWR0aFtqXSwgMTApID4gd1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzcmMgPSByc1NyY1tqXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcmM7XHJcbiAgICB9LFxyXG4gICAgaXNJbWFnZUxvYWRlZDogZnVuY3Rpb24gKGltZykge1xyXG4gICAgICAgIGlmICghaW1nKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gRHVyaW5nIHRoZSBvbmxvYWQgZXZlbnQsIElFIGNvcnJlY3RseSBpZGVudGlmaWVzIGFueSBpbWFnZXMgdGhhdFxyXG4gICAgICAgIC8vIHdlcmVu4oCZdCBkb3dubG9hZGVkIGFzIG5vdCBjb21wbGV0ZS4gT3RoZXJzIHNob3VsZCB0b28uIEdlY2tvLWJhc2VkXHJcbiAgICAgICAgLy8gYnJvd3NlcnMgYWN0IGxpa2UgTlM0IGluIHRoYXQgdGhleSByZXBvcnQgdGhpcyBpbmNvcnJlY3RseS5cclxuICAgICAgICBpZiAoIWltZy5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhvd2V2ZXIsIHRoZXkgZG8gaGF2ZSB0d28gdmVyeSB1c2VmdWwgcHJvcGVydGllczogbmF0dXJhbFdpZHRoIGFuZFxyXG4gICAgICAgIC8vIG5hdHVyYWxIZWlnaHQuIFRoZXNlIGdpdmUgdGhlIHRydWUgc2l6ZSBvZiB0aGUgaW1hZ2UuIElmIGl0IGZhaWxlZFxyXG4gICAgICAgIC8vIHRvIGxvYWQsIGVpdGhlciBvZiB0aGVzZSBzaG91bGQgYmUgemVyby5cclxuICAgICAgICBpZiAoaW1nLm5hdHVyYWxXaWR0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vIG90aGVyIHdheSBvZiBjaGVja2luZzogYXNzdW1lIGl04oCZcyBvay5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBnZXRWaWRlb1Bvc3Rlck1hcmt1cDogZnVuY3Rpb24gKF9wb3N0ZXIsIGR1bW15SW1nLCB2aWRlb0NvbnRTdHlsZSwgcGxheVZpZGVvU3RyaW5nLCBfaXNWaWRlbykge1xyXG4gICAgICAgIHZhciB2aWRlb0NsYXNzID0gJyc7XHJcbiAgICAgICAgaWYgKF9pc1ZpZGVvICYmIF9pc1ZpZGVvLnlvdXR1YmUpIHtcclxuICAgICAgICAgICAgdmlkZW9DbGFzcyA9ICdsZy1oYXMteW91dHViZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF9pc1ZpZGVvICYmIF9pc1ZpZGVvLnZpbWVvKSB7XHJcbiAgICAgICAgICAgIHZpZGVvQ2xhc3MgPSAnbGctaGFzLXZpbWVvJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvQ2xhc3MgPSAnbGctaGFzLWh0bWw1JztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwibGctdmlkZW8tY29udCBcIiArIHZpZGVvQ2xhc3MgKyBcIlxcXCIgc3R5bGU9XFxcIlwiICsgdmlkZW9Db250U3R5bGUgKyBcIlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktYnV0dG9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHN2Z1xcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cXFwiMCAwIDIwIDIwXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cXFwieE1pZFlNaWRcXFwiXFxuICAgICAgICAgICAgICAgICAgICBmb2N1c2FibGU9XFxcImZhbHNlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVxcXCJcIiArIHBsYXlWaWRlb1N0cmluZyArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cXFwiaW1nXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktaWNvblxcXCJcXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgPHRpdGxlPlwiICsgcGxheVZpZGVvU3RyaW5nICsgXCI8L3RpdGxlPlxcbiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktaWNvbi1pbm5lclxcXCIgcG9pbnRzPVxcXCIxLDAgMjAsMTAgMSwyMFxcXCI+PC9wb2x5Z29uPlxcbiAgICAgICAgICAgICAgICA8L3N2Zz5cXG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cXFwibGctdmlkZW8tcGxheS1pY29uLWJnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNTAgNTBcXFwiIGZvY3VzYWJsZT1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cXFwiNTAlXFxcIiBjeT1cXFwiNTAlXFxcIiByPVxcXCIyMFxcXCI+PC9jaXJjbGU+PC9zdmc+XFxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktaWNvbi1jaXJjbGVcXFwiIHZpZXdCb3g9XFxcIjAgMCA1MCA1MFxcXCIgZm9jdXNhYmxlPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVxcXCI1MCVcXFwiIGN5PVxcXCI1MCVcXFwiIHI9XFxcIjIwXFxcIj48L2NpcmNsZT5cXG4gICAgICAgICAgICAgICAgPC9zdmc+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCIgKyAoZHVtbXlJbWcgfHwgJycpICsgXCJcXG4gICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJsZy1vYmplY3QgbGctdmlkZW8tcG9zdGVyXFxcIiBzcmM9XFxcIlwiICsgX3Bvc3RlciArIFwiXFxcIiAvPlxcbiAgICAgICAgPC9kaXY+XCI7XHJcbiAgICB9LFxyXG4gICAgZ2V0Rm9jdXNhYmxlRWxlbWVudHM6IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXTpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgaW5wdXRbdHlwZT1cInRleHRcIl06bm90KFtkaXNhYmxlZF0pLCBpbnB1dFt0eXBlPVwicmFkaW9cIl06bm90KFtkaXNhYmxlZF0pLCBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pJyk7XHJcbiAgICAgICAgdmFyIHZpc2libGVFbGVtZW50cyA9IFtdLmZpbHRlci5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmRpc3BsYXkgIT09ICdub25lJyAmJiBzdHlsZS52aXNpYmlsaXR5ICE9PSAnaGlkZGVuJztcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdmlzaWJsZUVsZW1lbnRzO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2MgQ3JlYXRlIGR5bmFtaWMgZWxlbWVudHMgYXJyYXkgZnJvbSBnYWxsZXJ5IGl0ZW1zIHdoZW4gZHluYW1pYyBvcHRpb24gaXMgZmFsc2VcclxuICAgICAqIEl0IGhlbHBzIHRvIGF2b2lkIGZyZXF1ZW50IERPTSBpbnRlcmFjdGlvblxyXG4gICAgICogYW5kIGF2b2lkIG11bHRpcGxlIGNoZWNrcyBmb3IgZHluYW1pYyBlbG1lbnRzXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge0FycmF5fSBkeW5hbWljRWxcclxuICAgICAqL1xyXG4gICAgZ2V0RHluYW1pY09wdGlvbnM6IGZ1bmN0aW9uIChpdGVtcywgZXh0cmFQcm9wcywgZ2V0Q2FwdGlvbkZyb21UaXRsZU9yQWx0LCBleFRodW1iSW1hZ2UpIHtcclxuICAgICAgICB2YXIgZHluYW1pY0VsZW1lbnRzID0gW107XHJcbiAgICAgICAgdmFyIGF2YWlsYWJsZUR5bmFtaWNPcHRpb25zID0gX19zcHJlYWRBcnJheXMoZGVmYXVsdER5bmFtaWNPcHRpb25zLCBleHRyYVByb3BzKTtcclxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBkeW5hbWljRWwgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyID0gaXRlbS5hdHRyaWJ1dGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dHIuc3BlY2lmaWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR5bmFtaWNBdHRyID0gY29udmVydFRvRGF0YShhdHRyLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVEeW5hbWljT3B0aW9ucy5pbmRleE9mKGR5bmFtaWNBdHRyKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gZHluYW1pY0F0dHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljRWxbbGFiZWxdID0gYXR0ci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gJExHKGl0ZW0pO1xyXG4gICAgICAgICAgICB2YXIgYWx0ID0gY3VycmVudEl0ZW0uZmluZCgnaW1nJykuZmlyc3QoKS5hdHRyKCdhbHQnKTtcclxuICAgICAgICAgICAgdmFyIHRpdGxlID0gY3VycmVudEl0ZW0uYXR0cigndGl0bGUnKTtcclxuICAgICAgICAgICAgdmFyIHRodW1iID0gZXhUaHVtYkltYWdlXHJcbiAgICAgICAgICAgICAgICA/IGN1cnJlbnRJdGVtLmF0dHIoZXhUaHVtYkltYWdlKVxyXG4gICAgICAgICAgICAgICAgOiBjdXJyZW50SXRlbS5maW5kKCdpbWcnKS5maXJzdCgpLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgICAgICBkeW5hbWljRWwudGh1bWIgPSB0aHVtYjtcclxuICAgICAgICAgICAgaWYgKGdldENhcHRpb25Gcm9tVGl0bGVPckFsdCAmJiAhZHluYW1pY0VsLnN1Ykh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNFbC5zdWJIdG1sID0gdGl0bGUgfHwgYWx0IHx8ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGR5bmFtaWNFbC5hbHQgPSBhbHQgfHwgdGl0bGUgfHwgJyc7XHJcbiAgICAgICAgICAgIGR5bmFtaWNFbGVtZW50cy5wdXNoKGR5bmFtaWNFbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGR5bmFtaWNFbGVtZW50cztcclxuICAgIH0sXHJcbiAgICBpc01vYmlsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAvaVBob25lfGlQYWR8aVBvZHxBbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjIENoZWNrIHRoZSBnaXZlbiBzcmMgaXMgdmlkZW9cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzcmNcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdmlkZW8gdHlwZVxyXG4gICAgICogRXg6eyB5b3V0dWJlICA6ICBbXCIvL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWMwYXNKZ1N5eGNZXCIsIFwiYzBhc0pnU3l4Y1lcIl0gfVxyXG4gICAgICpcclxuICAgICAqIEB0b2RvIC0gdGhpcyBpbmZvcm1hdGlvbiBjYW4gYmUgbW92ZWQgdG8gZHluYW1pY0VsIHRvIGF2b2lkIGZyZXF1ZW50IGNhbGxzXHJcbiAgICAgKi9cclxuICAgIGlzVmlkZW86IGZ1bmN0aW9uIChzcmMsIGlzSFRNTDVWSWRlbywgaW5kZXgpIHtcclxuICAgICAgICBpZiAoIXNyYykge1xyXG4gICAgICAgICAgICBpZiAoaXNIVE1MNVZJZGVvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw1OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xpZ2h0R2FsbGVyeSA6LSBkYXRhLXNyYyBpcyBub3QgcHJvdmlkZWQgb24gc2xpZGUgaXRlbSAnICtcclxuICAgICAgICAgICAgICAgICAgICAoaW5kZXggKyAxKSArXHJcbiAgICAgICAgICAgICAgICAgICAgJy4gUGxlYXNlIG1ha2Ugc3VyZSB0aGUgc2VsZWN0b3IgcHJvcGVydHkgaXMgcHJvcGVybHkgY29uZmlndXJlZC4gTW9yZSBpbmZvIC0gaHR0cHM6Ly93d3cubGlnaHRnYWxsZXJ5anMuY29tL2RlbW9zL2h0bWwtbWFya3VwLycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB5b3V0dWJlID0gc3JjLm1hdGNoKC9cXC9cXC8oPzp3d3dcXC4pP3lvdXR1KD86XFwuYmV8YmVcXC5jb218YmUtbm9jb29raWVcXC5jb20pXFwvKD86d2F0Y2hcXD92PXxlbWJlZFxcLyk/KFthLXowLTlcXC1cXF9cXCVdKykoW1xcJnw/XVtcXFNdKikqL2kpO1xyXG4gICAgICAgIHZhciB2aW1lbyA9IHNyYy5tYXRjaCgvXFwvXFwvKD86d3d3XFwuKT8oPzpwbGF5ZXJcXC4pP3ZpbWVvLmNvbVxcLyg/OnZpZGVvXFwvKT8oWzAtOWEtelxcLV9dKykoLiopPy9pKTtcclxuICAgICAgICB2YXIgd2lzdGlhID0gc3JjLm1hdGNoKC9odHRwcz86XFwvXFwvKC4rKT8od2lzdGlhXFwuY29tfHdpXFwuc3QpXFwvKG1lZGlhc3xlbWJlZClcXC8oWzAtOWEtelxcLV9dKykoLiopLyk7XHJcbiAgICAgICAgaWYgKHlvdXR1YmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHlvdXR1YmU6IHlvdXR1YmUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZpbWVvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB2aW1lbzogdmltZW8sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHdpc3RpYSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgd2lzdGlhOiB3aXN0aWEsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufTtcblxuLy8gQHJlZiAtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NzE4NDEvaG93LXRvLXJlc2l6ZS1pbWFnZXMtcHJvcG9ydGlvbmFsbHkta2VlcGluZy10aGUtYXNwZWN0LXJhdGlvXHJcbi8vIEByZWYgLSBodHRwczovLzJhbGl0eS5jb20vMjAxNy8wNC9zZXR0aW5nLXVwLW11bHRpLXBsYXRmb3JtLXBhY2thZ2VzLmh0bWxcclxuLy8gVW5pcXVlIGlkIGZvciBlYWNoIGdhbGxlcnlcclxudmFyIGxnSWQgPSAwO1xyXG52YXIgTGlnaHRHYWxsZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTGlnaHRHYWxsZXJ5KGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmxnT3BlbmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgLy8gbGlnaHRHYWxsZXJ5IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnBsdWdpbnMgPSBbXTtcclxuICAgICAgICAvLyBmYWxzZSB3aGVuIGxpZ2h0R2FsbGVyeSBsb2FkIGZpcnN0IHNsaWRlIGNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5sR2FsbGVyeU9uID0gZmFsc2U7XHJcbiAgICAgICAgLy8gVHJ1ZSB3aGVuIGEgc2xpZGUgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzXHJcbiAgICAgICAgdGhpcy5sZ0J1c3kgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc0luRG9tID0gW107XHJcbiAgICAgICAgLy8gU2Nyb2xsIHRvcCB2YWx1ZSBiZWZvcmUgbGlnaHRHYWxsZXJ5IGlzIG9wZW5lZFxyXG4gICAgICAgIHRoaXMucHJldlNjcm9sbFRvcCA9IDA7XHJcbiAgICAgICAgdGhpcy5ib2R5UGFkZGluZ1JpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLmlzRHVtbXlJbWFnZVJlbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRyYWdPclN3aXBlRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxnSWQrKztcclxuICAgICAgICB0aGlzLmxnSWQgPSBsZ0lkO1xyXG4gICAgICAgIHRoaXMuZWwgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMuTEdlbCA9ICRMRyhlbGVtZW50KTtcclxuICAgICAgICB0aGlzLmdlbmVyYXRlU2V0dGluZ3Mob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5idWlsZE1vZHVsZXMoKTtcclxuICAgICAgICAvLyBXaGVuIHVzaW5nIGR5bmFtaWMgbW9kZSwgZW5zdXJlIGR5bmFtaWNFbCBpcyBhbiBhcnJheVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmR5bmFtaWMgJiZcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5keW5hbWljRWwgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAhQXJyYXkuaXNBcnJheSh0aGlzLnNldHRpbmdzLmR5bmFtaWNFbCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgJ1doZW4gdXNpbmcgZHluYW1pYyBtb2RlLCB5b3UgbXVzdCBhbHNvIGRlZmluZSBkeW5hbWljRWwgYXMgYW4gQXJyYXkuJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5SXRlbXMgPSB0aGlzLmdldEl0ZW1zKCk7XHJcbiAgICAgICAgdGhpcy5ub3JtYWxpemVTZXR0aW5ncygpO1xyXG4gICAgICAgIC8vIEdhbGxlcnkgaXRlbXNcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB0aGlzLnZhbGlkYXRlTGljZW5zZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZW5lcmF0ZVNldHRpbmdzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAvLyBsaWdodEdhbGxlcnkgc2V0dGluZ3NcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGxpZ2h0R2FsbGVyeUNvcmVTZXR0aW5ncyksIG9wdGlvbnMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmlzTW9iaWxlICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLnNldHRpbmdzLmlzTW9iaWxlID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgID8gdGhpcy5zZXR0aW5ncy5pc01vYmlsZSgpXHJcbiAgICAgICAgICAgIDogdXRpbHMuaXNNb2JpbGUoKSkge1xyXG4gICAgICAgICAgICB2YXIgbW9iaWxlU2V0dGluZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5zZXR0aW5ncy5tb2JpbGVTZXR0aW5ncyksIHRoaXMuc2V0dGluZ3MubW9iaWxlU2V0dGluZ3MpO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuc2V0dGluZ3MpLCBtb2JpbGVTZXR0aW5ncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUubm9ybWFsaXplU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2xpZGVFbmRBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5oaWRlQ29udHJvbE9uRW5kID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5jbG9zYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnN3aXBlVG9DbG9zZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBbmQgcmVzZXQgaXQgb24gY2xvc2UgdG8gZ2V0IHRoZSBjb3JyZWN0IHZhbHVlIG5leHQgdGltZVxyXG4gICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gPSB0aGlzLnNldHRpbmdzLnpvb21Gcm9tT3JpZ2luO1xyXG4gICAgICAgIC8vIEF0IHRoZSBtb21lbnQsIFpvb20gZnJvbSBpbWFnZSBkb2Vzbid0IHN1cHBvcnQgZHluYW1pYyBvcHRpb25zXHJcbiAgICAgICAgLy8gQHRvZG8gYWRkIHpvb21Gcm9tT3JpZ2luIHN1cHBvcnQgZm9yIGR5bmFtaWMgaW1hZ2VzXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Gcm9tT3JpZ2luID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXR0aW5ncy5wcmVsb2FkIHNob3VsZCBub3QgYmUgZ3JhdGVyIHRoYW4gJGl0ZW0ubGVuZ3RoXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wcmVsb2FkID0gTWF0aC5taW4odGhpcy5zZXR0aW5ncy5wcmVsb2FkLCB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGgpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYWRkU2xpZGVWaWRlb0luZm8odGhpcy5nYWxsZXJ5SXRlbXMpO1xyXG4gICAgICAgIHRoaXMuYnVpbGRTdHJ1Y3R1cmUoKTtcclxuICAgICAgICB0aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5pbml0LCB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmtleVByZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5UHJlc3MoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVuYWJsZURyYWcoKTtcclxuICAgICAgICAgICAgX3RoaXMuZW5hYmxlU3dpcGUoKTtcclxuICAgICAgICAgICAgX3RoaXMudHJpZ2dlclBvc3RlckNsaWNrKCk7XHJcbiAgICAgICAgfSwgNTApO1xyXG4gICAgICAgIHRoaXMuYXJyb3coKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb3VzZXdoZWVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2V3aGVlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5HYWxsZXJ5T25JdGVtQ2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5vcGVuR2FsbGVyeU9uSXRlbUNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzXzEuaXRlbXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkTEcoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIFVzaW5nIGRpZmZlcmVudCBuYW1lc3BhY2UgZm9yIGNsaWNrIGJlY2F1c2UgY2xpY2sgZXZlbnQgc2hvdWxkIG5vdCB1bmJpbmQgaWYgc2VsZWN0b3IgaXMgc2FtZSBvYmplY3QoJ3RoaXMnKVxyXG4gICAgICAgICAgICAvLyBAdG9kbyBtYW5hZ2UgYWxsIGV2ZW50IGxpc3RuZXJzIC0gc2hvdWxkIGhhdmUgbmFtZXNwYWNlIHRoYXQgcmVwcmVzZW50IGVsZW1lbnRcclxuICAgICAgICAgICAgdmFyIHV1aWQgPSBsZ1F1ZXJ5LmdlbmVyYXRlVVVJRCgpO1xyXG4gICAgICAgICAgICAkZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtbGctaWQnLCB1dWlkKVxyXG4gICAgICAgICAgICAgICAgLm9uKFwiY2xpY2subGdjdXN0b20taXRlbS1cIiArIHV1aWQsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEl0ZW1JbmRleCA9IF90aGlzLnNldHRpbmdzLmluZGV4IHx8IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub3BlbkdhbGxlcnkoY3VycmVudEl0ZW1JbmRleCwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgLy8gVXNpbmcgZm9yIGxvb3AgaW5zdGVhZCBvZiB1c2luZyBidWJibGluZyBhcyB0aGUgaXRlbXMgY2FuIGJlIGFueSBodG1sIGVsZW1lbnQuXHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIF9sb29wXzEoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE1vZHVsZSBjb25zdHJ1Y3RvclxyXG4gICAgICogTW9kdWxlcyBhcmUgYnVpbGQgaW5jcmVtZW50YWxseS5cclxuICAgICAqIEdhbGxlcnkgc2hvdWxkIGJlIG9wZW5lZCBvbmx5IG9uY2UgYWxsIHRoZSBtb2R1bGVzIGFyZSBpbml0aWFsaXplZC5cclxuICAgICAqIHVzZSBtb2R1bGVCdWlsZFRpbWVvdXQgdG8gbWFrZSBzdXJlIHRoaXNcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5idWlsZE1vZHVsZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNldHRpbmdzLnBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBsdWdpbnMucHVzaChuZXcgcGx1Z2luKF90aGlzLCAkTEcpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnZhbGlkYXRlTGljZW5zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MubGljZW5zZUtleSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGxpY2Vuc2Uga2V5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MubGljZW5zZUtleSA9PT0gJzAwMDAtMDAwMC0wMDAtMDAwMCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwibGlnaHRHYWxsZXJ5OiBcIiArIHRoaXMuc2V0dGluZ3MubGljZW5zZUtleSArIFwiIGxpY2Vuc2Uga2V5IGlzIG5vdCB2YWxpZCBmb3IgcHJvZHVjdGlvbiB1c2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0U2xpZGVJdGVtID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuICRMRyh0aGlzLmdldFNsaWRlSXRlbUlkKGluZGV4KSk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZXRTbGlkZUl0ZW1JZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBcIiNsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyBpbmRleDtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmdldElkTmFtZSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiBpZCArIFwiLVwiICsgdGhpcy5sZ0lkO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gJExHKFwiI1wiICsgdGhpcy5nZXRJZE5hbWUoaWQpKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1hbmFnZVNpbmdsZVNsaWRlQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLXNpbmdsZS1pdGVtJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1zaW5nbGUtaXRlbScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmJ1aWxkU3RydWN0dXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lciAmJiB0aGlzLiRjb250YWluZXIuZ2V0KCk7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb250cm9scyA9ICcnO1xyXG4gICAgICAgIHZhciBzdWJIdG1sQ29udCA9ICcnO1xyXG4gICAgICAgIC8vIENyZWF0ZSBjb250cm9sc1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNvbnRyb2xzKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xzID0gXCI8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLXByZXYnKSArIFwiXFxcIiBhcmlhLWxhYmVsPVxcXCJcIiArIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1sncHJldmlvdXNTbGlkZSddICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1wcmV2IGxnLWljb25cXFwiPiBcIiArIHRoaXMuc2V0dGluZ3MucHJldkh0bWwgKyBcIiA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1uZXh0JykgKyBcIlxcXCIgYXJpYS1sYWJlbD1cXFwiXCIgKyB0aGlzLnNldHRpbmdzLnN0cmluZ3NbJ25leHRTbGlkZSddICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1uZXh0IGxnLWljb25cXFwiPiBcIiArIHRoaXMuc2V0dGluZ3MubmV4dEh0bWwgKyBcIiA8L2J1dHRvbj5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYXBwZW5kU3ViSHRtbFRvICE9PSAnLmxnLWl0ZW0nKSB7XHJcbiAgICAgICAgICAgIHN1Ykh0bWxDb250ID1cclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibGctc3ViLWh0bWxcIiByb2xlPVwic3RhdHVzXCIgYXJpYS1saXZlPVwicG9saXRlXCI+PC9kaXY+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFkZENsYXNzZXMgPSAnJztcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hbGxvd01lZGlhT3ZlcmxhcCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3QgcmVtb3ZlIHNwYWNlIGJlZm9yZSBsYXN0IHNpbmdsZSBxdW90ZVxyXG4gICAgICAgICAgICBhZGRDbGFzc2VzICs9ICdsZy1tZWRpYS1vdmVybGFwICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhcmlhTGFiZWxsZWRieSA9IHRoaXMuc2V0dGluZ3MuYXJpYUxhYmVsbGVkYnlcclxuICAgICAgICAgICAgPyAnYXJpYS1sYWJlbGxlZGJ5PVwiJyArIHRoaXMuc2V0dGluZ3MuYXJpYUxhYmVsbGVkYnkgKyAnXCInXHJcbiAgICAgICAgICAgIDogJyc7XHJcbiAgICAgICAgdmFyIGFyaWFEZXNjcmliZWRieSA9IHRoaXMuc2V0dGluZ3MuYXJpYURlc2NyaWJlZGJ5XHJcbiAgICAgICAgICAgID8gJ2FyaWEtZGVzY3JpYmVkYnk9XCInICsgdGhpcy5zZXR0aW5ncy5hcmlhRGVzY3JpYmVkYnkgKyAnXCInXHJcbiAgICAgICAgICAgIDogJyc7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lckNsYXNzTmFtZSA9IFwibGctY29udGFpbmVyIFwiICsgdGhpcy5zZXR0aW5ncy5hZGRDbGFzcyArIFwiIFwiICsgKGRvY3VtZW50LmJvZHkgIT09IHRoaXMuc2V0dGluZ3MuY29udGFpbmVyID8gJ2xnLWlubGluZScgOiAnJyk7XHJcbiAgICAgICAgdmFyIGNsb3NlSWNvbiA9IHRoaXMuc2V0dGluZ3MuY2xvc2FibGUgJiYgdGhpcy5zZXR0aW5ncy5zaG93Q2xvc2VJY29uXHJcbiAgICAgICAgICAgID8gXCI8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgYXJpYS1sYWJlbD1cXFwiXCIgKyB0aGlzLnNldHRpbmdzLnN0cmluZ3NbJ2Nsb3NlR2FsbGVyeSddICsgXCJcXFwiIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1jbG9zZScpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1jbG9zZSBsZy1pY29uXFxcIj48L2J1dHRvbj5cIlxyXG4gICAgICAgICAgICA6ICcnO1xyXG4gICAgICAgIHZhciBtYXhpbWl6ZUljb24gPSB0aGlzLnNldHRpbmdzLnNob3dNYXhpbWl6ZUljb25cclxuICAgICAgICAgICAgPyBcIjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBhcmlhLWxhYmVsPVxcXCJcIiArIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1sndG9nZ2xlTWF4aW1pemUnXSArIFwiXFxcIiBpZD1cXFwiXCIgKyB0aGlzLmdldElkTmFtZSgnbGctbWF4aW1pemUnKSArIFwiXFxcIiBjbGFzcz1cXFwibGctbWF4aW1pemUgbGctaWNvblxcXCI+PC9idXR0b24+XCJcclxuICAgICAgICAgICAgOiAnJztcclxuICAgICAgICB2YXIgdGVtcGxhdGUgPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCIgKyBjb250YWluZXJDbGFzc05hbWUgKyBcIlxcXCIgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWNvbnRhaW5lcicpICsgXCJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgYXJpYS1tb2RhbD1cXFwidHJ1ZVxcXCIgXCIgKyBhcmlhTGFiZWxsZWRieSArIFwiIFwiICsgYXJpYURlc2NyaWJlZGJ5ICsgXCIgcm9sZT1cXFwiZGlhbG9nXFxcIlxcbiAgICAgICAgPlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWJhY2tkcm9wJykgKyBcIlxcXCIgY2xhc3M9XFxcImxnLWJhY2tkcm9wXFxcIj48L2Rpdj5cXG5cXG4gICAgICAgICAgICA8ZGl2IGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1vdXRlcicpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1vdXRlciBsZy11c2UtY3NzMyBsZy1jc3MzIGxnLWhpZGUtaXRlbXMgXCIgKyBhZGRDbGFzc2VzICsgXCIgXFxcIj5cXG5cXG4gICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWNvbnRlbnQnKSArIFwiXFxcIiBjbGFzcz1cXFwibGctY29udGVudFxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWlubmVyJykgKyBcIlxcXCIgY2xhc3M9XFxcImxnLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiICsgY29udHJvbHMgKyBcIlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLXRvb2xiYXInKSArIFwiXFxcIiBjbGFzcz1cXFwibGctdG9vbGJhciBsZy1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIiArIG1heGltaXplSWNvbiArIFwiXFxuICAgICAgICAgICAgICAgICAgICBcIiArIGNsb3NlSWNvbiArIFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIFwiICsgKHRoaXMuc2V0dGluZ3MuYXBwZW5kU3ViSHRtbFRvID09PSAnLmxnLW91dGVyJ1xyXG4gICAgICAgICAgICA/IHN1Ykh0bWxDb250XHJcbiAgICAgICAgICAgIDogJycpICsgXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiXCIgKyB0aGlzLmdldElkTmFtZSgnbGctY29tcG9uZW50cycpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1jb21wb25lbnRzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiICsgKHRoaXMuc2V0dGluZ3MuYXBwZW5kU3ViSHRtbFRvID09PSAnLmxnLXN1Yi1odG1sJ1xyXG4gICAgICAgICAgICA/IHN1Ykh0bWxDb250XHJcbiAgICAgICAgICAgIDogJycpICsgXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xyXG4gICAgICAgICRMRyh0aGlzLnNldHRpbmdzLmNvbnRhaW5lcikuYXBwZW5kKHRlbXBsYXRlKTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSAhPT0gdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgJExHKHRoaXMuc2V0dGluZ3MuY29udGFpbmVyKS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3V0ZXIgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1vdXRlcicpO1xyXG4gICAgICAgIHRoaXMuJGxnQ29tcG9uZW50cyA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLWNvbXBvbmVudHMnKTtcclxuICAgICAgICB0aGlzLiRiYWNrZHJvcCA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLWJhY2tkcm9wJyk7XHJcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctY29udGFpbmVyJyk7XHJcbiAgICAgICAgdGhpcy4kaW5uZXIgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1pbm5lcicpO1xyXG4gICAgICAgIHRoaXMuJGNvbnRlbnQgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jb250ZW50Jyk7XHJcbiAgICAgICAgdGhpcy4kdG9vbGJhciA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLXRvb2xiYXInKTtcclxuICAgICAgICB0aGlzLiRiYWNrZHJvcC5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24gKyAnbXMnKTtcclxuICAgICAgICB2YXIgb3V0ZXJDbGFzc05hbWVzID0gdGhpcy5zZXR0aW5ncy5tb2RlICsgXCIgXCI7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VTaW5nbGVTbGlkZUNsYXNzTmFtZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZURyYWcpIHtcclxuICAgICAgICAgICAgb3V0ZXJDbGFzc05hbWVzICs9ICdsZy1ncmFiICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3Mob3V0ZXJDbGFzc05hbWVzKTtcclxuICAgICAgICB0aGlzLiRpbm5lci5jc3MoJ3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJywgdGhpcy5zZXR0aW5ncy5lYXNpbmcpO1xyXG4gICAgICAgIHRoaXMuJGlubmVyLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicsIHRoaXMuc2V0dGluZ3Muc3BlZWQgKyAnbXMnKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLiR0b29sYmFyLmFwcGVuZChcIjxhIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1kb3dubG9hZCcpICsgXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiByZWw9XFxcIm5vb3BlbmVyXFxcIiBhcmlhLWxhYmVsPVxcXCJcIiArIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1snZG93bmxvYWQnXSArIFwiXFxcIiBkb3dubG9hZCBjbGFzcz1cXFwibGctZG93bmxvYWQgbGctaWNvblxcXCI+PC9hPlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb3VudGVyKCk7XHJcbiAgICAgICAgJExHKHdpbmRvdykub24oXCJyZXNpemUubGcuZ2xvYmFsXCIgKyB0aGlzLmxnSWQgKyBcIiBvcmllbnRhdGlvbmNoYW5nZS5sZy5nbG9iYWxcIiArIHRoaXMubGdJZCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoT25SZXNpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhpZGVCYXJzKCk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VDbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZU1heGltaXplKCk7XHJcbiAgICAgICAgdGhpcy5pbml0TW9kdWxlcygpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUucmVmcmVzaE9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxnT3BlbmVkKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50R2FsbGVyeUl0ZW0gPSB0aGlzLmdhbGxlcnlJdGVtc1t0aGlzLmluZGV4XTtcclxuICAgICAgICAgICAgdmFyIF9fc2xpZGVWaWRlb0luZm8gPSBjdXJyZW50R2FsbGVyeUl0ZW0uX19zbGlkZVZpZGVvSW5mbztcclxuICAgICAgICAgICAgdGhpcy5tZWRpYUNvbnRhaW5lclBvc2l0aW9uID0gdGhpcy5nZXRNZWRpYUNvbnRhaW5lclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiwgdG9wXzEgPSBfYS50b3AsIGJvdHRvbSA9IF9hLmJvdHRvbTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VTaXplID0gdXRpbHMuZ2V0U2l6ZSh0aGlzLml0ZW1zW3RoaXMuaW5kZXhdLCB0aGlzLm91dGVyLCB0b3BfMSArIGJvdHRvbSwgX19zbGlkZVZpZGVvSW5mbyAmJiB0aGlzLnNldHRpbmdzLnZpZGVvTWF4U2l6ZSk7XHJcbiAgICAgICAgICAgIGlmIChfX3NsaWRlVmlkZW9JbmZvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZVZpZGVvU2xpZGUodGhpcy5pbmRleCwgdGhpcy5jdXJyZW50SW1hZ2VTaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy56b29tRnJvbU9yaWdpbiAmJiAhdGhpcy5pc0R1bW15SW1hZ2VSZW1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nU3R5bGUgPSB0aGlzLmdldER1bW15SW1nU3R5bGVzKHRoaXMuY3VycmVudEltYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1jdXJyZW50IC5sZy1kdW1teS1pbWcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgaW1nU3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmNvbnRhaW5lclJlc2l6ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUucmVzaXplVmlkZW9TbGlkZSA9IGZ1bmN0aW9uIChpbmRleCwgaW1hZ2VTaXplKSB7XHJcbiAgICAgICAgdmFyIGxnVmlkZW9TdHlsZSA9IHRoaXMuZ2V0VmlkZW9Db250U3R5bGUoaW1hZ2VTaXplKTtcclxuICAgICAgICB2YXIgY3VycmVudFNsaWRlID0gdGhpcy5nZXRTbGlkZUl0ZW0oaW5kZXgpO1xyXG4gICAgICAgIGN1cnJlbnRTbGlkZS5maW5kKCcubGctdmlkZW8tY29udCcpLmF0dHIoJ3N0eWxlJywgbGdWaWRlb1N0eWxlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBzbGlkZXMgZHluYW1pY2FsbHkuXHJcbiAgICAgKiBBZGQsIGVkaXQgb3IgZGVsZXRlIHNsaWRlcyBkeW5hbWljYWxseSB3aGVuIGxpZ2h0R2FsbGVyeSBpcyBvcGVuZWQuXHJcbiAgICAgKiBNb2RpZnkgdGhlIGN1cnJlbnQgZ2FsbGVyeSBpdGVtcyBhbmQgcGFzcyBpdCB2aWEgdXBkYXRlU2xpZGVzIG1ldGhvZFxyXG4gICAgICogQG5vdGVcclxuICAgICAqIC0gRG8gbm90IG11dGF0ZSBleGlzdGluZyBsaWdodEdhbGxlcnkgaXRlbXMgZGlyZWN0bHkuXHJcbiAgICAgKiAtIEFsd2F5cyBwYXNzIG5ldyBsaXN0IG9mIGdhbGxlcnkgaXRlbXNcclxuICAgICAqIC0gWW91IG5lZWQgdG8gdGFrZSBjYXJlIG9mIHRodW1ibmFpbHMgb3V0c2lkZSB0aGUgZ2FsbGVyeSBpZiBhbnlcclxuICAgICAqIC0gdXNlciB0aGlzIG1ldGhvZCBvbmx5IGlmIHlvdSB3YW50IHRvIHVwZGF0ZSBzbGlkZXMgd2hlbiB0aGUgZ2FsbGVyeSBpcyBvcGVuZWQuIE90aGVyd2lzZSwgdXNlIGByZWZyZXNoKClgIG1ldGhvZC5cclxuICAgICAqIEBwYXJhbSBpdGVtcyBHYWxsZXJ5IGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggQWZ0ZXIgdGhlIHVwZGF0ZSBvcGVyYXRpb24sIHdoaWNoIHNsaWRlIGdhbGxlcnkgc2hvdWxkIG5hdmlnYXRlIHRvXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogY29uc3QgcGx1Z2luID0gbGlnaHRHYWxsZXJ5KCk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQWRkaW5nIHNsaWRlcyBkeW5hbWljYWxseVxyXG4gICAgICogbGV0IGdhbGxlcnlJdGVtcyA9IFtcclxuICAgICAqIC8vIEFjY2VzcyBleGlzdGluZyBsaWdodEdhbGxlcnkgaXRlbXNcclxuICAgICAqIC8vIGdhbGxlcnlJdGVtcyBhcmUgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgaW50ZXJuYWxseSBmcm9tIHRoZSBnYWxsZXJ5IEhUTUwgbWFya3VwXHJcbiAgICAgKiAvLyBvciBkaXJlY3RseSBmcm9tIGdhbGxlcnlJdGVtcyB3aGVuIGR5bmFtaWMgZ2FsbGVyeSBpcyB1c2VkXHJcbiAgICAgKiAgIC4uLnBsdWdpbi5nYWxsZXJ5SXRlbXMsXHJcbiAgICAgKiAgICAgLi4uW1xyXG4gICAgICogICAgICAge1xyXG4gICAgICogICAgICAgICBzcmM6ICdpbWcvaW1nLTEucG5nJyxcclxuICAgICAqICAgICAgICAgICB0aHVtYjogJ2ltZy90aHVtYjEucG5nJyxcclxuICAgICAqICAgICAgICAgfSxcclxuICAgICAqICAgICBdLFxyXG4gICAgICogICBdO1xyXG4gICAgICogICBwbHVnaW4udXBkYXRlU2xpZGVzKFxyXG4gICAgICogICAgIGdhbGxlcnlJdGVtcyxcclxuICAgICAqICAgICBwbHVnaW4uaW5kZXgsXHJcbiAgICAgKiAgICk7XHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIC8vIFJlbW92ZSBzbGlkZXMgZHluYW1pY2FsbHlcclxuICAgICAqIGdhbGxlcnlJdGVtcyA9IEpTT04ucGFyc2UoXHJcbiAgICAgKiAgIEpTT04uc3RyaW5naWZ5KHVwZGF0ZVNsaWRlSW5zdGFuY2UuZ2FsbGVyeUl0ZW1zKSxcclxuICAgICAqICk7XHJcbiAgICAgKiBnYWxsZXJ5SXRlbXMuc2hpZnQoKTtcclxuICAgICAqIHVwZGF0ZVNsaWRlSW5zdGFuY2UudXBkYXRlU2xpZGVzKGdhbGxlcnlJdGVtcywgMSk7XHJcbiAgICAgKiBAc2VlIDxhIGhyZWY9XCIvZGVtb3MvdXBkYXRlLXNsaWRlcy9cIj5EZW1vPC9hPlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnVwZGF0ZVNsaWRlcyA9IGZ1bmN0aW9uIChpdGVtcywgaW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA+IGl0ZW1zLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IGl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VHYWxsZXJ5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTcmMgPSB0aGlzLmdhbGxlcnlJdGVtc1tpbmRleF0uc3JjO1xyXG4gICAgICAgIHRoaXMuZ2FsbGVyeUl0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb250cm9scygpO1xyXG4gICAgICAgIHRoaXMuJGlubmVyLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNJbkRvbSA9IFtdO1xyXG4gICAgICAgIHZhciBfaW5kZXggPSAwO1xyXG4gICAgICAgIC8vIEZpbmQgdGhlIGN1cnJlbnQgaW5kZXggYmFzZWQgb24gc291cmNlIHZhbHVlIG9mIHRoZSBzbGlkZVxyXG4gICAgICAgIHRoaXMuZ2FsbGVyeUl0ZW1zLnNvbWUoZnVuY3Rpb24gKGdhbGxlcnlJdGVtLCBpdGVtSW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGdhbGxlcnlJdGVtLnNyYyA9PT0gY3VycmVudFNyYykge1xyXG4gICAgICAgICAgICAgICAgX2luZGV4ID0gaXRlbUluZGV4O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEl0ZW1zSW5Eb20gPSB0aGlzLm9yZ2FuaXplU2xpZGVJdGVtcyhfaW5kZXgsIC0xKTtcclxuICAgICAgICB0aGlzLmxvYWRDb250ZW50KF9pbmRleCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5nZXRTbGlkZUl0ZW0oX2luZGV4KS5hZGRDbGFzcygnbGctY3VycmVudCcpO1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBfaW5kZXg7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q291bnRlcihfaW5kZXgpO1xyXG4gICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnVwZGF0ZVNsaWRlcyk7XHJcbiAgICB9O1xyXG4gICAgLy8gR2V0IGdhbGxlcnkgaXRlbXMgYmFzZWQgb24gbXVsdGlwbGUgY29uZGl0aW9uc1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBHYWxsZXJ5IGl0ZW1zXHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5keW5hbWljKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNlbGVjdG9yID09PSAndGhpcycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2VsZWN0V2l0aGluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RXaXRoaW4gPSAkTEcodGhpcy5zZXR0aW5ncy5zZWxlY3RXaXRoaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gc2VsZWN0V2l0aGluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLmVsLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5nZXREeW5hbWljT3B0aW9ucyh0aGlzLml0ZW1zLCB0aGlzLnNldHRpbmdzLmV4dHJhUHJvcHMsIHRoaXMuc2V0dGluZ3MuZ2V0Q2FwdGlvbkZyb21UaXRsZU9yQWx0LCB0aGlzLnNldHRpbmdzLmV4VGh1bWJJbWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5keW5hbWljRWwgfHwgW107XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuc2hvdWxkSGlkZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuc2V0dGluZ3MuaGlkZVNjcm9sbGJhciAmJlxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5ID09PSB0aGlzLnNldHRpbmdzLmNvbnRhaW5lcik7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5oaWRlU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zaG91bGRIaWRlU2Nyb2xsYmFyKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJvZHlQYWRkaW5nUmlnaHQgPSBwYXJzZUZsb2F0KCRMRygnYm9keScpLnN0eWxlKCkucGFkZGluZ1JpZ2h0KTtcclxuICAgICAgICB2YXIgYm9keVJlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBib2R5UmVjdC53aWR0aDtcclxuICAgICAgICAkTEcoZG9jdW1lbnQuYm9keSkuY3NzKCdwYWRkaW5nLXJpZ2h0Jywgc2Nyb2xsYmFyV2lkdGggKyB0aGlzLmJvZHlQYWRkaW5nUmlnaHQgKyAncHgnKTtcclxuICAgICAgICAkTEcoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoJ2xnLW92ZXJsYXktb3BlbicpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUucmVzZXRTY3JvbGxCYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZEhpZGVTY3JvbGxiYXIoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRMRyhkb2N1bWVudC5ib2R5KS5jc3MoJ3BhZGRpbmctcmlnaHQnLCB0aGlzLmJvZHlQYWRkaW5nUmlnaHQgKyAncHgnKTtcclxuICAgICAgICAkTEcoZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoJ2xnLW92ZXJsYXktb3BlbicpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogT3BlbiBsaWdodEdhbGxlcnkuXHJcbiAgICAgKiBPcGVuIGdhbGxlcnkgd2l0aCBzcGVjaWZpYyBzbGlkZSBieSBwYXNzaW5nIGluZGV4IG9mIHRoZSBzbGlkZSBhcyBwYXJhbWV0ZXIuXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggIC0gaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gV2hpY2ggaW1hZ2UgbGlnaHRHYWxsZXJ5IHNob3VsZCB6b29tIGZyb21cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogY29uc3QgJGR5bmFtaWNHYWxsZXJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R5bmFtaWMtZ2FsbGVyeS1kZW1vJyk7XHJcbiAgICAgKiBjb25zdCBkeW5hbWljR2FsbGVyeSA9IGxpZ2h0R2FsbGVyeSgkZHluYW1pY0dhbGxlcnksIHtcclxuICAgICAqICAgICBkeW5hbWljOiB0cnVlLFxyXG4gICAgICogICAgIGR5bmFtaWNFbDogW1xyXG4gICAgICogICAgICAgICB7XHJcbiAgICAgKiAgICAgICAgICAgICAgc3JjOiAnaW1nLzEuanBnJyxcclxuICAgICAqICAgICAgICAgICAgICB0aHVtYjogJ2ltZy90aHVtYi0xLmpwZycsXHJcbiAgICAgKiAgICAgICAgICAgICAgc3ViSHRtbDogJzxoND5JbWFnZSAxIHRpdGxlPC9oND48cD5JbWFnZSAxIGRlc2NyaXB0aW9ucy48L3A+JyxcclxuICAgICAqICAgICAgICAgfSxcclxuICAgICAqICAgICAgICAgLi4uXHJcbiAgICAgKiAgICAgXSxcclxuICAgICAqIH0pO1xyXG4gICAgICogJGR5bmFtaWNHYWxsZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICogICAgIC8vIFN0YXJ0cyB3aXRoIHRoaXJkIGl0ZW0uKE9wdGlvbmFsKS5cclxuICAgICAqICAgICAvLyBUaGlzIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB1c2UgZHluYW1pYyBtb2RlIHdpdGhcclxuICAgICAqICAgICAvLyBjdXN0b20gdGh1bWJuYWlscyAodGh1bWJuYWlscyBvdXRzaWRlIGdhbGxlcnkpLFxyXG4gICAgICogICAgIGR5bmFtaWNHYWxsZXJ5Lm9wZW5HYWxsZXJ5KDIpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm9wZW5HYWxsZXJ5ID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IHRoaXMuc2V0dGluZ3MuaW5kZXg7IH1cclxuICAgICAgICAvLyBwcmV2ZW50IGFjY2lkZW50YWwgZG91YmxlIGV4ZWN1dGlvblxyXG4gICAgICAgIGlmICh0aGlzLmxnT3BlbmVkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5sZ09wZW5lZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctaGlkZS1pdGVtcycpO1xyXG4gICAgICAgIHRoaXMuaGlkZVNjcm9sbGJhcigpO1xyXG4gICAgICAgIC8vIEFkZCBkaXNwbGF5IGJsb2NrLCBidXQgc3RpbGwgaGFzIG9wYWNpdHkgMFxyXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5hZGRDbGFzcygnbGctc2hvdycpO1xyXG4gICAgICAgIHZhciBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tID0gdGhpcy5nZXRJdGVtc1RvQmVJbnNlcnRlZFRvRG9tKGluZGV4LCBpbmRleCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNJbkRvbSA9IGl0ZW1zVG9CZUluc2VydGVkVG9Eb207XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gJyc7XHJcbiAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMgKyAoXCI8ZGl2IGlkPVxcXCJcIiArIGl0ZW0gKyBcIlxcXCIgY2xhc3M9XFxcImxnLWl0ZW1cXFwiPjwvZGl2PlwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLiRpbm5lci5hcHBlbmQoaXRlbXMpO1xyXG4gICAgICAgIHRoaXMuYWRkSHRtbChpbmRleCk7XHJcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9ICcnO1xyXG4gICAgICAgIHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiA9IHRoaXMuZ2V0TWVkaWFDb250YWluZXJQb3NpdGlvbigpO1xyXG4gICAgICAgIHZhciBfYSA9IHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiwgdG9wID0gX2EudG9wLCBib3R0b20gPSBfYS5ib3R0b207XHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmFsbG93TWVkaWFPdmVybGFwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWVkaWFDb250YWluZXJQb3NpdGlvbih0b3AsIGJvdHRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfX3NsaWRlVmlkZW9JbmZvID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdLl9fc2xpZGVWaWRlb0luZm87XHJcbiAgICAgICAgaWYgKHRoaXMuem9vbUZyb21PcmlnaW4gJiYgZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZVNpemUgPSB1dGlscy5nZXRTaXplKGVsZW1lbnQsIHRoaXMub3V0ZXIsIHRvcCArIGJvdHRvbSwgX19zbGlkZVZpZGVvSW5mbyAmJiB0aGlzLnNldHRpbmdzLnZpZGVvTWF4U2l6ZSk7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IHV0aWxzLmdldFRyYW5zZm9ybShlbGVtZW50LCB0aGlzLm91dGVyLCB0b3AsIGJvdHRvbSwgdGhpcy5jdXJyZW50SW1hZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnpvb21Gcm9tT3JpZ2luIHx8ICF0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN0YXJ0Q2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLmdldFNsaWRlSXRlbShpbmRleCkucmVtb3ZlQ2xhc3MoJ2xnLWNvbXBsZXRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aW1lb3V0ID0gdGhpcy5zZXR0aW5ncy56b29tRnJvbU9yaWdpblxyXG4gICAgICAgICAgICA/IDEwMFxyXG4gICAgICAgICAgICA6IHRoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbjtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWNvbXBvbmVudHMtb3BlbicpO1xyXG4gICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICB0aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5iZWZvcmVPcGVuKTtcclxuICAgICAgICAvLyBhZGQgY2xhc3MgbGctY3VycmVudCB0byByZW1vdmUgaW5pdGlhbCB0cmFuc2l0aW9uXHJcbiAgICAgICAgdGhpcy5nZXRTbGlkZUl0ZW0oaW5kZXgpLmFkZENsYXNzKCdsZy1jdXJyZW50Jyk7XHJcbiAgICAgICAgdGhpcy5sR2FsbGVyeU9uID0gZmFsc2U7XHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgc2Nyb2xsIHRvcCB2YWx1ZSB0byBzY3JvbGwgYmFjayBhZnRlciBjbG9zaW5nIHRoZSBnYWxsZXJ5Li5cclxuICAgICAgICB0aGlzLnByZXZTY3JvbGxUb3AgPSAkTEcod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gTmVlZCB0byBjaGVjayBib3RoIHpvb21Gcm9tT3JpZ2luIGFuZCB0cmFuc2Zvcm0gdmFsdWVzIGFzIHdlIG5lZWQgdG8gc2V0IHNldCB0aGVcclxuICAgICAgICAgICAgLy8gZGVmYXVsdCBvcGVuaW5nIGFuaW1hdGlvbiBpZiB1c2VyIG1pc3NlZCB0byBhZGQgdGhlIGxnLXNpemUgYXR0cmlidXRlXHJcbiAgICAgICAgICAgIGlmIChfdGhpcy56b29tRnJvbU9yaWdpbiAmJiB0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U2xpZGVfMSA9IF90aGlzLmdldFNsaWRlSXRlbShpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVfMS5jc3MoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVfMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2xnLXN0YXJ0LXByb2dyZXNzIGxnLXN0YXJ0LWVuZC1wcm9ncmVzcycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCBfdGhpcy5zZXR0aW5ncy5zdGFydEFuaW1hdGlvbkR1cmF0aW9uICsgJ21zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLXpvb20tZnJvbS1pbWFnZScpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVfMS5jc3MoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLCAwLCAwKScpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIuYWRkQ2xhc3MoJ2xnLXNob3ctaW4nKTtcclxuICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy50cmFwRm9jdXMgJiZcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5ID09PSBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmFwRm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbiArIDUwKTtcclxuICAgICAgICAgICAgLy8gbGctdmlzaWJsZSBjbGFzcyByZXNldHMgZ2FsbGVyeSBvcGFjaXR5IHRvIDFcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy56b29tRnJvbU9yaWdpbiB8fCAhdHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5hZGRDbGFzcygnbGctdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW5pdGlhdGUgc2xpZGUgZnVuY3Rpb25cclxuICAgICAgICAgICAgX3RoaXMuc2xpZGUoaW5kZXgsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYWZ0ZXJPcGVuKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSA9PT0gdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgJExHKCdodG1sJykuYWRkQ2xhc3MoJ2xnLW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTm90ZSAtIENoYW5naW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgbWVkaWEgb24gZXZlcnkgc2xpZGUgdHJhbnNpdGlvbiBjcmVhdGVzIGEgZmxpY2tlcmluZyBlZmZlY3QuXHJcbiAgICAgKiBUaGVyZWZvcmUswqBUaGUgaGVpZ2h0IG9mIHRoZSBjYXB0aW9uIGlzIGNhbGN1bGF0ZWQgZHluYW1pY2FsbHksIG9ubHkgb25jZSBiYXNlZCBvbiB0aGUgZmlyc3Qgc2xpZGUgY2FwdGlvbi5cclxuICAgICAqIGlmIHlvdSBoYXZlIGR5bmFtaWMgY2FwdGlvbnMgZm9yIGVhY2ggbWVkaWEsXHJcbiAgICAgKiB5b3UgY2FuIHByb3ZpZGUgYW4gYXBwcm9wcmlhdGUgaGVpZ2h0IGZvciB0aGUgY2FwdGlvbnMgdmlhIGFsbG93TWVkaWFPdmVybGFwIG9wdGlvblxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmdldE1lZGlhQ29udGFpbmVyUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYWxsb3dNZWRpYU92ZXJsYXApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJHRvb2xiYXIuZ2V0KCkuY2xpZW50SGVpZ2h0IHx8IDA7XHJcbiAgICAgICAgdmFyIHN1Ykh0bWwgPSB0aGlzLm91dGVyLmZpbmQoJy5sZy1jb21wb25lbnRzIC5sZy1zdWItaHRtbCcpLmdldCgpO1xyXG4gICAgICAgIHZhciBjYXB0aW9uSGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5kZWZhdWx0Q2FwdGlvbkhlaWdodCB8fFxyXG4gICAgICAgICAgICAoc3ViSHRtbCAmJiBzdWJIdG1sLmNsaWVudEhlaWdodCkgfHxcclxuICAgICAgICAgICAgMDtcclxuICAgICAgICB2YXIgdGh1bWJDb250YWluZXIgPSB0aGlzLm91dGVyLmZpbmQoJy5sZy10aHVtYi1vdXRlcicpLmdldCgpO1xyXG4gICAgICAgIHZhciB0aHVtYkhlaWdodCA9IHRodW1iQ29udGFpbmVyID8gdGh1bWJDb250YWluZXIuY2xpZW50SGVpZ2h0IDogMDtcclxuICAgICAgICB2YXIgYm90dG9tID0gdGh1bWJIZWlnaHQgKyBjYXB0aW9uSGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcDogdG9wLFxyXG4gICAgICAgICAgICBib3R0b206IGJvdHRvbSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuc2V0TWVkaWFDb250YWluZXJQb3NpdGlvbiA9IGZ1bmN0aW9uICh0b3AsIGJvdHRvbSkge1xyXG4gICAgICAgIGlmICh0b3AgPT09IHZvaWQgMCkgeyB0b3AgPSAwOyB9XHJcbiAgICAgICAgaWYgKGJvdHRvbSA9PT0gdm9pZCAwKSB7IGJvdHRvbSA9IDA7IH1cclxuICAgICAgICB0aGlzLiRjb250ZW50LmNzcygndG9wJywgdG9wICsgJ3B4JykuY3NzKCdib3R0b20nLCBib3R0b20gKyAncHgnKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmhpZGVCYXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gSGlkZSBjb250cm9sbGVycyBpZiBtb3VzZSBkb2Vzbid0IG1vdmUgZm9yIHNvbWUgcGVyaW9kXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1oaWRlLWl0ZW1zJyk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5oaWRlQmFyc0RlbGF5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub3V0ZXIub24oJ21vdXNlbW92ZS5sZyBjbGljay5sZyB0b3VjaHN0YXJ0LmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1oaWRlLWl0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmhpZGVCYXJUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1lb3V0IHdpbGwgYmUgY2xlYXJlZCBvbiBlYWNoIHNsaWRlIG1vdmVtZW50IGFsc29cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlQmFyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5hZGRDbGFzcygnbGctaGlkZS1pdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzLnNldHRpbmdzLmhpZGVCYXJzRGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci50cmlnZ2VyKCdtb3VzZW1vdmUubGcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc2hvd0JhcnNBZnRlcik7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pbml0UGljdHVyZUZpbGwgPSBmdW5jdGlvbiAoJGltZykge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN1cHBvcnRMZWdhY3lCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBwaWN0dXJlZmlsbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM6IFskaW1nLmdldCgpXSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2xpZ2h0R2FsbGVyeSA6LSBJZiB5b3Ugd2FudCBzcmNzZXQgb3IgcGljdHVyZSB0YWcgdG8gYmUgc3VwcG9ydGVkIGZvciBvbGRlciBicm93c2VyIHBsZWFzZSBpbmNsdWRlIHBpY3R1cmVmaWwgamF2YXNjcmlwdCBsaWJyYXJ5IGluIHlvdXIgZG9jdW1lbnQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiAgQGRlc2MgQ3JlYXRlIGltYWdlIGNvdW50ZXJcclxuICAgICAqICBFeDogMS8xMFxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmNvdW50ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY291bnRlcikge1xyXG4gICAgICAgICAgICB2YXIgY291bnRlckh0bWwgPSBcIjxkaXYgY2xhc3M9XFxcImxnLWNvdW50ZXJcXFwiIHJvbGU9XFxcInN0YXR1c1xcXCIgYXJpYS1saXZlPVxcXCJwb2xpdGVcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cXFwiXCIgKyB0aGlzLmdldElkTmFtZSgnbGctY291bnRlci1jdXJyZW50JykgKyBcIlxcXCIgY2xhc3M9XFxcImxnLWNvdW50ZXItY3VycmVudFxcXCI+XCIgKyAodGhpcy5pbmRleCArIDEpICsgXCIgPC9zcGFuPiAvXFxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1jb3VudGVyLWFsbCcpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1jb3VudGVyLWFsbFxcXCI+XCIgKyB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggKyBcIiA8L3NwYW4+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluZCh0aGlzLnNldHRpbmdzLmFwcGVuZENvdW50ZXJUbykuYXBwZW5kKGNvdW50ZXJIdG1sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiAgQGRlc2MgYWRkIHN1Yi1odG1sIGludG8gdGhlIHNsaWRlXHJcbiAgICAgKiAgQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuYWRkSHRtbCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHZhciBzdWJIdG1sO1xyXG4gICAgICAgIHZhciBzdWJIdG1sVXJsO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbGxlcnlJdGVtc1tpbmRleF0uc3ViSHRtbFVybCkge1xyXG4gICAgICAgICAgICBzdWJIdG1sVXJsID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdLnN1Ykh0bWxVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdWJIdG1sID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdLnN1Ykh0bWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghc3ViSHRtbFVybCkge1xyXG4gICAgICAgICAgICBpZiAoc3ViSHRtbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGZpcnN0IGxldHRlciBvZiBzdWItaHRtbFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgZmlyc3QgbGV0dGVyIHN0YXJ0cyB3aXRoIC4gb3IgIyBnZXQgdGhlIGh0bWwgZm9ybSB0aGUgalF1ZXJ5IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgdmFyIGZMID0gc3ViSHRtbC5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZkwgPT09ICcuJyB8fCBmTCA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3ViSHRtbFNlbGVjdG9yUmVsYXRpdmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJIdG1sID0gJExHKHRoaXMuaXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXEoaW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZChzdWJIdG1sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJIdG1sID0gJExHKHN1Ykh0bWwpLmZpcnN0KCkuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1Ykh0bWwgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hcHBlbmRTdWJIdG1sVG8gIT09ICcubGctaXRlbScpIHtcclxuICAgICAgICAgICAgaWYgKHN1Ykh0bWxVcmwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluZCgnLmxnLXN1Yi1odG1sJykubG9hZChzdWJIdG1sVXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluZCgnLmxnLXN1Yi1odG1sJykuaHRtbChzdWJIdG1sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTbGlkZSA9ICRMRyh0aGlzLmdldFNsaWRlSXRlbUlkKGluZGV4KSk7XHJcbiAgICAgICAgICAgIGlmIChzdWJIdG1sVXJsKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGUubG9hZChzdWJIdG1sVXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZS5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJsZy1zdWItaHRtbFxcXCI+XCIgKyBzdWJIdG1sICsgXCI8L2Rpdj5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIGxnLWVtcHR5LWh0bWwgY2xhc3MgaWYgdGl0bGUgZG9lc24ndCBleGlzdFxyXG4gICAgICAgIGlmICh0eXBlb2Ygc3ViSHRtbCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3ViSHRtbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoc3ViSHRtbCA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXJcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCh0aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2xnLWVtcHR5LWh0bWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXJcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCh0aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbylcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLWVtcHR5LWh0bWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5hZnRlckFwcGVuZFN1Ykh0bWwsIHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogIEBkZXNjIFByZWxvYWQgc2xpZGVzXHJcbiAgICAgKiAgQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKiBAdG9kbyBwcmVsb2FkIG5vdCB3b3JraW5nIGZvciB0aGUgZmlyc3Qgc2xpZGUsIEFsc28sIHNob3VsZCB3b3JrIGZvciB0aGUgZmlyc3QgYW5kIGxhc3Qgc2xpZGUgYXMgd2VsbFxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnByZWxvYWQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSB0aGlzLnNldHRpbmdzLnByZWxvYWQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggLSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sb2FkQ29udGVudChpbmRleCArIGksIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPD0gdGhpcy5zZXR0aW5ncy5wcmVsb2FkOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IC0gaiA8IDApIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubG9hZENvbnRlbnQoaW5kZXggLSBqLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0RHVtbXlJbWdTdHlsZXMgPSBmdW5jdGlvbiAoaW1hZ2VTaXplKSB7XHJcbiAgICAgICAgaWYgKCFpbWFnZVNpemUpXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICByZXR1cm4gXCJ3aWR0aDpcIiArIGltYWdlU2l6ZS53aWR0aCArIFwicHg7XFxuICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtXCIgKyBpbWFnZVNpemUud2lkdGggLyAyICsgXCJweDtcXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogLVwiICsgaW1hZ2VTaXplLmhlaWdodCAvIDIgKyBcInB4O1xcbiAgICAgICAgICAgICAgICBoZWlnaHQ6XCIgKyBpbWFnZVNpemUuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0VmlkZW9Db250U3R5bGUgPSBmdW5jdGlvbiAoaW1hZ2VTaXplKSB7XHJcbiAgICAgICAgaWYgKCFpbWFnZVNpemUpXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICByZXR1cm4gXCJ3aWR0aDpcIiArIGltYWdlU2l6ZS53aWR0aCArIFwicHg7XFxuICAgICAgICAgICAgICAgIGhlaWdodDpcIiArIGltYWdlU2l6ZS5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZXREdW1teUltYWdlQ29udGVudCA9IGZ1bmN0aW9uICgkY3VycmVudFNsaWRlLCBpbmRleCwgYWx0KSB7XHJcbiAgICAgICAgdmFyICRjdXJyZW50SXRlbTtcclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICAkY3VycmVudEl0ZW0gPSAkTEcodGhpcy5pdGVtcykuZXEoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJGN1cnJlbnRJdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBfZHVtbXlJbWdTcmMgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5leFRodW1iSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIF9kdW1teUltZ1NyYyA9ICRjdXJyZW50SXRlbS5maW5kKCdpbWcnKS5maXJzdCgpLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2R1bW15SW1nU3JjID0gJGN1cnJlbnRJdGVtLmF0dHIodGhpcy5zZXR0aW5ncy5leFRodW1iSW1hZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghX2R1bW15SW1nU3JjKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICB2YXIgaW1nU3R5bGUgPSB0aGlzLmdldER1bW15SW1nU3R5bGVzKHRoaXMuY3VycmVudEltYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgIHZhciBkdW1teUltZ0NvbnRlbnQgPSBcIjxpbWcgXCIgKyBhbHQgKyBcIiBzdHlsZT1cXFwiXCIgKyBpbWdTdHlsZSArIFwiXFxcIiBjbGFzcz1cXFwibGctZHVtbXktaW1nXFxcIiBzcmM9XFxcIlwiICsgX2R1bW15SW1nU3JjICsgXCJcXFwiIC8+XCI7XHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuYWRkQ2xhc3MoJ2xnLWZpcnN0LXNsaWRlJyk7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWZpcnN0LXNsaWRlLWxvYWRpbmcnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGR1bW15SW1nQ29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuc2V0SW1nTWFya3VwID0gZnVuY3Rpb24gKHNyYywgJGN1cnJlbnRTbGlkZSwgaW5kZXgpIHtcclxuICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIHZhciBhbHQgPSBjdXJyZW50R2FsbGVyeUl0ZW0uYWx0LCBzcmNzZXQgPSBjdXJyZW50R2FsbGVyeUl0ZW0uc3Jjc2V0LCBzaXplcyA9IGN1cnJlbnRHYWxsZXJ5SXRlbS5zaXplcywgc291cmNlcyA9IGN1cnJlbnRHYWxsZXJ5SXRlbS5zb3VyY2VzO1xyXG4gICAgICAgIC8vIFVzZSB0aGUgdGh1bWJuYWlsIGFzIGR1bW15IGltYWdlIHdoaWNoIHdpbGwgYmUgcmVzaXplZCB0byBhY3R1YWwgaW1hZ2Ugc2l6ZSBhbmRcclxuICAgICAgICAvLyBkaXNwbGF5ZWQgb24gdG9wIG9mIGFjdHVhbCBpbWFnZVxyXG4gICAgICAgIHZhciBpbWdDb250ZW50ID0gJyc7XHJcbiAgICAgICAgdmFyIGFsdEF0dHIgPSBhbHQgPyAnYWx0PVwiJyArIGFsdCArICdcIicgOiAnJztcclxuICAgICAgICBpZiAodGhpcy5pc0ZpcnN0U2xpZGVXaXRoWm9vbUFuaW1hdGlvbigpKSB7XHJcbiAgICAgICAgICAgIGltZ0NvbnRlbnQgPSB0aGlzLmdldER1bW15SW1hZ2VDb250ZW50KCRjdXJyZW50U2xpZGUsIGluZGV4LCBhbHRBdHRyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGltZ0NvbnRlbnQgPSB1dGlscy5nZXRJbWdNYXJrdXAoaW5kZXgsIHNyYywgYWx0QXR0ciwgc3Jjc2V0LCBzaXplcywgc291cmNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbWdNYXJrdXAgPSBcIjxwaWN0dXJlIGNsYXNzPVxcXCJsZy1pbWctd3JhcFxcXCI+IFwiICsgaW1nQ29udGVudCArIFwiPC9waWN0dXJlPlwiO1xyXG4gICAgICAgICRjdXJyZW50U2xpZGUucHJlcGVuZChpbWdNYXJrdXApO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUub25TbGlkZU9iamVjdExvYWQgPSBmdW5jdGlvbiAoJHNsaWRlLCBpc0hUTUw1VmlkZW9XaXRob3V0UG9zdGVyLCBvbkxvYWQsIG9uRXJyb3IpIHtcclxuICAgICAgICB2YXIgbWVkaWFPYmplY3QgPSAkc2xpZGUuZmluZCgnLmxnLW9iamVjdCcpLmZpcnN0KCk7XHJcbiAgICAgICAgaWYgKHV0aWxzLmlzSW1hZ2VMb2FkZWQobWVkaWFPYmplY3QuZ2V0KCkpIHx8XHJcbiAgICAgICAgICAgIGlzSFRNTDVWaWRlb1dpdGhvdXRQb3N0ZXIpIHtcclxuICAgICAgICAgICAgb25Mb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtZWRpYU9iamVjdC5vbignbG9hZC5sZyBlcnJvci5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uTG9hZCAmJiBvbkxvYWQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG1lZGlhT2JqZWN0Lm9uKCdlcnJvci5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICRlbCBDdXJyZW50IHNsaWRlIGl0ZW1cclxuICAgICAqIEBwYXJhbSBpbmRleFxyXG4gICAgICogQHBhcmFtIGRlbGF5IERlbGF5IGlzIDAgZXhjZXB0IGZpcnN0IHRpbWVcclxuICAgICAqIEBwYXJhbSBzcGVlZCBTcGVlZCBpcyBzYW1lIGFzIGRlbGF5LCBleGNlcHQgaXQgaXMgMCBpZiBnYWxsZXJ5IGlzIG9wZW5lZCB2aWEgaGFzaCBwbHVnaW5cclxuICAgICAqIEBwYXJhbSBpc0ZpcnN0U2xpZGVcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5vbkxnT2JqZWN0TG9hZCA9IGZ1bmN0aW9uIChjdXJyZW50U2xpZGUsIGluZGV4LCBkZWxheSwgc3BlZWQsIGlzRmlyc3RTbGlkZSwgaXNIVE1MNVZpZGVvV2l0aG91dFBvc3Rlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5vblNsaWRlT2JqZWN0TG9hZChjdXJyZW50U2xpZGUsIGlzSFRNTDVWaWRlb1dpdGhvdXRQb3N0ZXIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMudHJpZ2dlclNsaWRlSXRlbUxvYWQoY3VycmVudFNsaWRlLCBpbmRleCwgZGVsYXksIHNwZWVkLCBpc0ZpcnN0U2xpZGUpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY3VycmVudFNsaWRlLmFkZENsYXNzKCdsZy1jb21wbGV0ZSBsZy1jb21wbGV0ZV8nKTtcclxuICAgICAgICAgICAgY3VycmVudFNsaWRlLmh0bWwoJzxzcGFuIGNsYXNzPVwibGctZXJyb3ItbXNnXCI+JyArXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5zdHJpbmdzWydtZWRpYUxvYWRpbmdGYWlsZWQnXSArXHJcbiAgICAgICAgICAgICAgICAnPC9zcGFuPicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudHJpZ2dlclNsaWRlSXRlbUxvYWQgPSBmdW5jdGlvbiAoJGN1cnJlbnRTbGlkZSwgaW5kZXgsIGRlbGF5LCBzcGVlZCwgaXNGaXJzdFNsaWRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIC8vIEFkZGluZyBkZWxheSBmb3IgdmlkZW8gc2xpZGVzIHdpdGhvdXQgcG9zdGVyIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UgYW5kIHVzZXIgZXhwZXJpZW5jZVxyXG4gICAgICAgIC8vIFZpZGVvcyBzaG91bGQgc3RhcnQgcGxheWluZyBvbmNlIG9uY2UgdGhlIGdhbGxlcnkgaXMgY29tcGxldGVseSBsb2FkZWRcclxuICAgICAgICB2YXIgX3NwZWVkID0gaXNGaXJzdFNsaWRlICYmXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVUeXBlKGN1cnJlbnRHYWxsZXJ5SXRlbSkgPT09ICd2aWRlbycgJiZcclxuICAgICAgICAgICAgIWN1cnJlbnRHYWxsZXJ5SXRlbS5wb3N0ZXJcclxuICAgICAgICAgICAgPyBzcGVlZFxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuYWRkQ2xhc3MoJ2xnLWNvbXBsZXRlIGxnLWNvbXBsZXRlXycpO1xyXG4gICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuc2xpZGVJdGVtTG9hZCwge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZGVsYXk6IGRlbGF5IHx8IDAsXHJcbiAgICAgICAgICAgICAgICBpc0ZpcnN0U2xpZGU6IGlzRmlyc3RTbGlkZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgX3NwZWVkKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmlzRmlyc3RTbGlkZVdpdGhab29tQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhISghdGhpcy5sR2FsbGVyeU9uICYmXHJcbiAgICAgICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gJiZcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VTaXplKTtcclxuICAgIH07XHJcbiAgICAvLyBBZGQgdmlkZW8gc2xpZGVJbmZvXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmFkZFNsaWRlVmlkZW9JbmZvID0gZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICBlbGVtZW50Ll9fc2xpZGVWaWRlb0luZm8gPSB1dGlscy5pc1ZpZGVvKGVsZW1lbnQuc3JjLCAhIWVsZW1lbnQudmlkZW8sIGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuX19zbGlkZVZpZGVvSW5mbyAmJlxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubG9hZFlvdVR1YmVQb3N0ZXIgJiZcclxuICAgICAgICAgICAgICAgICFlbGVtZW50LnBvc3RlciAmJlxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5fX3NsaWRlVmlkZW9JbmZvLnlvdXR1YmUpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucG9zdGVyID0gXCIvL2ltZy55b3V0dWJlLmNvbS92aS9cIiArIGVsZW1lbnQuX19zbGlkZVZpZGVvSW5mby55b3V0dWJlWzFdICsgXCIvbWF4cmVzZGVmYXVsdC5qcGdcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogIExvYWQgc2xpZGUgY29udGVudCBpbnRvIHNsaWRlLlxyXG4gICAgICogIFRoaXMgaXMgdXNlZCB0byBsb2FkIGNvbnRlbnQgaW50byBzbGlkZXMgdGhhdCBpcyBub3QgdmlzaWJsZSB0b29cclxuICAgICAqICBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBpbmRleCBvZiB0aGUgc2xpZGUuXHJcbiAgICAgKiAgQHBhcmFtIHtCb29sZWFufSByZWMgLSBpZiB0cnVlIGNhbGwgbG9hZGNvbnRlbnQoKSBmdW5jdGlvbiBhZ2Fpbi5cclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5sb2FkQ29udGVudCA9IGZ1bmN0aW9uIChpbmRleCwgcmVjKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIHZhciAkY3VycmVudFNsaWRlID0gJExHKHRoaXMuZ2V0U2xpZGVJdGVtSWQoaW5kZXgpKTtcclxuICAgICAgICB2YXIgcG9zdGVyID0gY3VycmVudEdhbGxlcnlJdGVtLnBvc3Rlciwgc3Jjc2V0ID0gY3VycmVudEdhbGxlcnlJdGVtLnNyY3NldCwgc2l6ZXMgPSBjdXJyZW50R2FsbGVyeUl0ZW0uc2l6ZXMsIHNvdXJjZXMgPSBjdXJyZW50R2FsbGVyeUl0ZW0uc291cmNlcztcclxuICAgICAgICB2YXIgc3JjID0gY3VycmVudEdhbGxlcnlJdGVtLnNyYztcclxuICAgICAgICB2YXIgdmlkZW8gPSBjdXJyZW50R2FsbGVyeUl0ZW0udmlkZW87XHJcbiAgICAgICAgdmFyIF9odG1sNVZpZGVvID0gdmlkZW8gJiYgdHlwZW9mIHZpZGVvID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodmlkZW8pIDogdmlkZW87XHJcbiAgICAgICAgaWYgKGN1cnJlbnRHYWxsZXJ5SXRlbS5yZXNwb25zaXZlKSB7XHJcbiAgICAgICAgICAgIHZhciBzcmNEeUl0bXMgPSBjdXJyZW50R2FsbGVyeUl0ZW0ucmVzcG9uc2l2ZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBzcmMgPSB1dGlscy5nZXRSZXNwb25zaXZlU3JjKHNyY0R5SXRtcykgfHwgc3JjO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmlkZW9JbmZvID0gY3VycmVudEdhbGxlcnlJdGVtLl9fc2xpZGVWaWRlb0luZm87XHJcbiAgICAgICAgdmFyIGxnVmlkZW9TdHlsZSA9ICcnO1xyXG4gICAgICAgIHZhciBpZnJhbWUgPSAhIWN1cnJlbnRHYWxsZXJ5SXRlbS5pZnJhbWU7XHJcbiAgICAgICAgdmFyIGlzRmlyc3RTbGlkZSA9ICF0aGlzLmxHYWxsZXJ5T247XHJcbiAgICAgICAgLy8gZGVsYXkgZm9yIGFkZGluZyBjb21wbGV0ZSBjbGFzcy4gaXQgaXMgMCBleGNlcHQgZmlyc3QgdGltZS5cclxuICAgICAgICB2YXIgZGVsYXkgPSAwO1xyXG4gICAgICAgIGlmIChpc0ZpcnN0U2xpZGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuem9vbUZyb21PcmlnaW4gJiYgdGhpcy5jdXJyZW50SW1hZ2VTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxheSA9IHRoaXMuc2V0dGluZ3Muc3RhcnRBbmltYXRpb25EdXJhdGlvbiArIDEwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVsYXkgPSB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24gKyAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISRjdXJyZW50U2xpZGUuaGFzQ2xhc3MoJ2xnLWxvYWRlZCcpKSB7XHJcbiAgICAgICAgICAgIGlmICh2aWRlb0luZm8pIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSA9IHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiwgdG9wXzIgPSBfYS50b3AsIGJvdHRvbSA9IF9hLmJvdHRvbTtcclxuICAgICAgICAgICAgICAgIHZhciB2aWRlb1NpemUgPSB1dGlscy5nZXRTaXplKHRoaXMuaXRlbXNbaW5kZXhdLCB0aGlzLm91dGVyLCB0b3BfMiArIGJvdHRvbSwgdmlkZW9JbmZvICYmIHRoaXMuc2V0dGluZ3MudmlkZW9NYXhTaXplKTtcclxuICAgICAgICAgICAgICAgIGxnVmlkZW9TdHlsZSA9IHRoaXMuZ2V0VmlkZW9Db250U3R5bGUodmlkZW9TaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaWZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya3VwID0gdXRpbHMuZ2V0SWZyYW1lTWFya3VwKHRoaXMuc2V0dGluZ3MuaWZyYW1lV2lkdGgsIHRoaXMuc2V0dGluZ3MuaWZyYW1lSGVpZ2h0LCB0aGlzLnNldHRpbmdzLmlmcmFtZU1heFdpZHRoLCB0aGlzLnNldHRpbmdzLmlmcmFtZU1heEhlaWdodCwgc3JjLCBjdXJyZW50R2FsbGVyeUl0ZW0uaWZyYW1lVGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgJGN1cnJlbnRTbGlkZS5wcmVwZW5kKG1hcmt1cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocG9zdGVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZHVtbXlJbWcgPSAnJztcclxuICAgICAgICAgICAgICAgIHZhciBoYXNTdGFydEFuaW1hdGlvbiA9IGlzRmlyc3RTbGlkZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZVNpemU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzU3RhcnRBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBkdW1teUltZyA9IHRoaXMuZ2V0RHVtbXlJbWFnZUNvbnRlbnQoJGN1cnJlbnRTbGlkZSwgaW5kZXgsICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBtYXJrdXAgPSB1dGlscy5nZXRWaWRlb1Bvc3Rlck1hcmt1cChwb3N0ZXIsIGR1bW15SW1nIHx8ICcnLCBsZ1ZpZGVvU3R5bGUsIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1sncGxheVZpZGVvJ10sIHZpZGVvSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlLnByZXBlbmQobWFya3VwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh2aWRlb0luZm8pIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXJrdXAgPSBcIjxkaXYgY2xhc3M9XFxcImxnLXZpZGVvLWNvbnQgXFxcIiBzdHlsZT1cXFwiXCIgKyBsZ1ZpZGVvU3R5bGUgKyBcIlxcXCI+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlLnByZXBlbmQobWFya3VwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1nTWFya3VwKHNyYywgJGN1cnJlbnRTbGlkZSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNyY3NldCB8fCBzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkY3VycmVudFNsaWRlLmZpbmQoJy5sZy1vYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRQaWN0dXJlRmlsbCgkaW1nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocG9zdGVyIHx8IHZpZGVvSW5mbykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuaGFzVmlkZW8sIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBzcmMsXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDVWaWRlbzogX2h0bWw1VmlkZW8sXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzUG9zdGVyOiAhIXBvc3RlcixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmFmdGVyQXBwZW5kU2xpZGUsIHsgaW5kZXg6IGluZGV4IH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sR2FsbGVyeU9uICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbyA9PT0gJy5sZy1pdGVtJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRIdG1sKGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGb3IgZmlyc3QgdGltZSBhZGQgc29tZSBkZWxheSBmb3IgZGlzcGxheWluZyB0aGUgc3RhcnQgYW5pbWF0aW9uLlxyXG4gICAgICAgIHZhciBfc3BlZWQgPSAwO1xyXG4gICAgICAgIC8vIERvIG5vdCBjaGFuZ2UgdGhlIGRlbGF5IHZhbHVlIGJlY2F1c2UgaXQgaXMgcmVxdWlyZWQgZm9yIHpvb20gcGx1Z2luLlxyXG4gICAgICAgIC8vIElmIGdhbGxlcnkgb3BlbmVkIGZyb20gZGlyZWN0IHVybCAoaGFzaCkgc3BlZWQgdmFsdWUgc2hvdWxkIGJlIDBcclxuICAgICAgICBpZiAoZGVsYXkgJiYgISRMRyhkb2N1bWVudC5ib2R5KS5oYXNDbGFzcygnbGctZnJvbS1oYXNoJykpIHtcclxuICAgICAgICAgICAgX3NwZWVkID0gZGVsYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE9ubHkgZm9yIGZpcnN0IHNsaWRlIGFuZCB6b29tRnJvbU9yaWdpbiBpcyBlbmFibGVkXHJcbiAgICAgICAgaWYgKHRoaXMuaXNGaXJzdFNsaWRlV2l0aFpvb21BbmltYXRpb24oKSkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRjdXJyZW50U2xpZGVcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLXN0YXJ0LWVuZC1wcm9ncmVzcyBsZy1zdGFydC1wcm9ncmVzcycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3RhcnRBbmltYXRpb25EdXJhdGlvbiArIDEwMCk7XHJcbiAgICAgICAgICAgIGlmICghJGN1cnJlbnRTbGlkZS5oYXNDbGFzcygnbGctbG9hZGVkJykpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5nZXRTbGlkZVR5cGUoY3VycmVudEdhbGxlcnlJdGVtKSA9PT0gJ2ltYWdlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0ID0gY3VycmVudEdhbGxlcnlJdGVtLmFsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdEF0dHIgPSBhbHQgPyAnYWx0PVwiJyArIGFsdCArICdcIicgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRTbGlkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1pbWctd3JhcCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHV0aWxzLmdldEltZ01hcmt1cChpbmRleCwgc3JjLCBhbHRBdHRyLCBzcmNzZXQsIHNpemVzLCBjdXJyZW50R2FsbGVyeUl0ZW0uc291cmNlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Jjc2V0IHx8IHNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW1nID0gJGN1cnJlbnRTbGlkZS5maW5kKCcubGctb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbml0UGljdHVyZUZpbGwoJGltZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmdldFNsaWRlVHlwZShjdXJyZW50R2FsbGVyeUl0ZW0pID09PSAnaW1hZ2UnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChfdGhpcy5nZXRTbGlkZVR5cGUoY3VycmVudEdhbGxlcnlJdGVtKSA9PT0gJ3ZpZGVvJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkxnT2JqZWN0TG9hZCgkY3VycmVudFNsaWRlLCBpbmRleCwgZGVsYXksIF9zcGVlZCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2FkIHJlbWFpbmluZyBzbGlkZXMgb25jZSB0aGUgc2xpZGUgaXMgY29tcGxldGVseSBsb2FkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25TbGlkZU9iamVjdExvYWQoJGN1cnJlbnRTbGlkZSwgISEodmlkZW9JbmZvICYmIHZpZGVvSW5mby5odG1sNSAmJiAhcG9zdGVyKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZENvbnRlbnRPbkZpcnN0U2xpZGVMb2FkKGluZGV4LCAkY3VycmVudFNsaWRlLCBfc3BlZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkQ29udGVudE9uRmlyc3RTbGlkZUxvYWQoaW5kZXgsICRjdXJyZW50U2xpZGUsIF9zcGVlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3RhcnRBbmltYXRpb25EdXJhdGlvbiArIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU0xpZGUgY29udGVudCBoYXMgYmVlbiBhZGRlZCB0byBkb21cclxuICAgICAgICAkY3VycmVudFNsaWRlLmFkZENsYXNzKCdsZy1sb2FkZWQnKTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNGaXJzdFNsaWRlV2l0aFpvb21BbmltYXRpb24oKSB8fFxyXG4gICAgICAgICAgICAodGhpcy5nZXRTbGlkZVR5cGUoY3VycmVudEdhbGxlcnlJdGVtKSA9PT0gJ3ZpZGVvJyAmJiAhcG9zdGVyKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTGdPYmplY3RMb2FkKCRjdXJyZW50U2xpZGUsIGluZGV4LCBkZWxheSwgX3NwZWVkLCBpc0ZpcnN0U2xpZGUsICEhKHZpZGVvSW5mbyAmJiB2aWRlb0luZm8uaHRtbDUgJiYgIXBvc3RlcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBXaGVuIGdhbGxlcnkgaXMgb3BlbmVkIG9uY2UgY29udGVudCBpcyBsb2FkZWQgKHNlY29uZCB0aW1lKSBuZWVkIHRvIGFkZCBsZy1jb21wbGV0ZSBjbGFzcyBmb3IgY3NzIHN0eWxpbmdcclxuICAgICAgICBpZiAoKCF0aGlzLnpvb21Gcm9tT3JpZ2luIHx8ICF0aGlzLmN1cnJlbnRJbWFnZVNpemUpICYmXHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuaGFzQ2xhc3MoJ2xnLWNvbXBsZXRlXycpICYmXHJcbiAgICAgICAgICAgICF0aGlzLmxHYWxsZXJ5T24pIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlLmFkZENsYXNzKCdsZy1jb21wbGV0ZScpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDb250ZW50IGxvYWRlZFxyXG4gICAgICAgIC8vIE5lZWQgdG8gc2V0IGxHYWxsZXJ5T24gYmVmb3JlIGNhbGxpbmcgcHJlbG9hZCBmdW5jdGlvblxyXG4gICAgICAgIHRoaXMubEdhbGxlcnlPbiA9IHRydWU7XHJcbiAgICAgICAgaWYgKHJlYyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoISRjdXJyZW50U2xpZGUuaGFzQ2xhc3MoJ2xnLWNvbXBsZXRlXycpKSB7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1vYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdsb2FkLmxnIGVycm9yLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnByZWxvYWQoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWQoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2MgUmVtb3ZlIGR1bW15IGltYWdlIGNvbnRlbnQgYW5kIGxvYWQgbmV4dCBzbGlkZXNcclxuICAgICAqIENhbGxlZCBvbmx5IGZvciB0aGUgZmlyc3QgdGltZSBpZiB6b29tRnJvbU9yaWdpbiBhbmltYXRpb24gaXMgZW5hYmxlZFxyXG4gICAgICogQHBhcmFtIGluZGV4XHJcbiAgICAgKiBAcGFyYW0gJGN1cnJlbnRTbGlkZVxyXG4gICAgICogQHBhcmFtIHNwZWVkXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUubG9hZENvbnRlbnRPbkZpcnN0U2xpZGVMb2FkID0gZnVuY3Rpb24gKGluZGV4LCAkY3VycmVudFNsaWRlLCBzcGVlZCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuZmluZCgnLmxnLWR1bW15LWltZycpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkY3VycmVudFNsaWRlLnJlbW92ZUNsYXNzKCdsZy1maXJzdC1zbGlkZScpO1xyXG4gICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctZmlyc3Qtc2xpZGUtbG9hZGluZycpO1xyXG4gICAgICAgICAgICBfdGhpcy5pc0R1bW15SW1hZ2VSZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMucHJlbG9hZChpbmRleCk7XHJcbiAgICAgICAgfSwgc3BlZWQgKyAzMDApO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0SXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbSA9IGZ1bmN0aW9uIChpbmRleCwgcHJldkluZGV4LCBudW1iZXJPZkl0ZW1zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAobnVtYmVyT2ZJdGVtcyA9PT0gdm9pZCAwKSB7IG51bWJlck9mSXRlbXMgPSAwOyB9XHJcbiAgICAgICAgdmFyIGl0ZW1zVG9CZUluc2VydGVkVG9Eb20gPSBbXTtcclxuICAgICAgICAvLyBNaW5pbXVtIDIgaXRlbXMgc2hvdWxkIGJlIHRoZXJlXHJcbiAgICAgICAgdmFyIHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyA9IE1hdGgubWF4KG51bWJlck9mSXRlbXMsIDMpO1xyXG4gICAgICAgIHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyA9IE1hdGgubWluKHBvc3NpYmxlTnVtYmVyT2ZJdGVtcywgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoKTtcclxuICAgICAgICB2YXIgcHJldkluZGV4SXRlbSA9IFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgcHJldkluZGV4O1xyXG4gICAgICAgIGlmICh0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggPD0gMykge1xyXG4gICAgICAgICAgICB0aGlzLmdhbGxlcnlJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChfZWxlbWVudCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zVG9CZUluc2VydGVkVG9Eb20ucHVzaChcImxnLWl0ZW0tXCIgKyBfdGhpcy5sZ0lkICsgXCItXCIgKyBpbmRleCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4IDwgKHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDEpIC8gMikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpZHggPSBpbmRleDsgaWR4ID4gaW5kZXggLSBwb3NzaWJsZU51bWJlck9mSXRlbXMgLyAyICYmIGlkeCA+PSAwOyBpZHgtLSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5wdXNoKFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbnVtYmVyT2ZFeGlzdGluZ0l0ZW1zID0gaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyAtIG51bWJlck9mRXhpc3RpbmdJdGVtczsgaWR4KyspIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zVG9CZUluc2VydGVkVG9Eb20ucHVzaChcImxnLWl0ZW0tXCIgKyB0aGlzLmxnSWQgKyBcIi1cIiArIChpbmRleCArIGlkeCArIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gaW5kZXg7IGlkeCA8PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggLSAxICYmXHJcbiAgICAgICAgICAgICAgICBpZHggPCBpbmRleCArIHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyAvIDI7IGlkeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLnB1c2goXCJsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBudW1iZXJPZkV4aXN0aW5nSXRlbXMgPSBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgcG9zc2libGVOdW1iZXJPZkl0ZW1zIC0gbnVtYmVyT2ZFeGlzdGluZ0l0ZW1zOyBpZHgrKykge1xyXG4gICAgICAgICAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5wdXNoKFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgKGluZGV4IC0gaWR4IC0gMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLnB1c2goXCJsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5wdXNoKFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgKHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5pbmRleE9mKHByZXZJbmRleEl0ZW0pID09PSAtMSkge1xyXG4gICAgICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLnB1c2goXCJsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyBwcmV2SW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm9yZ2FuaXplU2xpZGVJdGVtcyA9IGZ1bmN0aW9uIChpbmRleCwgcHJldkluZGV4KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbSA9IHRoaXMuZ2V0SXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbShpbmRleCwgcHJldkluZGV4LCB0aGlzLnNldHRpbmdzLm51bWJlck9mU2xpZGVJdGVtc0luRG9tKTtcclxuICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRJdGVtc0luRG9tLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy4kaW5uZXIuYXBwZW5kKFwiPGRpdiBpZD1cXFwiXCIgKyBpdGVtICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1pdGVtXFxcIj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc0luRG9tLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW1zVG9CZUluc2VydGVkVG9Eb20uaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICRMRyhcIiNcIiArIGl0ZW0pLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zVG9CZUluc2VydGVkVG9Eb207XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcHJldmlvdXMgaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0UHJldmlvdXNTbGlkZUluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwcmV2SW5kZXggPSAwO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbUlkID0gdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1jdXJyZW50JylcclxuICAgICAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnKTtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gcGFyc2VJbnQoY3VycmVudEl0ZW1JZC5zcGxpdCgnLScpWzNdKSB8fCAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByZXZJbmRleDtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnNldERvd25sb2FkVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgaGlkZURvd25sb2FkQnRuID0gY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkVXJsID09PSBmYWxzZSB8fFxyXG4gICAgICAgICAgICAgICAgY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkVXJsID09PSAnZmFsc2UnO1xyXG4gICAgICAgICAgICBpZiAoaGlkZURvd25sb2FkQnRuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dGVyLmFkZENsYXNzKCdsZy1oaWRlLWRvd25sb2FkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGRvd25sb2FkID0gdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctZG93bmxvYWQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLWhpZGUtZG93bmxvYWQnKTtcclxuICAgICAgICAgICAgICAgICRkb3dubG9hZC5hdHRyKCdocmVmJywgY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkVXJsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdhbGxlcnlJdGVtLnNyYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRvd25sb2FkLmF0dHIoJ2Rvd25sb2FkJywgY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1ha2VTbGlkZUFuaW1hdGlvbiA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGN1cnJlbnRTbGlkZUl0ZW0sIHByZXZpb3VzU2xpZGVJdGVtKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5sR2FsbGVyeU9uKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU2xpZGVJdGVtLmFkZENsYXNzKCdsZy1zbGlkZS1wcm9ncmVzcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCB0cmFuc2l0aW9uc1xyXG4gICAgICAgICAgICBfdGhpcy5vdXRlci5hZGRDbGFzcygnbGctbm8tdHJhbnMnKTtcclxuICAgICAgICAgICAgX3RoaXMub3V0ZXJcclxuICAgICAgICAgICAgICAgIC5maW5kKCcubGctaXRlbScpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLXByZXYtc2xpZGUgbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcclxuICAgICAgICAgICAgICAgIC8vcHJldnNsaWRlXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVJdGVtLmFkZENsYXNzKCdsZy1wcmV2LXNsaWRlJyk7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NsaWRlSXRlbS5hZGRDbGFzcygnbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbmV4dCBzbGlkZVxyXG4gICAgICAgICAgICAgICAgY3VycmVudFNsaWRlSXRlbS5hZGRDbGFzcygnbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNTbGlkZUl0ZW0uYWRkQ2xhc3MoJ2xnLXByZXYtc2xpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBnaXZlIDUwIG1zIGZvciBicm93c2VyIHRvIGFkZC9yZW1vdmUgY2xhc3NcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5maW5kKCcubGctaXRlbScpLnJlbW92ZUNsYXNzKCdsZy1jdXJyZW50Jyk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVJdGVtLmFkZENsYXNzKCdsZy1jdXJyZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyByZXNldCBhbGwgdHJhbnNpdGlvbnNcclxuICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1uby10cmFucycpO1xyXG4gICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgfSwgdGhpcy5sR2FsbGVyeU9uID8gdGhpcy5zZXR0aW5ncy5zbGlkZURlbGF5IDogMCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHb3RvIGEgc3BlY2lmaWMgc2xpZGUuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBpbmRleCBvZiB0aGUgc2xpZGVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZnJvbVRvdWNoIC0gdHJ1ZSBpZiBzbGlkZSBmdW5jdGlvbiBjYWxsZWQgdmlhIHRvdWNoIGV2ZW50IG9yIG1vdXNlIGRyYWdcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZnJvbVRodW1iIC0gdHJ1ZSBpZiBzbGlkZSBmdW5jdGlvbiBjYWxsZWQgdmlhIHRodW1ibmFpbCBjbGlja1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAtIERpcmVjdGlvbiBvZiB0aGUgc2xpZGUobmV4dC9wcmV2KVxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoKTtcclxuICAgICAqICAvLyB0byBnbyB0byAzcmQgc2xpZGVcclxuICAgICAqICBwbHVnaW4uc2xpZGUoMik7XHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKGluZGV4LCBmcm9tVG91Y2gsIGZyb21UaHVtYiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgcHJldkluZGV4ID0gdGhpcy5nZXRQcmV2aW91c1NsaWRlSW5kZXgoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc0luRG9tID0gdGhpcy5vcmdhbml6ZVNsaWRlSXRlbXMoaW5kZXgsIHByZXZJbmRleCk7XHJcbiAgICAgICAgLy8gUHJldmVudCBtdWx0aXBsZSBjYWxsLCBSZXF1aXJlZCBmb3IgaHNoIHBsdWdpblxyXG4gICAgICAgIGlmICh0aGlzLmxHYWxsZXJ5T24gJiYgcHJldkluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBudW1iZXJPZkdhbGxlcnlJdGVtcyA9IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICBpZiAoIXRoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudENvdW50ZXIoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2xpZGVJdGVtID0gdGhpcy5nZXRTbGlkZUl0ZW0oaW5kZXgpO1xyXG4gICAgICAgICAgICB2YXIgcHJldmlvdXNTbGlkZUl0ZW1fMSA9IHRoaXMuZ2V0U2xpZGVJdGVtKHByZXZJbmRleCk7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50R2FsbGVyeUl0ZW0gPSB0aGlzLmdhbGxlcnlJdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIHZhciB2aWRlb0luZm8gPSBjdXJyZW50R2FsbGVyeUl0ZW0uX19zbGlkZVZpZGVvSW5mbztcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5hdHRyKCdkYXRhLWxnLXNsaWRlLXR5cGUnLCB0aGlzLmdldFNsaWRlVHlwZShjdXJyZW50R2FsbGVyeUl0ZW0pKTtcclxuICAgICAgICAgICAgdGhpcy5zZXREb3dubG9hZFZhbHVlKGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKHZpZGVvSW5mbykge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5tZWRpYUNvbnRhaW5lclBvc2l0aW9uLCB0b3BfMyA9IF9hLnRvcCwgYm90dG9tID0gX2EuYm90dG9tO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvU2l6ZSA9IHV0aWxzLmdldFNpemUodGhpcy5pdGVtc1tpbmRleF0sIHRoaXMub3V0ZXIsIHRvcF8zICsgYm90dG9tLCB2aWRlb0luZm8gJiYgdGhpcy5zZXR0aW5ncy52aWRlb01heFNpemUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVWaWRlb1NsaWRlKGluZGV4LCB2aWRlb1NpemUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmJlZm9yZVNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICBwcmV2SW5kZXg6IHByZXZJbmRleCxcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIGZyb21Ub3VjaDogISFmcm9tVG91Y2gsXHJcbiAgICAgICAgICAgICAgICBmcm9tVGh1bWI6ICEhZnJvbVRodW1iLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5sZ0J1c3kgPSB0cnVlO1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlQmFyVGltZW91dCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXJyb3dEaXNhYmxlKGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKCFkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHByZXZJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdwcmV2JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID4gcHJldkluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ25leHQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZnJvbVRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1ha2VTbGlkZUFuaW1hdGlvbihkaXJlY3Rpb24sIGN1cnJlbnRTbGlkZUl0ZW0sIHByZXZpb3VzU2xpZGVJdGVtXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcubGctaXRlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdsZy1wcmV2LXNsaWRlIGxnLWN1cnJlbnQgbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoUHJldiA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIHZhciB0b3VjaE5leHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtYmVyT2ZHYWxsZXJ5SXRlbXMgPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hQcmV2ID0gaW5kZXggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoTmV4dCA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgcHJldkluZGV4ID09PSBudW1iZXJPZkdhbGxlcnlJdGVtcyAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBzbGlkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaE5leHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaFByZXYgPSBudW1iZXJPZkdhbGxlcnlJdGVtcyAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSBudW1iZXJPZkdhbGxlcnlJdGVtcyAtIDEgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXYgc2xpZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hOZXh0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hQcmV2ID0gbnVtYmVyT2ZHYWxsZXJ5SXRlbXMgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoUHJldiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hOZXh0ID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKHRvdWNoTmV4dCkuYWRkQ2xhc3MoJ2xnLW5leHQtc2xpZGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKHRvdWNoUHJldikuYWRkQ2xhc3MoJ2xnLXByZXYtc2xpZGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZUl0ZW0uYWRkQ2xhc3MoJ2xnLWN1cnJlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEbyBub3QgcHV0IGxvYWQgY29udGVudCBpbiBzZXQgdGltZW91dCBhcyBpdCBuZWVkcyB0byBsb2FkIGltbWVkaWF0ZWx5IHdoZW4gdGhlIGdhbGxlcnkgaXMgb3BlbmVkXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5sR2FsbGVyeU9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRDb250ZW50KGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGl0bGUgaWYgdGhpcy5zZXR0aW5ncy5hcHBlbmRTdWJIdG1sVG8gPT09IGxnLXN1Yi1odG1sXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbyAhPT0gJy5sZy1pdGVtJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRIdG1sKGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnNldHRpbmdzLnNwZWVkICsgNTAgKyAoZnJvbVRvdWNoID8gMCA6IHRoaXMuc2V0dGluZ3Muc2xpZGVEZWxheSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGdCdXN5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NsaWRlSXRlbV8xLnJlbW92ZUNsYXNzKCdsZy1zbGlkZS1wcm9ncmVzcycpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmFmdGVyU2xpZGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXg6IHByZXZJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRvdWNoOiBmcm9tVG91Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRodW1iOiBmcm9tVGh1bWIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgKHRoaXMubEdhbGxlcnlPbiA/IHRoaXMuc2V0dGluZ3Muc3BlZWQgKyAxMDAgOiAxMDApICsgKGZyb21Ub3VjaCA/IDAgOiB0aGlzLnNldHRpbmdzLnNsaWRlRGVsYXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudXBkYXRlQ3VycmVudENvdW50ZXIgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jb3VudGVyLWN1cnJlbnQnKS5odG1sKGluZGV4ICsgMSArICcnKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnVwZGF0ZUNvdW50ZXJUb3RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jb3VudGVyLWFsbCcpLmh0bWwodGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoICsgJycpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0U2xpZGVUeXBlID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbS5fX3NsaWRlVmlkZW9JbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndmlkZW8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpdGVtLmlmcmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2lmcmFtZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2ltYWdlJztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS50b3VjaE1vdmUgPSBmdW5jdGlvbiAoc3RhcnRDb29yZHMsIGVuZENvb3JkcywgZSkge1xyXG4gICAgICAgIHZhciBkaXN0YW5jZVggPSBlbmRDb29yZHMucGFnZVggLSBzdGFydENvb3Jkcy5wYWdlWDtcclxuICAgICAgICB2YXIgZGlzdGFuY2VZID0gZW5kQ29vcmRzLnBhZ2VZIC0gc3RhcnRDb29yZHMucGFnZVk7XHJcbiAgICAgICAgdmFyIGFsbG93U3dpcGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5zd2lwZURpcmVjdGlvbikge1xyXG4gICAgICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZVgpID4gMTUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpcGVEaXJlY3Rpb24gPSAnaG9yaXpvbnRhbCc7XHJcbiAgICAgICAgICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkaXN0YW5jZVkpID4gMTUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpcGVEaXJlY3Rpb24gPSAndmVydGljYWwnO1xyXG4gICAgICAgICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhbGxvd1N3aXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyICRjdXJyZW50U2xpZGUgPSB0aGlzLmdldFNsaWRlSXRlbSh0aGlzLmluZGV4KTtcclxuICAgICAgICBpZiAodGhpcy5zd2lwZURpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgICAgIGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyByZXNldCBvcGFjaXR5IGFuZCB0cmFuc2l0aW9uIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWRyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgIC8vIG1vdmUgY3VycmVudCBzbGlkZVxyXG4gICAgICAgICAgICB0aGlzLnNldFRyYW5zbGF0ZSgkY3VycmVudFNsaWRlLCBkaXN0YW5jZVgsIDApO1xyXG4gICAgICAgICAgICAvLyBtb3ZlIG5leHQgYW5kIHByZXYgc2xpZGUgd2l0aCBjdXJyZW50IHNsaWRlXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICRjdXJyZW50U2xpZGUuZ2V0KCkub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZVdpZHRoQW1vdW50ID0gKHdpZHRoICogMTUpIC8gMTAwO1xyXG4gICAgICAgICAgICB2YXIgZ3V0dGVyID0gc2xpZGVXaWR0aEFtb3VudCAtIE1hdGguYWJzKChkaXN0YW5jZVggKiAxMCkgLyAxMDApO1xyXG4gICAgICAgICAgICB0aGlzLnNldFRyYW5zbGF0ZSh0aGlzLm91dGVyLmZpbmQoJy5sZy1wcmV2LXNsaWRlJykuZmlyc3QoKSwgLXdpZHRoICsgZGlzdGFuY2VYIC0gZ3V0dGVyLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2xhdGUodGhpcy5vdXRlci5maW5kKCcubGctbmV4dC1zbGlkZScpLmZpcnN0KCksIHdpZHRoICsgZGlzdGFuY2VYICsgZ3V0dGVyLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zd2lwZURpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zd2lwZVRvQ2xvc2UpIHtcclxuICAgICAgICAgICAgICAgIGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFkZENsYXNzKCdsZy1kcmFnZ2luZy12ZXJ0aWNhbCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSAxIC0gTWF0aC5hYnMoZGlzdGFuY2VZKSAvIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGJhY2tkcm9wLmNzcygnb3BhY2l0eScsIG9wYWNpdHkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gMSAtIE1hdGguYWJzKGRpc3RhbmNlWSkgLyAod2luZG93LmlubmVyV2lkdGggKiAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNsYXRlKCRjdXJyZW50U2xpZGUsIDAsIGRpc3RhbmNlWSwgc2NhbGUsIHNjYWxlKTtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZVkpID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2xnLWhpZGUtaXRlbXMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLWNvbXBvbmVudHMtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudG91Y2hFbmQgPSBmdW5jdGlvbiAoZW5kQ29vcmRzLCBzdGFydENvb3JkcywgZXZlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkaXN0YW5jZTtcclxuICAgICAgICAvLyBrZWVwIHNsaWRlIGFuaW1hdGlvbiBmb3IgYW55IG1vZGUgd2hpbGUgZHJhZ2cvc3dpcGVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb2RlICE9PSAnbGctc2xpZGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLXNsaWRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCB0cmFuc2l0aW9uIGR1cmF0aW9uXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoJ2xnLWRyYWdnaW5nLXZlcnRpY2FsJyk7XHJcbiAgICAgICAgICAgIF90aGlzLm91dGVyXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLWRyYWdnaW5nIGxnLWhpZGUtaXRlbXMnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdsZy1jb21wb25lbnRzLW9wZW4nKTtcclxuICAgICAgICAgICAgdmFyIHRyaWdnZXJDbGljayA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zd2lwZURpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IGVuZENvb3Jkcy5wYWdlWCAtIHN0YXJ0Q29vcmRzLnBhZ2VYO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlQWJzID0gTWF0aC5hYnMoZW5kQ29vcmRzLnBhZ2VYIC0gc3RhcnRDb29yZHMucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlQWJzID4gX3RoaXMuc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nb1RvTmV4dFNsaWRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJDbGljayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlzdGFuY2UgPiAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VBYnMgPiBfdGhpcy5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdvVG9QcmV2U2xpZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckNsaWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuc3dpcGVEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoZW5kQ29vcmRzLnBhZ2VZIC0gc3RhcnRDb29yZHMucGFnZVkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmNsb3NhYmxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3Muc3dpcGVUb0Nsb3NlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPiAxMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYmFja2Ryb3AuY3NzKCdvcGFjaXR5JywgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMub3V0ZXIuZmluZCgnLmxnLWl0ZW0nKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgICAgICBpZiAodHJpZ2dlckNsaWNrICYmXHJcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhlbmRDb29yZHMucGFnZVggLSBzdGFydENvb3Jkcy5wYWdlWCkgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGNsaWNrIGlmIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiA1IHBpeFxyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICRMRyhldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzUG9zdGVyRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnBvc3RlckNsaWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zd2lwZURpcmVjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyByZW1vdmUgc2xpZGUgY2xhc3Mgb25jZSBkcmFnL3N3aXBlIGlzIGNvbXBsZXRlZCBpZiBtb2RlIGlzIG5vdCBzbGlkZVxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLm91dGVyLmhhc0NsYXNzKCdsZy1kcmFnZ2luZycpICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tb2RlICE9PSAnbGctc2xpZGUnKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctc2xpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3BlZWQgKyAxMDApO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZW5hYmxlU3dpcGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgc3RhcnRDb29yZHMgPSB7fTtcclxuICAgICAgICB2YXIgZW5kQ29vcmRzID0ge307XHJcbiAgICAgICAgdmFyIGlzTW92ZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNTd2lwaW5nID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlU3dpcGUpIHtcclxuICAgICAgICAgICAgdGhpcy4kaW5uZXIub24oJ3RvdWNoc3RhcnQubGcnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhZ09yU3dpcGVFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9IF90aGlzLmdldFNsaWRlSXRlbShfdGhpcy5pbmRleCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKCRMRyhlLnRhcmdldCkuaGFzQ2xhc3MoJ2xnLWl0ZW0nKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICRpdGVtLmdldCgpLmNvbnRhaW5zKGUudGFyZ2V0KSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhX3RoaXMub3V0ZXIuaGFzQ2xhc3MoJ2xnLXpvb21lZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIV90aGlzLmxnQnVzeSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGUudG91Y2hlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoQWN0aW9uID0gJ3N3aXBlJztcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tYW5hZ2VTd2lwZUNsYXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb29yZHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiBlLnRvdWNoZXNbMF0ucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZOiBlLnRvdWNoZXNbMF0ucGFnZVksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGlubmVyLm9uKCd0b3VjaG1vdmUubGcnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU3dpcGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoQWN0aW9uID09PSAnc3dpcGUnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZENvb3JkcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVg6IGUudG91Y2hlc1swXS5wYWdlWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVk6IGUudG91Y2hlc1swXS5wYWdlWSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoTW92ZShzdGFydENvb3JkcywgZW5kQ29vcmRzLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICBpc01vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGlubmVyLm9uKCd0b3VjaGVuZC5sZycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnRvdWNoQWN0aW9uID09PSAnc3dpcGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaEVuZChlbmRDb29yZHMsIHN0YXJ0Q29vcmRzLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzU3dpcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJExHKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1Bvc3RlckVsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnBvc3RlckNsaWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaEFjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZW5hYmxlRHJhZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IHt9O1xyXG4gICAgICAgIHZhciBlbmRDb29yZHMgPSB7fTtcclxuICAgICAgICB2YXIgaXNEcmFnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzTW92ZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVEcmFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIub24oJ21vdXNlZG93bi5sZycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmFnT3JTd2lwZUVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyICRpdGVtID0gX3RoaXMuZ2V0U2xpZGVJdGVtKF90aGlzLmluZGV4KTtcclxuICAgICAgICAgICAgICAgIGlmICgkTEcoZS50YXJnZXQpLmhhc0NsYXNzKCdsZy1pdGVtJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAkaXRlbS5nZXQoKS5jb250YWlucyhlLnRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLm91dGVyLmhhc0NsYXNzKCdsZy16b29tZWQnKSAmJiAhX3RoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5sZ0J1c3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hbmFnZVN3aXBlQ2xhc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29vcmRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiBlLnBhZ2VYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZOiBlLnBhZ2VZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqKiBGaXggZm9yIHdlYmtpdCBjdXJzb3IgaXNzdWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI2NzIzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5nZXQoKS5zY3JvbGxMZWZ0ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5nZXQoKS5zY3JvbGxMZWZ0IC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnbGctZ3JhYicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdsZy1ncmFiYmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmRyYWdTdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkTEcod2luZG93KS5vbihcIm1vdXNlbW92ZS5sZy5nbG9iYWxcIiArIHRoaXMubGdJZCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0RyYWdpbmcgJiYgX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc01vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBlbmRDb29yZHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiBlLnBhZ2VYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlWTogZS5wYWdlWSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoTW92ZShzdGFydENvb3JkcywgZW5kQ29vcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuZHJhZ01vdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykub24oXCJtb3VzZXVwLmxnLmdsb2JhbFwiICsgdGhpcy5sZ0lkLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJExHKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzTW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaEVuZChlbmRDb29yZHMsIHN0YXJ0Q29vcmRzLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmRyYWdFbmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuaXNQb3N0ZXJFbGVtZW50KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMucG9zdGVyQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBleGVjdXRpb24gb24gY2xpY2tcclxuICAgICAgICAgICAgICAgIGlmIChpc0RyYWdpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0RyYWdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctZ3JhYmJpbmcnKS5hZGRDbGFzcygnbGctZ3JhYicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS50cmlnZ2VyUG9zdGVyQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLiRpbm5lci5vbignY2xpY2subGcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5kcmFnT3JTd2lwZUVuYWJsZWQgJiZcclxuICAgICAgICAgICAgICAgIF90aGlzLmlzUG9zdGVyRWxlbWVudCgkTEcoZXZlbnQudGFyZ2V0KSkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5wb3N0ZXJDbGljayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1hbmFnZVN3aXBlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90b3VjaE5leHQgPSB0aGlzLmluZGV4ICsgMTtcclxuICAgICAgICB2YXIgX3RvdWNoUHJldiA9IHRoaXMuaW5kZXggLSAxO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvb3AgJiYgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgX3RvdWNoUHJldiA9IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgX3RvdWNoTmV4dCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vdXRlci5maW5kKCcubGctaXRlbScpLnJlbW92ZUNsYXNzKCdsZy1uZXh0LXNsaWRlIGxnLXByZXYtc2xpZGUnKTtcclxuICAgICAgICBpZiAoX3RvdWNoUHJldiA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKF90b3VjaFByZXYpLmFkZENsYXNzKCdsZy1wcmV2LXNsaWRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKF90b3VjaE5leHQpLmFkZENsYXNzKCdsZy1uZXh0LXNsaWRlJyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHbyB0byBuZXh0IHNsaWRlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZyb21Ub3VjaCAtIHRydWUgaWYgc2xpZGUgZnVuY3Rpb24gY2FsbGVkIHZpYSB0b3VjaCBldmVudFxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoKTtcclxuICAgICAqICBwbHVnaW4uZ29Ub05leHRTbGlkZSgpO1xyXG4gICAgICogQHNlZSA8YSBocmVmPVwiL2RlbW9zL21ldGhvZHMvXCI+RGVtbzwvYT5cclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nb1RvTmV4dFNsaWRlID0gZnVuY3Rpb24gKGZyb21Ub3VjaCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9sb29wID0gdGhpcy5zZXR0aW5ncy5sb29wO1xyXG4gICAgICAgIGlmIChmcm9tVG91Y2ggJiYgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICBfbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ICsgMSA8IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlTmV4dFNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGUodGhpcy5pbmRleCwgISFmcm9tVG91Y2gsIGZhbHNlLCAnbmV4dCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9sb29wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlTmV4dFNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGUodGhpcy5pbmRleCwgISFmcm9tVG91Y2gsIGZhbHNlLCAnbmV4dCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5zbGlkZUVuZEFuaW1hdGlvbiAmJiAhZnJvbVRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRlci5hZGRDbGFzcygnbGctcmlnaHQtZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1yaWdodC1lbmQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA0MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR28gdG8gcHJldmlvdXMgc2xpZGVzXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZyb21Ub3VjaCAtIHRydWUgaWYgc2xpZGUgZnVuY3Rpb24gY2FsbGVkIHZpYSB0b3VjaCBldmVudFxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoe30pO1xyXG4gICAgICogIHBsdWdpbi5nb1RvUHJldlNsaWRlKCk7XHJcbiAgICAgKiBAc2VlIDxhIGhyZWY9XCIvZGVtb3MvbWV0aG9kcy9cIj5EZW1vPC9hPlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nb1RvUHJldlNsaWRlID0gZnVuY3Rpb24gKGZyb21Ub3VjaCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9sb29wID0gdGhpcy5zZXR0aW5ncy5sb29wO1xyXG4gICAgICAgIGlmIChmcm9tVG91Y2ggJiYgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICBfbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlUHJldlNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRvdWNoOiBmcm9tVG91Y2gsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGUodGhpcy5pbmRleCwgISFmcm9tVG91Y2gsIGZhbHNlLCAncHJldicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9sb29wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlUHJldlNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tVG91Y2g6IGZyb21Ub3VjaCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlKHRoaXMuaW5kZXgsICEhZnJvbVRvdWNoLCBmYWxzZSwgJ3ByZXYnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3Muc2xpZGVFbmRBbmltYXRpb24gJiYgIWZyb21Ub3VjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWxlZnQtZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1sZWZ0LWVuZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5rZXlQcmVzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICRMRyh3aW5kb3cpLm9uKFwia2V5ZG93bi5sZy5nbG9iYWxcIiArIHRoaXMubGdJZCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmxnT3BlbmVkICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5lc2NLZXkgPT09IHRydWUgJiZcclxuICAgICAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gMjcpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5hbGxvd01lZGlhT3ZlcmxhcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLmhhc0NsYXNzKCdsZy1jYW4tdG9nZ2xlJykgJiZcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5oYXNDbGFzcygnbGctY29tcG9uZW50cy1vcGVuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctY29tcG9uZW50cy1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMubGdPcGVuZWQgJiYgX3RoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdvVG9QcmV2U2xpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdvVG9OZXh0U2xpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1wcmV2Jykub24oJ2NsaWNrLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5nb1RvUHJldlNsaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctbmV4dCcpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuZ29Ub05leHRTbGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuYXJyb3dEaXNhYmxlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgLy8gRGlzYWJsZSBhcnJvd3MgaWYgc2V0dGluZ3MuaGlkZUNvbnRyb2xPbkVuZCBpcyB0cnVlXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmxvb3AgJiYgdGhpcy5zZXR0aW5ncy5oaWRlQ29udHJvbE9uRW5kKSB7XHJcbiAgICAgICAgICAgIHZhciAkcHJldiA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLXByZXYnKTtcclxuICAgICAgICAgICAgdmFyICRuZXh0ID0gdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctbmV4dCcpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRuZXh0LmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkbmV4dC5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJHByZXYuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRwcmV2LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5zZXRUcmFuc2xhdGUgPSBmdW5jdGlvbiAoJGVsLCB4VmFsdWUsIHlWYWx1ZSwgc2NhbGVYLCBzY2FsZVkpIHtcclxuICAgICAgICBpZiAoc2NhbGVYID09PSB2b2lkIDApIHsgc2NhbGVYID0gMTsgfVxyXG4gICAgICAgIGlmIChzY2FsZVkgPT09IHZvaWQgMCkgeyBzY2FsZVkgPSAxOyB9XHJcbiAgICAgICAgJGVsLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgK1xyXG4gICAgICAgICAgICB4VmFsdWUgK1xyXG4gICAgICAgICAgICAncHgsICcgK1xyXG4gICAgICAgICAgICB5VmFsdWUgK1xyXG4gICAgICAgICAgICAncHgsIDBweCkgc2NhbGUzZCgnICtcclxuICAgICAgICAgICAgc2NhbGVYICtcclxuICAgICAgICAgICAgJywgJyArXHJcbiAgICAgICAgICAgIHNjYWxlWSArXHJcbiAgICAgICAgICAgICcsIDEpJyk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5tb3VzZXdoZWVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGxhc3RDYWxsID0gMDtcclxuICAgICAgICB0aGlzLm91dGVyLm9uKCd3aGVlbC5sZycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZS5kZWx0YVkgfHwgX3RoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgaWYgKG5vdyAtIGxhc3RDYWxsIDwgMTAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhc3RDYWxsID0gbm93O1xyXG4gICAgICAgICAgICBpZiAoZS5kZWx0YVkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nb1RvTmV4dFNsaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZS5kZWx0YVkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nb1RvUHJldlNsaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmlzU2xpZGVFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiAodGFyZ2V0Lmhhc0NsYXNzKCdsZy1vdXRlcicpIHx8XHJcbiAgICAgICAgICAgIHRhcmdldC5oYXNDbGFzcygnbGctaXRlbScpIHx8XHJcbiAgICAgICAgICAgIHRhcmdldC5oYXNDbGFzcygnbGctaW1nLXdyYXAnKSk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pc1Bvc3RlckVsZW1lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIHBsYXlCdXR0b24gPSB0aGlzLmdldFNsaWRlSXRlbSh0aGlzLmluZGV4KVxyXG4gICAgICAgICAgICAuZmluZCgnLmxnLXZpZGVvLXBsYXktYnV0dG9uJylcclxuICAgICAgICAgICAgLmdldCgpO1xyXG4gICAgICAgIHJldHVybiAodGFyZ2V0Lmhhc0NsYXNzKCdsZy12aWRlby1wb3N0ZXInKSB8fFxyXG4gICAgICAgICAgICB0YXJnZXQuaGFzQ2xhc3MoJ2xnLXZpZGVvLXBsYXktYnV0dG9uJykgfHxcclxuICAgICAgICAgICAgKHBsYXlCdXR0b24gJiYgcGxheUJ1dHRvbi5jb250YWlucyh0YXJnZXQuZ2V0KCkpKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXhpbWl6ZSBtaW5pbWl6ZSBpbmxpbmUgZ2FsbGVyeS5cclxuICAgICAqIEBjYXRlZ29yeSBsR1B1YmxpY01ldGhvZHNcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS50b2dnbGVNYXhpbWl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLW1heGltaXplJykub24oJ2NsaWNrLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLnRvZ2dsZUNsYXNzKCdsZy1pbmxpbmUnKTtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaE9uUmVzaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlSXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5pdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICRMRyhlbGVtZW50KTtcclxuICAgICAgICAgICAgJGVsZW1lbnQub2ZmKFwiY2xpY2subGdjdXN0b20taXRlbS1cIiArICRlbGVtZW50LmF0dHIoJ2RhdGEtbGctaWQnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudHJhcEZvY3VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmdldCgpLmZvY3VzKHtcclxuICAgICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAkTEcod2luZG93KS5vbihcImtleWRvd24ubGcuZ2xvYmFsXCIgKyB0aGlzLmxnSWQsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaXNUYWJQcmVzc2VkID0gZS5rZXkgPT09ICdUYWInIHx8IGUua2V5Q29kZSA9PT0gOTtcclxuICAgICAgICAgICAgaWYgKCFpc1RhYlByZXNzZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZm9jdXNhYmxlRWxzID0gdXRpbHMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoX3RoaXMuJGNvbnRhaW5lci5nZXQoKSk7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdEZvY3VzYWJsZUVsID0gZm9jdXNhYmxlRWxzWzBdO1xyXG4gICAgICAgICAgICB2YXIgbGFzdEZvY3VzYWJsZUVsID0gZm9jdXNhYmxlRWxzW2ZvY3VzYWJsZUVscy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEZvY3VzYWJsZUVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZvY3VzYWJsZUVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RGb2N1c2FibGVFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Rm9jdXNhYmxlRWwuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1hbmFnZUNsb3NlR2FsbGVyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5jbG9zYWJsZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBtb3VzZWRvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jbG9zZScpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY2xvc2VHYWxsZXJ5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2xvc2VPblRhcCkge1xyXG4gICAgICAgICAgICAvLyBJZiB5b3UgZHJhZyB0aGUgc2xpZGUgYW5kIHJlbGVhc2Ugb3V0c2lkZSBnYWxsZXJ5IGdldHMgY2xvc2Ugb24gY2hyb21lXHJcbiAgICAgICAgICAgIC8vIGZvciBwcmV2ZW50aW5nIHRoaXMgY2hlY2sgbW91c2Vkb3duIGFuZCBtb3VzZXVwIGhhcHBlbmVkIG9uIC5sZy1pdGVtIG9yIGxnLW91dGVyXHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIub24oJ21vdXNlZG93bi5sZycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJExHKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1NsaWRlRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5vbignbW91c2Vtb3ZlLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm91dGVyLm9uKCdtb3VzZXVwLmxnJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkTEcoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzU2xpZGVFbGVtZW50KHRhcmdldCkgJiYgbW91c2Vkb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5vdXRlci5oYXNDbGFzcygnbGctZHJhZ2dpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsb3NlIGxpZ2h0R2FsbGVyeSBpZiBpdCBpcyBvcGVuZWQuXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIElmIGNsb3NhYmxlIGlzIGZhbHNlIGluIHRoZSBzZXR0aW5ncywgeW91IG5lZWQgdG8gcGFzcyB0cnVlIHZpYSBjbG9zZUdhbGxlcnkgbWV0aG9kIHRvIGZvcmNlIGNsb3NlIGdhbGxlcnlcclxuICAgICAqIEByZXR1cm4gcmV0dXJucyB0aGUgZXN0aW1hdGVkIHRpbWUgdG8gY2xvc2UgZ2FsbGVyeSBjb21wbGV0ZWx5IGluY2x1ZGluZyB0aGUgY2xvc2UgYW5pbWF0aW9uIGR1cmF0aW9uXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogIGNvbnN0IHBsdWdpbiA9IGxpZ2h0R2FsbGVyeSgpO1xyXG4gICAgICogIHBsdWdpbi5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuY2xvc2VHYWxsZXJ5ID0gZnVuY3Rpb24gKGZvcmNlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMubGdPcGVuZWQgfHwgKCF0aGlzLnNldHRpbmdzLmNsb3NhYmxlICYmICFmb3JjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmJlZm9yZUNsb3NlKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNldFNjcm9sbFBvc2l0aW9uICYmICF0aGlzLnNldHRpbmdzLmhpZGVTY3JvbGxiYXIpIHtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykuc2Nyb2xsVG9wKHRoaXMucHJldlNjcm9sbFRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXJyZW50SXRlbSA9IHRoaXMuaXRlbXNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcclxuICAgICAgICBpZiAodGhpcy56b29tRnJvbU9yaWdpbiAmJiBjdXJyZW50SXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLm1lZGlhQ29udGFpbmVyUG9zaXRpb24sIHRvcF80ID0gX2EudG9wLCBib3R0b20gPSBfYS5ib3R0b207XHJcbiAgICAgICAgICAgIHZhciBfYiA9IHRoaXMuZ2FsbGVyeUl0ZW1zW3RoaXMuaW5kZXhdLCBfX3NsaWRlVmlkZW9JbmZvID0gX2IuX19zbGlkZVZpZGVvSW5mbywgcG9zdGVyID0gX2IucG9zdGVyO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VTaXplID0gdXRpbHMuZ2V0U2l6ZShjdXJyZW50SXRlbSwgdGhpcy5vdXRlciwgdG9wXzQgKyBib3R0b20sIF9fc2xpZGVWaWRlb0luZm8gJiYgcG9zdGVyICYmIHRoaXMuc2V0dGluZ3MudmlkZW9NYXhTaXplKTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtID0gdXRpbHMuZ2V0VHJhbnNmb3JtKGN1cnJlbnRJdGVtLCB0aGlzLm91dGVyLCB0b3BfNCwgYm90dG9tLCBpbWFnZVNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy56b29tRnJvbU9yaWdpbiAmJiB0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5hZGRDbGFzcygnbGctY2xvc2luZyBsZy16b29tLWZyb20taW1hZ2UnKTtcclxuICAgICAgICAgICAgdGhpcy5nZXRTbGlkZUl0ZW0odGhpcy5pbmRleClcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnbGctc3RhcnQtZW5kLXByb2dyZXNzJylcclxuICAgICAgICAgICAgICAgIC5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCB0aGlzLnNldHRpbmdzLnN0YXJ0QW5pbWF0aW9uRHVyYXRpb24gKyAnbXMnKVxyXG4gICAgICAgICAgICAgICAgLmNzcygndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWhpZGUtaXRlbXMnKTtcclxuICAgICAgICAgICAgLy8gbGctem9vbS1mcm9tLWltYWdlIGlzIHVzZWQgZm9yIHNldHRpbmcgdGhlIG9wYWNpdHkgdG8gMSBpZiB6b29tRnJvbU9yaWdpbiBpcyB0cnVlXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBjbG9zaW5nIGl0ZW0gZG9lc24ndCBoYXZlIHRoZSBsZy1zaXplIGF0dHJpYnV0ZSwgcmVtb3ZlIHRoaXMgY2xhc3MgdG8gYXZvaWQgdGhlIGNsb3NpbmcgY3NzIGNvbmZsaWN0c1xyXG4gICAgICAgICAgICB0aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy16b29tLWZyb20taW1hZ2UnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVW5iaW5kIGFsbCBldmVudHMgYWRkZWQgYnkgbGlnaHRHYWxsZXJ5XHJcbiAgICAgICAgLy8gQHRvZG9cclxuICAgICAgICAvL3RoaXMuJGVsLm9mZignLmxnLnRtJyk7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95TW9kdWxlcygpO1xyXG4gICAgICAgIHRoaXMubEdhbGxlcnlPbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNEdW1teUltYWdlUmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gPSB0aGlzLnNldHRpbmdzLnpvb21Gcm9tT3JpZ2luO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVCYXJUaW1lb3V0KTtcclxuICAgICAgICB0aGlzLmhpZGVCYXJUaW1lb3V0ID0gZmFsc2U7XHJcbiAgICAgICAgJExHKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2xnLW9uJyk7XHJcbiAgICAgICAgdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctdmlzaWJsZSBsZy1jb21wb25lbnRzLW9wZW4nKTtcclxuICAgICAgICAvLyBSZXNldHRpbmcgb3BhY2l0eSB0byAwIGlzZCByZXF1aXJlZCBhcyAgdmVydGljYWwgc3dpcGUgdG8gY2xvc2UgZnVuY3Rpb24gYWRkcyBpbmxpbmUgb3BhY2l0eS5cclxuICAgICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKS5jc3MoJ29wYWNpdHknLCAwKTtcclxuICAgICAgICB2YXIgcmVtb3ZlVGltZW91dCA9IHRoaXMuem9vbUZyb21PcmlnaW4gJiYgdHJhbnNmb3JtXHJcbiAgICAgICAgICAgID8gTWF0aC5tYXgodGhpcy5zZXR0aW5ncy5zdGFydEFuaW1hdGlvbkR1cmF0aW9uLCB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24pXHJcbiAgICAgICAgICAgIDogdGhpcy5zZXR0aW5ncy5iYWNrZHJvcER1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5yZW1vdmVDbGFzcygnbGctc2hvdy1pbicpO1xyXG4gICAgICAgIC8vIE9uY2UgdGhlIGNsb3NpZ24gYW5pbWF0aW9uIGlzIGNvbXBsZXRlZCBhbmQgZ2FsbGVyeSBpcyBpbnZpc2libGVcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnpvb21Gcm9tT3JpZ2luICYmIHRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLXpvb20tZnJvbS1pbWFnZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoJ2xnLXNob3cnKTtcclxuICAgICAgICAgICAgLy8gUmVzZXQgc2Nyb2xsYmFyXHJcbiAgICAgICAgICAgIF90aGlzLnJlc2V0U2Nyb2xsQmFyKCk7XHJcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gcmVtb3ZlIGlubGluZSBvcGFjaXR5IGFzIGl0IGlzIHVzZWQgaW4gdGhlIHN0eWxlc2hlZXQgYXMgd2VsbFxyXG4gICAgICAgICAgICBfdGhpcy4kYmFja2Ryb3BcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzdHlsZScpXHJcbiAgICAgICAgICAgICAgICAuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJywgX3RoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbiArICdtcycpO1xyXG4gICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcyhcImxnLWNsb3NpbmcgXCIgKyBfdGhpcy5zZXR0aW5ncy5zdGFydENsYXNzKTtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0U2xpZGVJdGVtKF90aGlzLmluZGV4KS5yZW1vdmVDbGFzcygnbGctc3RhcnQtZW5kLXByb2dyZXNzJyk7XHJcbiAgICAgICAgICAgIF90aGlzLiRpbm5lci5lbXB0eSgpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5hZnRlckNsb3NlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IF90aGlzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLiRjb250YWluZXIuZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIuZ2V0KCkuYmx1cigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmxnT3BlbmVkID0gZmFsc2U7XHJcbiAgICAgICAgfSwgcmVtb3ZlVGltZW91dCArIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIHJlbW92ZVRpbWVvdXQgKyAxMDA7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pbml0TW9kdWxlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUuaW5pdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImxpZ2h0R2FsbGVyeTotIG1ha2Ugc3VyZSBsaWdodEdhbGxlcnkgbW9kdWxlIGlzIHByb3Blcmx5IGluaXRpYXRlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZGVzdHJveU1vZHVsZXMgPSBmdW5jdGlvbiAoZGVzdHJveSkge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXN0cm95KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS5jbG9zZUdhbGxlcnkgJiYgbW9kdWxlLmNsb3NlR2FsbGVyeSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImxpZ2h0R2FsbGVyeTotIG1ha2Ugc3VyZSBsaWdodEdhbGxlcnkgbW9kdWxlIGlzIHByb3Blcmx5IGRlc3Ryb3llZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVmcmVzaCBsaWdodEdhbGxlcnkgd2l0aCBuZXcgc2V0IG9mIGNoaWxkcmVuLlxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGlzIHVzZWZ1bCB0byB1cGRhdGUgdGhlIGdhbGxlcnkgd2hlbiB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGNoYW5nZWQgd2l0aG91dCBjYWxsaW5nIGRlc3Ryb3kgbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSBhcmUgdXNpbmcgZHluYW1pYyBtb2RlLCB5b3UgY2FuIHBhc3MgdGhlIG1vZGlmaWVkIGFycmF5IG9mIGR5bmFtaWNFbCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHJlZnJlc2ggdGhlIGR5bmFtaWMgZ2FsbGVyeVxyXG4gICAgICogQHNlZSA8YSBocmVmPVwiL2RlbW9zL2R5bmFtaWMtbW9kZS9cIj5EZW1vPC9hPlxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoKTtcclxuICAgICAqICAvLyBEZWxldGUgb3IgYWRkIGNoaWxkcmVuLCB0aGVuIGNhbGxcclxuICAgICAqICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKGdhbGxlcnlJdGVtcykge1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5keW5hbWljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZUl0ZW1zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChnYWxsZXJ5SXRlbXMpIHtcclxuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5SXRlbXMgPSBnYWxsZXJ5SXRlbXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdhbGxlcnlJdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb250cm9scygpO1xyXG4gICAgICAgIHRoaXMub3BlbkdhbGxlcnlPbkl0ZW1DbGljaygpO1xyXG4gICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnVwZGF0ZVNsaWRlcyk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS51cGRhdGVDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmFkZFNsaWRlVmlkZW9JbmZvKHRoaXMuZ2FsbGVyeUl0ZW1zKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNvdW50ZXJUb3RhbCgpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlU2luZ2xlU2xpZGVDbGFzc05hbWUoKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmRlc3Ryb3lHYWxsZXJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveU1vZHVsZXModHJ1ZSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmR5bmFtaWMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlSXRlbXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJExHKHdpbmRvdykub2ZmKFwiLmxnLmdsb2JhbFwiICsgdGhpcy5sZ0lkKTtcclxuICAgICAgICB0aGlzLkxHZWwub2ZmKCcubGcnKTtcclxuICAgICAgICB0aGlzLiRjb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGxpZ2h0R2FsbGVyeS5cclxuICAgICAqIERlc3Ryb3kgbGlnaHRHYWxsZXJ5IGFuZCBpdHMgcGx1Z2luIGluc3RhbmNlcyBjb21wbGV0ZWx5XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgbWV0aG9kIGFsc28gY2FsbHMgQ2xvc2VHYWxsZXJ5IGZ1bmN0aW9uIGludGVybmFsbHkuIFJldHVybnMgdGhlIHRpbWUgdGFrZXMgdG8gY29tcGxldGVseSBjbG9zZSBhbmQgZGVzdHJveSB0aGUgaW5zdGFuY2UuXHJcbiAgICAgKiBJbiBjYXNlIGlmIHlvdSB3YW50IHRvIHJlLWluaXRpYWxpemUgbGlnaHRHYWxsZXJ5IHJpZ2h0IGFmdGVyIGRlc3Ryb3lpbmcgaXQsIGluaXRpYWxpemUgaXQgb25seSBvbmNlIHRoZSBkZXN0cm95IHByb2Nlc3MgaXMgY29tcGxldGVkLlxyXG4gICAgICogWW91IGNhbiB1c2UgcmVmcmVzaCBtZXRob2QgbW9zdCBvZiB0aGUgdGltZXMuXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogIGNvbnN0IHBsdWdpbiA9IGxpZ2h0R2FsbGVyeSgpO1xyXG4gICAgICogIHBsdWdpbi5kZXN0cm95KCk7XHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNsb3NlVGltZW91dCA9IHRoaXMuY2xvc2VHYWxsZXJ5KHRydWUpO1xyXG4gICAgICAgIGlmIChjbG9zZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlc3Ryb3lHYWxsZXJ5LmJpbmQodGhpcyksIGNsb3NlVGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lHYWxsZXJ5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9zZVRpbWVvdXQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIExpZ2h0R2FsbGVyeTtcclxufSgpKTtcblxuZnVuY3Rpb24gbGlnaHRHYWxsZXJ5KGVsLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IExpZ2h0R2FsbGVyeShlbCwgb3B0aW9ucyk7XHJcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGlnaHRHYWxsZXJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlnaHRnYWxsZXJ5LmVzNS5qcy5tYXBcbiIsImltcG9ydCBsaWdodEdhbGxlcnkgZnJvbSBcImxpZ2h0Z2FsbGVyeVwiO1xuaW1wb3J0IFwiLi4vLi4vc2Nzcy9jb21tb24vbGlnaHRnYWxsZXJ5LnNjc3NcIjtcbmltcG9ydCBcImxpZ2h0Z2FsbGVyeS9jc3MvbGlnaHRnYWxsZXJ5LWJ1bmRsZS5taW4uY3NzXCI7XG5cbmNvbnN0IGluaXRMaWdodEdhbGxlcnkgPSAoKSA9PiB7XG4gIGNvbnN0IGltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgXCIuZmVlZC1jaGFwdGVyX19pbWFnZXMtc3dpcGVyIC5zbGlkZS1mZWVkLWNoYXB0ZXJfX2ltYWdlLXdyYXBcIixcbiAgKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtbGlnaHRnYWxsZXJ5XVwiKS5mb3JFYWNoKChnYWxsZXJ5KSA9PiB7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBnYWxsZXJ5LmRhdGFzZXQuZGVzY3JpcHRpb247XG5cbiAgICBjb25zdCBsZyA9IGxpZ2h0R2FsbGVyeShnYWxsZXJ5LCB7XG4gICAgICBzcGVlZDogNTAwLFxuICAgICAgbGljZW5zZUtleTogXCI3RUM0NTJBOS0wQ0ZENDQxQy1CRDk4NEM3Qy0xN0M4NDU2RVwiLFxuICAgICAgYXBwZW5kQ291bnRlclRvOiBcIi5sZy1jb250ZW50XCIsXG4gICAgICBzZWxlY3RvcjogXCIuc2xpZGUtZmVlZC1jaGFwdGVyX19pbWFnZS13cmFwXCIsXG4gICAgICBhcHBlbmRTdWJIdG1sVG86IFwiLmxnLWl0ZW1cIixcbiAgICB9KTtcblxuICAgIGdhbGxlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImxnQmVmb3JlU2xpZGVcIiwgKGUpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5sZy1pdGVtXCIpO1xuXG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIubGctc3ViLWh0bWxcIikgJiZcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIubGctc3ViLWh0bWxcIikuaW5uZXJIVE1MID09PSBcInRydWVcIlxuICAgICAgICApIHtcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJfaXMtdmVydGljYWxcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGdhbGxlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImxnQmVmb3JlT3BlblwiLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udGFpbmVyID0gbGcuJGNvbnRhaW5lci5maXJzdEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5sZy1vdXRlclwiKTtcbiAgICAgIGNvbnN0IGRlc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICBkZXNjLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRlc2NyaXB0aW9uXCIpO1xuICAgICAgZGVzYy5pbm5lckhUTUwgPSBkZXNjcmlwdGlvbjtcbiAgICAgIGRlc2NyaXB0aW9uICYmIGNvbnRhaW5lci5hcHBlbmQoZGVzYyk7XG5cbiAgICAgIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5sZy1pdGVtXCIpO1xuXG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIubGctc3ViLWh0bWxcIikgJiZcbiAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIubGctc3ViLWh0bWxcIikuaW5uZXJIVE1MID09PSBcInRydWVcIlxuICAgICAgICApIHtcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJfaXMtdmVydGljYWxcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn07XG5pbml0TGlnaHRHYWxsZXJ5KCk7XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsImxHRXZlbnRzIiwibGlnaHRHYWxsZXJ5Q29yZVNldHRpbmdzIiwibW9kZSIsImVhc2luZyIsInNwZWVkIiwibGljZW5zZUtleSIsImhlaWdodCIsIndpZHRoIiwiYWRkQ2xhc3MiLCJzdGFydENsYXNzIiwiYmFja2Ryb3BEdXJhdGlvbiIsImNvbnRhaW5lciIsInN0YXJ0QW5pbWF0aW9uRHVyYXRpb24iLCJ6b29tRnJvbU9yaWdpbiIsImhpZGVCYXJzRGVsYXkiLCJzaG93QmFyc0FmdGVyIiwic2xpZGVEZWxheSIsInN1cHBvcnRMZWdhY3lCcm93c2VyIiwiYWxsb3dNZWRpYU92ZXJsYXAiLCJ2aWRlb01heFNpemUiLCJsb2FkWW91VHViZVBvc3RlciIsImRlZmF1bHRDYXB0aW9uSGVpZ2h0IiwiYXJpYUxhYmVsbGVkYnkiLCJhcmlhRGVzY3JpYmVkYnkiLCJyZXNldFNjcm9sbFBvc2l0aW9uIiwiaGlkZVNjcm9sbGJhciIsImNsb3NhYmxlIiwic3dpcGVUb0Nsb3NlIiwiY2xvc2VPblRhcCIsInNob3dDbG9zZUljb24iLCJzaG93TWF4aW1pemVJY29uIiwibG9vcCIsImVzY0tleSIsImtleVByZXNzIiwidHJhcEZvY3VzIiwiY29udHJvbHMiLCJzbGlkZUVuZEFuaW1hdGlvbiIsImhpZGVDb250cm9sT25FbmQiLCJtb3VzZXdoZWVsIiwiZ2V0Q2FwdGlvbkZyb21UaXRsZU9yQWx0IiwiYXBwZW5kU3ViSHRtbFRvIiwic3ViSHRtbFNlbGVjdG9yUmVsYXRpdmUiLCJwcmVsb2FkIiwibnVtYmVyT2ZTbGlkZUl0ZW1zSW5Eb20iLCJzZWxlY3RvciIsInNlbGVjdFdpdGhpbiIsIm5leHRIdG1sIiwicHJldkh0bWwiLCJpbmRleCIsImlmcmFtZVdpZHRoIiwiaWZyYW1lSGVpZ2h0IiwiaWZyYW1lTWF4V2lkdGgiLCJpZnJhbWVNYXhIZWlnaHQiLCJkb3dubG9hZCIsImNvdW50ZXIiLCJhcHBlbmRDb3VudGVyVG8iLCJzd2lwZVRocmVzaG9sZCIsImVuYWJsZVN3aXBlIiwiZW5hYmxlRHJhZyIsImR5bmFtaWMiLCJkeW5hbWljRWwiLCJleHRyYVByb3BzIiwiZXhUaHVtYkltYWdlIiwiaXNNb2JpbGUiLCJ1bmRlZmluZWQiLCJtb2JpbGVTZXR0aW5ncyIsInBsdWdpbnMiLCJzdHJpbmdzIiwiY2xvc2VHYWxsZXJ5IiwidG9nZ2xlTWF4aW1pemUiLCJwcmV2aW91c1NsaWRlIiwibmV4dFNsaWRlIiwicGxheVZpZGVvIiwibWVkaWFMb2FkaW5nRmFpbGVkIiwibGdRdWVyeSIsImNzc1ZlbmRlclByZWZpeGVzIiwiX2dldFNlbGVjdG9yIiwiZmlyc3RFbGVtZW50IiwiX2dldEZpcnN0RWwiLCJnZW5lcmF0ZVVVSUQiLCJyZXBsYWNlIiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJjb250ZXh0IiwiZG9jdW1lbnQiLCJzdWJzdHJpbmciLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIl9lYWNoIiwiZnVuYyIsImZvckVhY2giLCJfc2V0Q3NzVmVuZG9yUHJlZml4IiwiZWwiLCJjc3NQcm9wZXJ0eSIsInZhbHVlIiwicHJvcGVydHkiLCJncm91cDEiLCJ0b1VwcGVyQ2FzZSIsImluZGV4T2YiLCJzdHlsZSIsImNoYXJBdCIsInRvTG93ZXJDYXNlIiwic2xpY2UiLCJpc0V2ZW50TWF0Y2hlZCIsImV2ZW50IiwiZXZlbnROYW1lIiwiZXZlbnROYW1lc3BhY2UiLCJzcGxpdCIsImZpbHRlciIsImUiLCJldmVyeSIsImF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJmaW5kIiwiJExHIiwiZmlyc3QiLCJlcSIsInBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJnZXQiLCJyZW1vdmVBdHRyIiwiYXR0cmlidXRlcyIsImF0dHJzIiwicmVtb3ZlQXR0cmlidXRlIiwid3JhcCIsImNsYXNzTmFtZSIsIndyYXBwZXIiLCJjcmVhdGVFbGVtZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJjbGFzc05hbWVzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmUiLCJoYXNDbGFzcyIsImNvbnRhaW5zIiwiaGFzQXR0cmlidXRlIiwiYXR0cmlidXRlIiwidG9nZ2xlQ2xhc3MiLCJjc3MiLCJfdGhpcyIsIm9uIiwiZXZlbnRzIiwibGlzdGVuZXIiLCJBcnJheSIsImlzQXJyYXkiLCJldmVudExpc3RlbmVycyIsInB1c2giLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsIm9mZiIsImtleXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidHJpZ2dlciIsImRldGFpbCIsImN1c3RvbUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibG9hZCIsInVybCIsImZldGNoIiwidGhlbiIsInJlcyIsInRleHQiLCJodG1sIiwiaW5uZXJIVE1MIiwiYXBwZW5kIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwicHJlcGVuZCIsImVtcHR5Iiwic2Nyb2xsVG9wIiwiYm9keSIsImRvY3VtZW50RWxlbWVudCIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsInBhZ2VYT2Zmc2V0Iiwib2Zmc2V0IiwibGVmdCIsInRvcCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib2R5TWFyZ2luTGVmdCIsIm1hcmdpbkxlZnQiLCJwYXJzZUZsb2F0IiwiY3VycmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImNsaWVudFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJjbGllbnRIZWlnaHQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsInBhcmFtcyIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZXZ0IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJFbGVtZW50IiwibWF0Y2hlcyIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwiZGVmYXVsdER5bmFtaWNPcHRpb25zIiwiY29udmVydFRvRGF0YSIsImciLCJ1dGlscyIsInNwYWNpbmciLCJkZWZhdWx0TGdTaXplIiwibGdTaXplIiwiaXNSZXNwb25zaXZlU2l6ZXMiLCJ3V2lkdGgiLCJpbm5lcldpZHRoIiwic2l6ZV8xIiwicGFyc2VJbnQiLCJzaXplIiwiY1dpZHRoIiwiY0hlaWdodCIsIm1heFdpZHRoIiwibWluIiwibWF4SGVpZ2h0IiwicmF0aW8iLCJib3R0b20iLCJpbWFnZVNpemUiLCJMR2VsIiwiY29udGFpbmVyUmVjdCIsIndIZWlnaHQiLCJlbFdpZHRoIiwiZWxIZWlnaHQiLCJlbFN0eWxlIiwieCIsImJvcmRlckxlZnQiLCJ5IiwiYm9yZGVyVG9wIiwic3JjIiwiaWZyYW1lVGl0bGUiLCJhbHRBdHRyIiwic3Jjc2V0Iiwic2l6ZXMiLCJzb3VyY2VzIiwiaW1nTWFya3VwIiwic291cmNlVGFnIiwiSlNPTiIsInBhcnNlIiwibWFwIiwic291cmNlIiwia2V5Iiwic3JjSXRtcyIsInJzV2lkdGgiLCJyc1NyYyIsIl9zcmMiLCJzcGxpY2UiLCJqIiwiaW1nIiwiY29tcGxldGUiLCJuYXR1cmFsV2lkdGgiLCJfcG9zdGVyIiwiZHVtbXlJbWciLCJ2aWRlb0NvbnRTdHlsZSIsInBsYXlWaWRlb1N0cmluZyIsIl9pc1ZpZGVvIiwieW91dHViZSIsInZpbWVvIiwiZWxlbWVudHMiLCJlbGVtZW50IiwiZGlzcGxheSIsInZpc2liaWxpdHkiLCJpdGVtcyIsImR5bmFtaWNFbGVtZW50cyIsImF2YWlsYWJsZUR5bmFtaWNPcHRpb25zIiwiaWwiLCJrIiwiYSIsImpsIiwiX19zcHJlYWRBcnJheXMiLCJpdGVtIiwic3BlY2lmaWVkIiwiZHluYW1pY0F0dHIiLCJuYW1lIiwibGFiZWwiLCJjdXJyZW50SXRlbSIsImFsdCIsInRpdGxlIiwidGh1bWIiLCJzdWJIdG1sIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzSFRNTDVWSWRlbyIsImh0bWw1IiwiY29uc29sZSIsImVycm9yIiwibWF0Y2giLCJ3aXN0aWEiLCJsZ0lkIiwiTGlnaHRHYWxsZXJ5Iiwib3B0aW9ucyIsImxnT3BlbmVkIiwibEdhbGxlcnlPbiIsImxnQnVzeSIsImN1cnJlbnRJdGVtc0luRG9tIiwicHJldlNjcm9sbFRvcCIsImJvZHlQYWRkaW5nUmlnaHQiLCJpc0R1bW15SW1hZ2VSZW1vdmVkIiwiZHJhZ09yU3dpcGVFbmFibGVkIiwibWVkaWFDb250YWluZXJQb3NpdGlvbiIsImdlbmVyYXRlU2V0dGluZ3MiLCJidWlsZE1vZHVsZXMiLCJzZXR0aW5ncyIsImdhbGxlcnlJdGVtcyIsImdldEl0ZW1zIiwibm9ybWFsaXplU2V0dGluZ3MiLCJpbml0IiwidmFsaWRhdGVMaWNlbnNlIiwiYWRkU2xpZGVWaWRlb0luZm8iLCJidWlsZFN0cnVjdHVyZSIsImluc3RhbmNlIiwic2V0VGltZW91dCIsInRyaWdnZXJQb3N0ZXJDbGljayIsImFycm93Iiwib3BlbkdhbGxlcnlPbkl0ZW1DbGljayIsIl9sb29wXzEiLCJ0aGlzXzEiLCIkZWxlbWVudCIsInV1aWQiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRJdGVtSW5kZXgiLCJvcGVuR2FsbGVyeSIsInBsdWdpbiIsIndhcm4iLCJnZXRTbGlkZUl0ZW0iLCJnZXRTbGlkZUl0ZW1JZCIsImdldElkTmFtZSIsImlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJtYW5hZ2VTaW5nbGVTbGlkZUNsYXNzTmFtZSIsIm91dGVyIiwiJGNvbnRhaW5lciIsInN1Ykh0bWxDb250IiwiYWRkQ2xhc3NlcyIsImNvbnRhaW5lckNsYXNzTmFtZSIsImNsb3NlSWNvbiIsIm1heGltaXplSWNvbiIsInRlbXBsYXRlIiwiJGxnQ29tcG9uZW50cyIsIiRiYWNrZHJvcCIsIiRpbm5lciIsIiRjb250ZW50IiwiJHRvb2xiYXIiLCJvdXRlckNsYXNzTmFtZXMiLCJyZWZyZXNoT25SZXNpemUiLCJoaWRlQmFycyIsIm1hbmFnZUNsb3NlR2FsbGVyeSIsImluaXRNb2R1bGVzIiwiX19zbGlkZVZpZGVvSW5mbyIsImdldE1lZGlhQ29udGFpbmVyUG9zaXRpb24iLCJfYSIsInRvcF8xIiwiY3VycmVudEltYWdlU2l6ZSIsInJlc2l6ZVZpZGVvU2xpZGUiLCJpbWdTdHlsZSIsImdldER1bW15SW1nU3R5bGVzIiwibGdWaWRlb1N0eWxlIiwiZ2V0VmlkZW9Db250U3R5bGUiLCJ1cGRhdGVTbGlkZXMiLCJjdXJyZW50U3JjIiwidXBkYXRlQ29udHJvbHMiLCJfaW5kZXgiLCJzb21lIiwiZ2FsbGVyeUl0ZW0iLCJpdGVtSW5kZXgiLCJvcmdhbml6ZVNsaWRlSXRlbXMiLCJsb2FkQ29udGVudCIsInVwZGF0ZUN1cnJlbnRDb3VudGVyIiwiY2hpbGRyZW4iLCJzaG91bGRIaWRlU2Nyb2xsYmFyIiwiYm9keVJlY3QiLCJzY3JvbGxiYXJXaWR0aCIsInJlc2V0U2Nyb2xsQmFyIiwiaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbSIsImdldEl0ZW1zVG9CZUluc2VydGVkVG9Eb20iLCJhZGRIdG1sIiwidHJhbnNmb3JtIiwic2V0TWVkaWFDb250YWluZXJQb3NpdGlvbiIsInRpbWVvdXQiLCJjdXJyZW50U2xpZGVfMSIsInNsaWRlIiwiY2FwdGlvbkhlaWdodCIsInRodW1iQ29udGFpbmVyIiwiY2xlYXJUaW1lb3V0IiwiaGlkZUJhclRpbWVvdXQiLCJpbml0UGljdHVyZUZpbGwiLCIkaW1nIiwicGljdHVyZWZpbGwiLCJjb3VudGVySHRtbCIsInN1Ykh0bWxVcmwiLCJmTCIsImN1cnJlbnRTbGlkZSIsImdldER1bW15SW1hZ2VDb250ZW50IiwiJGN1cnJlbnRTbGlkZSIsIiRjdXJyZW50SXRlbSIsIl9kdW1teUltZ1NyYyIsImR1bW15SW1nQ29udGVudCIsInNldEltZ01hcmt1cCIsImN1cnJlbnRHYWxsZXJ5SXRlbSIsImlzRmlyc3RTbGlkZVdpdGhab29tQW5pbWF0aW9uIiwib25TbGlkZU9iamVjdExvYWQiLCIkc2xpZGUiLCJpc0hUTUw1VmlkZW9XaXRob3V0UG9zdGVyIiwib25Mb2FkIiwib25FcnJvciIsIm1lZGlhT2JqZWN0Iiwib25MZ09iamVjdExvYWQiLCJkZWxheSIsImlzRmlyc3RTbGlkZSIsInRyaWdnZXJTbGlkZUl0ZW1Mb2FkIiwiX3NwZWVkIiwiZ2V0U2xpZGVUeXBlIiwicG9zdGVyIiwidmlkZW8iLCJyZWMiLCJfaHRtbDVWaWRlbyIsInJlc3BvbnNpdmUiLCJzcmNEeUl0bXMiLCJ2aWRlb0luZm8iLCJpZnJhbWUiLCJ0b3BfMiIsInZpZGVvU2l6ZSIsIm1hcmt1cCIsImh0bWw1VmlkZW8iLCJoYXNQb3N0ZXIiLCJsb2FkQ29udGVudE9uRmlyc3RTbGlkZUxvYWQiLCJwcmV2SW5kZXgiLCJudW1iZXJPZkl0ZW1zIiwicG9zc2libGVOdW1iZXJPZkl0ZW1zIiwibWF4IiwicHJldkluZGV4SXRlbSIsIl9lbGVtZW50IiwiaWR4IiwibnVtYmVyT2ZFeGlzdGluZ0l0ZW1zIiwiZ2V0UHJldmlvdXNTbGlkZUluZGV4IiwiY3VycmVudEl0ZW1JZCIsInNldERvd25sb2FkVmFsdWUiLCJkb3dubG9hZFVybCIsIiRkb3dubG9hZCIsIm1ha2VTbGlkZUFuaW1hdGlvbiIsImRpcmVjdGlvbiIsImN1cnJlbnRTbGlkZUl0ZW0iLCJwcmV2aW91c1NsaWRlSXRlbSIsImZyb21Ub3VjaCIsImZyb21UaHVtYiIsIm51bWJlck9mR2FsbGVyeUl0ZW1zIiwicHJldmlvdXNTbGlkZUl0ZW1fMSIsInRvcF8zIiwiYXJyb3dEaXNhYmxlIiwidG91Y2hQcmV2IiwidG91Y2hOZXh0IiwidXBkYXRlQ291bnRlclRvdGFsIiwidG91Y2hNb3ZlIiwic3RhcnRDb29yZHMiLCJlbmRDb29yZHMiLCJkaXN0YW5jZVgiLCJwYWdlWCIsImRpc3RhbmNlWSIsInBhZ2VZIiwiYWxsb3dTd2lwZSIsInN3aXBlRGlyZWN0aW9uIiwiYWJzIiwic2V0VHJhbnNsYXRlIiwib2Zmc2V0V2lkdGgiLCJndXR0ZXIiLCJvcGFjaXR5IiwiaW5uZXJIZWlnaHQiLCJzY2FsZSIsInRvdWNoRW5kIiwiZGlzdGFuY2UiLCJ0cmlnZ2VyQ2xpY2siLCJkaXN0YW5jZUFicyIsImdvVG9OZXh0U2xpZGUiLCJnb1RvUHJldlNsaWRlIiwidGFyZ2V0IiwiaXNQb3N0ZXJFbGVtZW50IiwiaXNNb3ZlZCIsImlzU3dpcGluZyIsIiRpdGVtIiwidG91Y2hlcyIsInRvdWNoQWN0aW9uIiwibWFuYWdlU3dpcGVDbGFzcyIsImlzRHJhZ2luZyIsIl90b3VjaE5leHQiLCJfdG91Y2hQcmV2IiwiX2xvb3AiLCJrZXlDb2RlIiwiJHByZXYiLCIkbmV4dCIsIiRlbCIsInhWYWx1ZSIsInlWYWx1ZSIsInNjYWxlWCIsInNjYWxlWSIsImxhc3RDYWxsIiwiZGVsdGFZIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJpc1NsaWRlRWxlbWVudCIsInBsYXlCdXR0b24iLCJpbnZhbGlkYXRlSXRlbXMiLCJmb2N1cyIsInByZXZlbnRTY3JvbGwiLCJmb2N1c2FibGVFbHMiLCJmaXJzdEZvY3VzYWJsZUVsIiwibGFzdEZvY3VzYWJsZUVsIiwic2hpZnRLZXkiLCJhY3RpdmVFbGVtZW50IiwibW91c2Vkb3duIiwiZm9yY2UiLCJ0b3BfNCIsIl9iIiwiZGVzdHJveU1vZHVsZXMiLCJyZW1vdmVUaW1lb3V0IiwiYmx1ciIsIm1vZHVsZSIsImVyciIsImRlc3Ryb3kiLCJyZWZyZXNoIiwiZGVzdHJveUdhbGxlcnkiLCJjbG9zZVRpbWVvdXQiLCJiaW5kIiwiaW5pdExpZ2h0R2FsbGVyeSIsImdhbGxlcnkiLCJkZXNjcmlwdGlvbiIsImRhdGFzZXQiLCJsZyIsImxpZ2h0R2FsbGVyeSIsImRlc2MiXSwic291cmNlUm9vdCI6IiJ9