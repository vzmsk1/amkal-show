(()=>{var e={34:()=>{"use strict";function e(e){this.type=e}e.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],i=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=document.querySelector(i[0].trim()),s.breakpoint=i[1]?i[1].trim():"767",s.place=i[2]?i[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,i){return Array.prototype.indexOf.call(i,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const i=this.mediaQueries[t],s=String.prototype.split.call(i,","),r=window.matchMedia(s[0]),n=s[1],o=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===n}));r.addListener((function(){e.mediaHandler(r,o)})),this.mediaHandler(r,o)}},e.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const i=t[e];i.index=this.indexInParent(i.parent,i.element),this.moveTo(i.place,i.element,i.destination)}else for(let e=t.length-1;e>=0;e--){const i=t[e];i.element.classList.contains(this.daClassname)&&this.moveBack(i.parent,i.element,i.index)}},e.prototype.moveTo=function(e,t,i){t.classList.add(this.daClassname),"last"===e||e>=i.children.length?i.insertAdjacentElement("beforeend",t):"first"!==e?i.children[e].insertAdjacentElement("beforebegin",t):i.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,i){t.classList.remove(this.daClassname),void 0!==e.children[i]?e.children[i].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){const i=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(i,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};new e("max").init()},976:()=>{const e=e=>{e.target.classList.remove("_has-error")};document.querySelectorAll("form[data-validate]").length&&document.querySelectorAll("form[data-validate]").forEach((t=>{t.addEventListener("submit",(function(i){((t,i)=>{i.preventDefault(),t.querySelectorAll("input").forEach((t=>{t.value.length||t.classList.add("_has-error"),t.addEventListener("focusin",e)})),!t.querySelector("input._has-error")&&t.submit()})(t,i)}))}))},691:()=>{document.querySelectorAll(".quantity").length&&document.querySelectorAll(".quantity").forEach((e=>{const t=e.querySelector(".quantity__input"),i=e.querySelector(".quantity__count_minus"),s=e.querySelector(".quantity__count_add"),r=parseInt(t.min),n=parseInt(t.max);t.addEventListener("change",(function(){const e=parseInt(t.value);isNaN(e)||e<=r?(t.value=r,i.removeAttribute("disabled"),s.removeAttribute("disabled")):(i.removeAttribute("disabled"),e>=n?(t.value=n,s.setAttribute("disabled","")):(t.value=e,s.removeAttribute("disabled")))})),e.addEventListener("click",(function(e){if(e.target.closest(".quantity__count")){const o=e.target.closest(".quantity__count").dataset.action;let a=parseInt(t.value);"add"===o?(a+=1,a>=r+1&&s.removeAttribute("disabled"),a>=n&&s.setAttribute("disabled","")):(a=a<=r?r:a-=1,a===r&&i.setAttribute("disabled",""),a<n&&i.removeAttribute("disabled")),t.value=a}}))}))}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,i),n.exports}(()=>{"use strict";i(34);function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(i,s){void 0===i&&(i={}),void 0===s&&(s={}),Object.keys(s).forEach((r=>{void 0===i[r]?i[r]=s[r]:e(s[r])&&e(i[r])&&Object.keys(s[r]).length>0&&t(i[r],s[r])}))}const s={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function r(){const e="undefined"!=typeof document?document:{};return t(e,s),e}const n={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function o(){const e="undefined"!=typeof window?window:{};return t(e,n),e}function a(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function l(){return Date.now()}function d(e,t){void 0===t&&(t="x");const i=o();let s,r,n;const a=function(e){const t=o();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map((e=>e.replace(",","."))).join(", ")),n=new i.WebKitCSSMatrix("none"===r?"":r)):(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=n.toString().split(",")),"x"===t&&(r=i.WebKitCSSMatrix?n.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===t&&(r=i.WebKitCSSMatrix?n.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),r||0}function c(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function u(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const r=s<0||arguments.length<=s?void 0:arguments[s];if(null!=r&&(i=r,!("undefined"!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)))){const i=Object.keys(Object(r)).filter((e=>t.indexOf(e)<0));for(let t=0,s=i.length;t<s;t+=1){const s=i[t],n=Object.getOwnPropertyDescriptor(r,s);void 0!==n&&n.enumerable&&(c(e[s])&&c(r[s])?r[s].__swiper__?e[s]=r[s]:u(e[s],r[s]):!c(e[s])&&c(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:u(e[s],r[s])):e[s]=r[s])}}}var i;return e}function p(e,t,i){e.style.setProperty(t,i)}function h(e){let{swiper:t,targetPosition:i,side:s}=e;const r=o(),n=-t.translate;let a,l=null;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=i>n?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,p=()=>{a=(new Date).getTime(),null===l&&(l=a);const e=Math.max(Math.min((a-l)/d,1),0),o=.5-Math.cos(e*Math.PI)/2;let c=n+o*(i-n);if(u(c,i)&&(c=i),t.wrapperEl.scrollTo({[s]:c}),u(c,i))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[s]:c})})),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(p)};p()}function g(e,t){return void 0===t&&(t=""),[...e.children].filter((e=>e.matches(t)))}function m(e){try{return void console.warn(e)}catch(e){}}function f(e,t){void 0===t&&(t=[]);const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}(t)),i}function v(e,t){return o().getComputedStyle(e,null).getPropertyValue(t)}function y(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function b(e,t,i){const s=o();return i?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function w(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}let S,T,x;function C(){return S||(S=function(){const e=o(),t=r();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),S}function E(e){return void 0===e&&(e={}),T||(T=function(e){let{userAgent:t}=void 0===e?{}:e;const i=C(),s=o(),r=s.navigator.platform,n=t||s.navigator.userAgent,a={ios:!1,android:!1},l=s.screen.width,d=s.screen.height,c=n.match(/(Android);?[\s\/]+([\d.]+)?/);let u=n.match(/(iPad).*OS\s([\d_]+)/);const p=n.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g="Win32"===r;let m="MacIntel"===r;return!u&&m&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${d}`)>=0&&(u=n.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),m=!1),c&&!g&&(a.os="android",a.android=!0),(u||h||p)&&(a.os="ios",a.ios=!0),a}(e)),T}function I(){return x||(x=function(){const e=o(),t=E();let i=!1;function s(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(s()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,s]=t.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));i=e<16||16===e&&s<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),n=s();return{isSafari:i||n,needPerspectiveFix:i,need3dFix:n||r&&t.ios,isWebView:r}}()),x}var M={on(e,t,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;const r=i?"unshift":"push";return e.split(" ").forEach((e=>{s.eventsListeners[e]||(s.eventsListeners[e]=[]),s.eventsListeners[e][r](t)})),s},once(e,t,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;function r(){s.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];t.apply(s,n)}return r.__emitterProxy=t,s.on(e,r,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof e)return i;const s=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[s](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(((s,r)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&i.eventsListeners[e].splice(r,1)}))})),i):i},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,i,s;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];"string"==typeof n[0]||Array.isArray(n[0])?(t=n[0],i=n.slice(1,n.length),s=e):(t=n[0].events,i=n[0].data,s=n[0].context||e),i.unshift(s);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(s,[t,...i])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(s,i)}))})),e}};const L=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};const P=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};const k=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(i){let t=i.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(i.shadowRoot?t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{i.shadowRoot&&(t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},O=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},A=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const s="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const i=r,n=[i-t];return n.push(...Array.from({length:t}).map(((e,t)=>i+s+t))),void e.slides.forEach(((t,i)=>{n.includes(t.column)&&O(e,i)}))}const n=r+s-1;if(e.params.rewind||e.params.loop)for(let s=r-t;s<=n+t;s+=1){const t=(s%i+i)%i;(t<r||t>n)&&O(e,t)}else for(let s=Math.max(r-t,0);s<=Math.min(n+t,i-1);s+=1)s!==r&&(s>n||s<r)&&O(e,s)};var z={updateSize:function(){const e=this;let t,i;const s=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:s.clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:s.clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(v(s,"padding-left")||0,10)-parseInt(v(s,"padding-right")||0,10),i=i-parseInt(v(s,"padding-top")||0,10)-parseInt(v(s,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t,i){return parseFloat(t.getPropertyValue(e.getDirectionLabel(i))||0)}const i=e.params,{wrapperEl:s,slidesEl:r,size:n,rtlTranslate:o,wrongRTL:a}=e,l=e.virtual&&i.virtual.enabled,d=l?e.virtual.slides.length:e.slides.length,c=g(r,`.${e.params.slideClass}, swiper-slide`),u=l?e.virtual.slides.length:c.length;let h=[];const m=[],f=[];let y=i.slidesOffsetBefore;"function"==typeof y&&(y=i.slidesOffsetBefore.call(e));let w=i.slidesOffsetAfter;"function"==typeof w&&(w=i.slidesOffsetAfter.call(e));const S=e.snapGrid.length,T=e.slidesGrid.length;let x=i.spaceBetween,C=-y,E=0,I=0;if(void 0===n)return;"string"==typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*n:"string"==typeof x&&(x=parseFloat(x)),e.virtualSize=-x,c.forEach((e=>{o?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),i.centeredSlides&&i.cssMode&&(p(s,"--swiper-centered-offset-before",""),p(s,"--swiper-centered-offset-after",""));const M=i.grid&&i.grid.rows>1&&e.grid;let L;M?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();const P="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter((e=>void 0!==i.breakpoints[e].slidesPerView)).length>0;for(let s=0;s<u;s+=1){let r;if(L=0,c[s]&&(r=c[s]),M&&e.grid.updateSlide(s,r,c),!c[s]||"none"!==v(r,"display")){if("auto"===i.slidesPerView){P&&(c[s].style[e.getDirectionLabel("width")]="");const n=getComputedStyle(r),o=r.style.transform,a=r.style.webkitTransform;if(o&&(r.style.transform="none"),a&&(r.style.webkitTransform="none"),i.roundLengths)L=e.isHorizontal()?b(r,"width",!0):b(r,"height",!0);else{const e=t(n,"width"),i=t(n,"padding-left"),s=t(n,"padding-right"),o=t(n,"margin-left"),a=t(n,"margin-right"),l=n.getPropertyValue("box-sizing");if(l&&"border-box"===l)L=e+o+a;else{const{clientWidth:t,offsetWidth:n}=r;L=e+i+s+o+a+(n-t)}}o&&(r.style.transform=o),a&&(r.style.webkitTransform=a),i.roundLengths&&(L=Math.floor(L))}else L=(n-(i.slidesPerView-1)*x)/i.slidesPerView,i.roundLengths&&(L=Math.floor(L)),c[s]&&(c[s].style[e.getDirectionLabel("width")]=`${L}px`);c[s]&&(c[s].swiperSlideSize=L),f.push(L),i.centeredSlides?(C=C+L/2+E/2+x,0===E&&0!==s&&(C=C-n/2-x),0===s&&(C=C-n/2-x),Math.abs(C)<.001&&(C=0),i.roundLengths&&(C=Math.floor(C)),I%i.slidesPerGroup==0&&h.push(C),m.push(C)):(i.roundLengths&&(C=Math.floor(C)),(I-Math.min(e.params.slidesPerGroupSkip,I))%e.params.slidesPerGroup==0&&h.push(C),m.push(C),C=C+L+x),e.virtualSize+=L+x,E=L,I+=1}}if(e.virtualSize=Math.max(e.virtualSize,n)+w,o&&a&&("slide"===i.effect||"coverflow"===i.effect)&&(s.style.width=`${e.virtualSize+x}px`),i.setWrapperSize&&(s.style[e.getDirectionLabel("width")]=`${e.virtualSize+x}px`),M&&e.grid.updateWrapperSize(L,h),!i.centeredSlides){const t=[];for(let s=0;s<h.length;s+=1){let r=h[s];i.roundLengths&&(r=Math.floor(r)),h[s]<=e.virtualSize-n&&t.push(r)}h=t,Math.floor(e.virtualSize-n)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-n)}if(l&&i.loop){const t=f[0]+x;if(i.slidesPerGroup>1){const s=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/i.slidesPerGroup),r=t*i.slidesPerGroup;for(let e=0;e<s;e+=1)h.push(h[h.length-1]+r)}for(let s=0;s<e.virtual.slidesBefore+e.virtual.slidesAfter;s+=1)1===i.slidesPerGroup&&h.push(h[h.length-1]+t),m.push(m[m.length-1]+t),e.virtualSize+=t}if(0===h.length&&(h=[0]),0!==x){const t=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");c.filter(((e,t)=>!(i.cssMode&&!i.loop)||t!==c.length-1)).forEach((e=>{e.style[t]=`${x}px`}))}if(i.centeredSlides&&i.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(x||0)})),e-=x;const t=e-n;h=h.map((e=>e<=0?-y:e>t?t+w:e))}if(i.centerInsufficientSlides){let e=0;f.forEach((t=>{e+=t+(x||0)})),e-=x;const t=(i.slidesOffsetBefore||0)+(i.slidesOffsetAfter||0);if(e+t<n){const i=(n-e-t)/2;h.forEach(((e,t)=>{h[t]=e-i})),m.forEach(((e,t)=>{m[t]=e+i}))}}if(Object.assign(e,{slides:c,snapGrid:h,slidesGrid:m,slidesSizesGrid:f}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){p(s,"--swiper-centered-offset-before",-h[0]+"px"),p(s,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+i))}if(u!==d&&e.emit("slidesLengthChange"),h.length!==S&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==T&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const t=`${i.containerModifierClass}backface-hidden`,s=e.el.classList.contains(t);u<=i.maxBackfaceHiddenSlides?s||e.el.classList.add(t):s&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,i=[],s=t.virtual&&t.params.virtual.enabled;let r,n=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const o=e=>s?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{i.push(e)}));else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const e=t.activeIndex+r;if(e>t.slides.length&&!s)break;i.push(o(e))}else i.push(o(t.activeIndex));for(r=0;r<i.length;r+=1)if(void 0!==i[r]){const e=i[r].offsetHeight;n=e>n?e:n}(n||0===n)&&(t.wrapperEl.style.height=`${n}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=(e.isHorizontal()?t[s].offsetLeft:t[s].offsetTop)-i-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:s,rtlTranslate:r,snapGrid:n}=t;if(0===s.length)return;void 0===s[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;r&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=i.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let e=0;e<s.length;e+=1){const l=s[e];let d=l.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(d-=s[0].swiperSlideOffset);const c=(o+(i.centeredSlides?t.minTranslate():0)-d)/(l.swiperSlideSize+a),u=(o-n[0]+(i.centeredSlides?t.minTranslate():0)-d)/(l.swiperSlideSize+a),p=-(o-d),h=p+t.slidesSizesGrid[e],g=p>=0&&p<=t.size-t.slidesSizesGrid[e],m=p>=0&&p<t.size-1||h>1&&h<=t.size||p<=0&&h>=t.size;m&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(e)),L(l,m,i.slideVisibleClass),L(l,g,i.slideFullyVisibleClass),l.progress=r?-c:c,l.originalProgress=r?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,s=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:n,isEnd:o,progressLoop:a}=t;const l=n,d=o;if(0===s)r=0,n=!0,o=!0;else{r=(e-t.minTranslate())/s;const i=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;n=i||r<=0,o=a||r>=1,i&&(r=0),a&&(r=1)}if(i.loop){const i=t.getSlideIndexByData(0),s=t.getSlideIndexByData(t.slides.length-1),r=t.slidesGrid[i],n=t.slidesGrid[s],o=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=r?(l-r)/o:(l+o-n)/o,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:n,isEnd:o}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),n&&!l&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(l&&!n||d&&!o)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,slidesEl:s,activeIndex:r}=e,n=e.virtual&&i.virtual.enabled,o=e.grid&&i.grid&&i.grid.rows>1,a=e=>g(s,`.${i.slideClass}${e}, swiper-slide${e}`)[0];let l,d,c;if(n)if(i.loop){let t=r-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${t}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=t.filter((e=>e.column===r))[0],c=t.filter((e=>e.column===r+1))[0],d=t.filter((e=>e.column===r-1))[0]):l=t[r];l&&(o||(c=function(e,t){const i=[];for(;e.nextElementSibling;){const s=e.nextElementSibling;t?s.matches(t)&&i.push(s):i.push(s),e=s}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!c&&(c=t[0]),d=function(e,t){const i=[];for(;e.previousElementSibling;){const s=e.previousElementSibling;t?s.matches(t)&&i.push(s):i.push(s),e=s}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&0===!d&&(d=t[t.length-1]))),t.forEach((e=>{P(e,e===l,i.slideActiveClass),P(e,e===c,i.slideNextClass),P(e,e===d,i.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:s,params:r,activeIndex:n,realIndex:o,snapIndex:a}=t;let l,d=e;const c=e=>{let i=e-t.virtual.slidesBefore;return i<0&&(i=t.virtual.slides.length+i),i>=t.virtual.slides.length&&(i-=t.virtual.slides.length),i};if(void 0===d&&(d=function(e){const{slidesGrid:t,params:i}=e,s=e.rtlTranslate?e.translate:-e.translate;let r;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?s>=t[e]&&s<t[e+1]-(t[e+1]-t[e])/2?r=e:s>=t[e]&&s<t[e+1]&&(r=e+1):s>=t[e]&&(r=e);return i.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(t)),s.indexOf(i)>=0)l=s.indexOf(i);else{const e=Math.min(r.slidesPerGroupSkip,d);l=e+Math.floor((d-e)/r.slidesPerGroup)}if(l>=s.length&&(l=s.length-1),d===n&&!t.params.loop)return void(l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")));if(d===n&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=c(d));const u=t.grid&&r.grid&&r.grid.rows>1;let p;if(t.virtual&&r.virtual.enabled&&r.loop)p=c(d);else if(u){const e=t.slides.filter((e=>e.column===d))[0];let i=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(i)&&(i=Math.max(t.slides.indexOf(e),0)),p=Math.floor(i/r.grid.rows)}else if(t.slides[d]){const e=t.slides[d].getAttribute("data-swiper-slide-index");p=e?parseInt(e,10):d}else p=d;Object.assign(t,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:p,previousIndex:n,activeIndex:d}),t.initialized&&A(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==p&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const i=this,s=i.params;let r=e.closest(`.${s.slideClass}, swiper-slide`);!r&&i.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!r&&e.matches&&e.matches(`.${s.slideClass}, swiper-slide`)&&(r=e)}));let n,o=!1;if(r)for(let e=0;e<i.slides.length;e+=1)if(i.slides[e]===r){o=!0,n=e;break}if(!r||!o)return i.clickedSlide=void 0,void(i.clickedIndex=void 0);i.clickedSlide=r,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=n,s.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}};var _={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:s,wrapperEl:r}=this;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let n=d(r,e);return n+=this.cssOverflowAdjustment(),i&&(n=-n),n||0},setTranslate:function(e,t){const i=this,{rtlTranslate:s,params:r,wrapperEl:n,progress:o}=i;let a,l=0,d=0;i.isHorizontal()?l=s?-e:e:d=e,r.roundLengths&&(l=Math.floor(l),d=Math.floor(d)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:d,r.cssMode?n[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-l:-d:r.virtualTranslate||(i.isHorizontal()?l-=i.cssOverflowAdjustment():d-=i.cssOverflowAdjustment(),n.style.transform=`translate3d(${l}px, ${d}px, 0px)`);const c=i.maxTranslate()-i.minTranslate();a=0===c?0:(e-i.minTranslate())/c,a!==o&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,s,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===s&&(s=!0);const n=this,{params:o,wrapperEl:a}=n;if(n.animating&&o.preventInteractionOnTransition)return!1;const l=n.minTranslate(),d=n.maxTranslate();let c;if(c=s&&e>l?l:s&&e<d?d:e,n.updateProgress(c),o.cssMode){const e=n.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-c;else{if(!n.support.smoothScroll)return h({swiper:n,targetPosition:-c,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-c,behavior:"smooth"})}return!0}return 0===t?(n.setTransition(0),n.setTranslate(c),i&&(n.emit("beforeTransitionStart",t,r),n.emit("transitionEnd"))):(n.setTransition(t),n.setTranslate(c),i&&(n.emit("beforeTransitionStart",t,r),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(e){n&&!n.destroyed&&e.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,n.animating=!1,i&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}};function D(e){let{swiper:t,runCallbacks:i,direction:s,step:r}=e;const{activeIndex:n,previousIndex:o}=t;let a=s;if(a||(a=n>o?"next":n<o?"prev":"reset"),t.emit(`transition${r}`),i&&n!==o){if("reset"===a)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),"next"===a?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}var G={slideTo:function(e,t,i,s,r){void 0===e&&(e=0),void 0===i&&(i=!0),"string"==typeof e&&(e=parseInt(e,10));const n=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:d,previousIndex:c,activeIndex:u,rtlTranslate:p,wrapperEl:g,enabled:m}=n;if(!m&&!s&&!r||n.destroyed||n.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=n.params.speed);const f=Math.min(n.params.slidesPerGroupSkip,o);let v=f+Math.floor((o-f)/n.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const y=-l[v];if(a.normalizeSlideIndex)for(let e=0;e<d.length;e+=1){const t=-Math.floor(100*y),i=Math.floor(100*d[e]),s=Math.floor(100*d[e+1]);void 0!==d[e+1]?t>=i&&t<s-(s-i)/2?o=e:t>=i&&t<s&&(o=e+1):t>=i&&(o=e)}if(n.initialized&&o!==u){if(!n.allowSlideNext&&(p?y>n.translate&&y>n.minTranslate():y<n.translate&&y<n.minTranslate()))return!1;if(!n.allowSlidePrev&&y>n.translate&&y>n.maxTranslate()&&(u||0)!==o)return!1}let b;if(o!==(c||0)&&i&&n.emit("beforeSlideChangeStart"),n.updateProgress(y),b=o>u?"next":o<u?"prev":"reset",p&&-y===n.translate||!p&&y===n.translate)return n.updateActiveIndex(o),a.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),"slide"!==a.effect&&n.setTranslate(y),"reset"!==b&&(n.transitionStart(i,b),n.transitionEnd(i,b)),!1;if(a.cssMode){const e=n.isHorizontal(),i=p?y:-y;if(0===t){const t=n.virtual&&n.params.virtual.enabled;t&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),t&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{g[e?"scrollLeft":"scrollTop"]=i}))):g[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame((()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1}))}else{if(!n.support.smoothScroll)return h({swiper:n,targetPosition:i,side:e?"left":"top"}),!0;g.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return n.setTransition(t),n.setTranslate(y),n.updateActiveIndex(o),n.updateSlidesClasses(),n.emit("beforeTransitionStart",t,s),n.transitionStart(i,b),0===t?n.transitionEnd(i,b):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(e){n&&!n.destroyed&&e.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(i,b))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,s){if(void 0===e&&(e=0),void 0===i&&(i=!0),"string"==typeof e){e=parseInt(e,10)}const r=this;if(r.destroyed)return;void 0===t&&(t=r.params.speed);const n=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=e;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o+=r.virtual.slidesBefore;else{let e;if(n){const t=o*r.params.grid.rows;e=r.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else e=r.getSlideIndexByData(o);const t=n?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:i}=r.params;let a=r.params.slidesPerView;"auto"===a?a=r.slidesPerViewDynamic():(a=Math.ceil(parseFloat(r.params.slidesPerView,10)),i&&a%2==0&&(a+=1));let l=t-e<a;if(i&&(l=l||e<Math.ceil(a/2)),s&&i&&"auto"!==r.params.slidesPerView&&!n&&(l=!1),l){const s=i?e<r.activeIndex?"prev":"next":e-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:s,slideTo:!0,activeSlideIndex:"next"===s?e+1:e-t+1,slideRealIndex:"next"===s?r.realIndex:void 0})}if(n){const e=o*r.params.grid.rows;o=r.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame((()=>{r.slideTo(o,t,i,s)})),r},slideNext:function(e,t,i){void 0===t&&(t=!0);const s=this,{enabled:r,params:n,animating:o}=s;if(!r||s.destroyed)return s;void 0===e&&(e=s.params.speed);let a=n.slidesPerGroup;"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<n.slidesPerGroupSkip?1:a,d=s.virtual&&n.virtual.enabled;if(n.loop){if(o&&!d&&n.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&n.cssMode)return requestAnimationFrame((()=>{s.slideTo(s.activeIndex+l,e,t,i)})),!0}return n.rewind&&s.isEnd?s.slideTo(0,e,t,i):s.slideTo(s.activeIndex+l,e,t,i)},slidePrev:function(e,t,i){void 0===t&&(t=!0);const s=this,{params:r,snapGrid:n,slidesGrid:o,rtlTranslate:a,enabled:l,animating:d}=s;if(!l||s.destroyed)return s;void 0===e&&(e=s.params.speed);const c=s.virtual&&r.virtual.enabled;if(r.loop){if(d&&!c&&r.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=u(a?s.translate:-s.translate),h=n.map((e=>u(e)));let g=n[h.indexOf(p)-1];if(void 0===g&&r.cssMode){let e;n.forEach(((t,i)=>{p>=t&&(e=i)})),void 0!==e&&(g=n[e>0?e-1:e])}let m=0;if(void 0!==g&&(m=o.indexOf(g),m<0&&(m=s.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(m=m-s.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),r.rewind&&s.isBeginning){const r=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(r,e,t,i)}return r.loop&&0===s.activeIndex&&r.cssMode?(requestAnimationFrame((()=>{s.slideTo(m,e,t,i)})),!0):s.slideTo(m,e,t,i)},slideReset:function(e,t,i){void 0===t&&(t=!0);const s=this;if(!s.destroyed)return void 0===e&&(e=s.params.speed),s.slideTo(s.activeIndex,e,t,i)},slideToClosest:function(e,t,i,s){void 0===t&&(t=!0),void 0===s&&(s=.5);const r=this;if(r.destroyed)return;void 0===e&&(e=r.params.speed);let n=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,n),a=o+Math.floor((n-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const e=r.snapGrid[a];l-e>(r.snapGrid[a+1]-e)*s&&(n+=r.params.slidesPerGroup)}else{const e=r.snapGrid[a-1];l-e<=(r.snapGrid[a]-e)*s&&(n-=r.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,r.slidesGrid.length-1),r.slideTo(n,e,t,i)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:i}=e,s="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let r,n=e.clickedIndex;const o=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;r=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?n<e.loopedSlides-s/2||n>e.slides.length-e.loopedSlides+s/2?(e.loopFix(),n=e.getSlideIndex(g(i,`${o}[data-swiper-slide-index="${r}"]`)[0]),a((()=>{e.slideTo(n)}))):e.slideTo(n):n>e.slides.length-s?(e.loopFix(),n=e.getSlideIndex(g(i,`${o}[data-swiper-slide-index="${r}"]`)[0]),a((()=>{e.slideTo(n)}))):e.slideTo(n)}else e.slideTo(n)}};var B={loopCreate:function(e){const t=this,{params:i,slidesEl:s}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{g(s,`.${i.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},n=t.grid&&i.grid&&i.grid.rows>1,o=i.slidesPerGroup*(n?i.grid.rows:1),a=t.slides.length%o!=0,l=n&&t.slides.length%i.grid.rows!=0,d=e=>{for(let s=0;s<e;s+=1){const e=t.isElement?f("swiper-slide",[i.slideBlankClass]):f("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(e)}};if(a){if(i.loopAddBlankSlides){d(o-t.slides.length%o),t.recalcSlides(),t.updateSlides()}else m("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(i.loopAddBlankSlides){d(i.grid.rows-t.slides.length%i.grid.rows),t.recalcSlides(),t.updateSlides()}else m("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:i=!0,direction:s,setTranslate:r,activeSlideIndex:n,byController:o,byMousewheel:a}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:d,allowSlidePrev:c,allowSlideNext:u,slidesEl:p,params:h}=l,{centeredSlides:g}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled)return i&&(h.centeredSlides||0!==l.snapIndex?h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=u,void l.emit("loopFix");let f=h.slidesPerView;"auto"===f?f=l.slidesPerViewDynamic():(f=Math.ceil(parseFloat(h.slidesPerView,10)),g&&f%2==0&&(f+=1));const v=h.slidesPerGroupAuto?f:h.slidesPerGroup;let y=v;y%v!=0&&(y+=v-y%v),y+=h.loopAdditionalSlides,l.loopedSlides=y;const b=l.grid&&h.grid&&h.grid.rows>1;d.length<f+y?m("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):b&&"row"===h.grid.fill&&m("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],S=[];let T=l.activeIndex;void 0===n?n=l.getSlideIndex(d.filter((e=>e.classList.contains(h.slideActiveClass)))[0]):T=n;const x="next"===s||!s,C="prev"===s||!s;let E=0,I=0;const M=b?Math.ceil(d.length/h.grid.rows):d.length,L=(b?d[n].column:n)+(g&&void 0===r?-f/2+.5:0);if(L<y){E=Math.max(y-L,v);for(let e=0;e<y-L;e+=1){const t=e-Math.floor(e/M)*M;if(b){const e=M-t-1;for(let t=d.length-1;t>=0;t-=1)d[t].column===e&&w.push(t)}else w.push(M-t-1)}}else if(L+f>M-y){I=Math.max(L-(M-2*y),v);for(let e=0;e<I;e+=1){const t=e-Math.floor(e/M)*M;b?d.forEach(((e,i)=>{e.column===t&&S.push(i)})):S.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),C&&w.forEach((e=>{d[e].swiperLoopMoveDOM=!0,p.prepend(d[e]),d[e].swiperLoopMoveDOM=!1})),x&&S.forEach((e=>{d[e].swiperLoopMoveDOM=!0,p.append(d[e]),d[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===h.slidesPerView?l.updateSlides():b&&(w.length>0&&C||S.length>0&&x)&&l.slides.forEach(((e,t)=>{l.grid.updateSlide(t,e,l.slides)})),h.watchSlidesProgress&&l.updateSlidesOffset(),i)if(w.length>0&&C){if(void 0===t){const e=l.slidesGrid[T],t=l.slidesGrid[T+E]-e;a?l.setTranslate(l.translate-t):(l.slideTo(T+Math.ceil(E),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(r){const e=b?w.length/h.grid.rows:w.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&x)if(void 0===t){const e=l.slidesGrid[T],t=l.slidesGrid[T-I]-e;a?l.setTranslate(l.translate-t):(l.slideTo(T-I,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=b?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=c,l.allowSlideNext=u,l.controller&&l.controller.control&&!o){const e={slideRealIndex:t,direction:s,setTranslate:r,activeSlideIndex:n,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===h.slidesPerView&&i})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView&&i})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const s=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;s[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),s.forEach((e=>{i.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function F(e,t,i){const s=o(),{params:r}=e,n=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return!n||!(i<=a||i>=s.innerWidth-a)||"prevent"===n&&(t.preventDefault(),!0)}function N(e){const t=this,i=r();let s=e;s.originalEvent&&(s=s.originalEvent);const n=t.touchEventsData;if("pointerdown"===s.type){if(null!==n.pointerId&&n.pointerId!==s.pointerId)return;n.pointerId=s.pointerId}else"touchstart"===s.type&&1===s.targetTouches.length&&(n.touchId=s.targetTouches[0].identifier);if("touchstart"===s.type)return void F(t,s,s.targetTouches[0].pageX);const{params:a,touches:d,enabled:c}=t;if(!c)return;if(!a.simulateTouch&&"mouse"===s.pointerType)return;if(t.animating&&a.preventInteractionOnTransition)return;!t.animating&&a.cssMode&&a.loop&&t.loopFix();let u=s.target;if("wrapper"===a.touchEventsTarget&&!t.wrapperEl.contains(u))return;if("which"in s&&3===s.which)return;if("button"in s&&s.button>0)return;if(n.isTouched&&n.isMoved)return;const p=!!a.noSwipingClass&&""!==a.noSwipingClass,h=s.composedPath?s.composedPath():s.path;p&&s.target&&s.target.shadowRoot&&h&&(u=h[0]);const g=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,m=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(m?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===r()||i===o())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(e);return s||i.getRootNode?s||t(i.getRootNode().host):null}(t)}(g,u):u.closest(g)))return void(t.allowClick=!0);if(a.swipeHandler&&!u.closest(a.swipeHandler))return;d.currentX=s.pageX,d.currentY=s.pageY;const f=d.currentX,v=d.currentY;if(!F(t,s,f))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=f,d.startY=v,n.touchStartTime=l(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(n.allowThresholdMove=!1);let y=!0;u.matches(n.focusableElements)&&(y=!1,"SELECT"===u.nodeName&&(n.isTouched=!1)),i.activeElement&&i.activeElement.matches(n.focusableElements)&&i.activeElement!==u&&i.activeElement.blur();const b=y&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!b||u.isContentEditable||s.preventDefault(),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}function V(e){const t=r(),i=this,s=i.touchEventsData,{params:n,touches:o,rtlTranslate:a,enabled:d}=i;if(!d)return;if(!n.simulateTouch&&"mouse"===e.pointerType)return;let c,u=e;if(u.originalEvent&&(u=u.originalEvent),"pointermove"===u.type){if(null!==s.touchId)return;if(u.pointerId!==s.pointerId)return}if("touchmove"===u.type){if(c=[...u.changedTouches].filter((e=>e.identifier===s.touchId))[0],!c||c.identifier!==s.touchId)return}else c=u;if(!s.isTouched)return void(s.startMoving&&s.isScrolling&&i.emit("touchMoveOpposite",u));const p=c.pageX,h=c.pageY;if(u.preventedByNestedSwiper)return o.startX=p,void(o.startY=h);if(!i.allowTouchMove)return u.target.matches(s.focusableElements)||(i.allowClick=!1),void(s.isTouched&&(Object.assign(o,{startX:p,startY:h,currentX:p,currentY:h}),s.touchStartTime=l()));if(n.touchReleaseOnEdges&&!n.loop)if(i.isVertical()){if(h<o.startY&&i.translate<=i.maxTranslate()||h>o.startY&&i.translate>=i.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(p<o.startX&&i.translate<=i.maxTranslate()||p>o.startX&&i.translate>=i.minTranslate())return;if(t.activeElement&&u.target===t.activeElement&&u.target.matches(s.focusableElements))return s.isMoved=!0,void(i.allowClick=!1);s.allowTouchCallbacks&&i.emit("touchMove",u),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=p,o.currentY=h;const g=o.currentX-o.startX,m=o.currentY-o.startY;if(i.params.threshold&&Math.sqrt(g**2+m**2)<i.params.threshold)return;if(void 0===s.isScrolling){let e;i.isHorizontal()&&o.currentY===o.startY||i.isVertical()&&o.currentX===o.startX?s.isScrolling=!1:g*g+m*m>=25&&(e=180*Math.atan2(Math.abs(m),Math.abs(g))/Math.PI,s.isScrolling=i.isHorizontal()?e>n.touchAngle:90-e>n.touchAngle)}if(s.isScrolling&&i.emit("touchMoveOpposite",u),void 0===s.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(s.startMoving=!0)),s.isScrolling||"touchmove"===u.type&&s.preventTouchMoveFromPointerMove)return void(s.isTouched=!1);if(!s.startMoving)return;i.allowClick=!1,!n.cssMode&&u.cancelable&&u.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&u.stopPropagation();let f=i.isHorizontal()?g:m,v=i.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;n.oneWayMovement&&(f=Math.abs(f)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),o.diff=f,f*=n.touchRatio,a&&(f=-f,v=-v);const y=i.touchesDirection;i.swipeDirection=f>0?"prev":"next",i.touchesDirection=v>0?"prev":"next";const b=i.params.loop&&!n.cssMode,w="next"===i.touchesDirection&&i.allowSlideNext||"prev"===i.touchesDirection&&i.allowSlidePrev;if(!s.isMoved){if(b&&w&&i.loopFix({direction:i.swipeDirection}),s.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});i.wrapperEl.dispatchEvent(e)}s.allowMomentumBounce=!1,!n.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",u)}if((new Date).getTime(),s.isMoved&&s.allowThresholdMove&&y!==i.touchesDirection&&b&&w&&Math.abs(f)>=1)return Object.assign(o,{startX:p,startY:h,currentX:p,currentY:h,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,void(s.startTranslate=s.currentTranslate);i.emit("sliderMove",u),s.isMoved=!0,s.currentTranslate=f+s.startTranslate;let S=!0,T=n.resistanceRatio;if(n.touchReleaseOnEdges&&(T=0),f>0?(b&&w&&s.allowThresholdMove&&s.currentTranslate>(n.centeredSlides?i.minTranslate()-i.slidesSizesGrid[i.activeIndex+1]:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>i.minTranslate()&&(S=!1,n.resistance&&(s.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+s.startTranslate+f)**T))):f<0&&(b&&w&&s.allowThresholdMove&&s.currentTranslate<(n.centeredSlides?i.maxTranslate()+i.slidesSizesGrid[i.slidesSizesGrid.length-1]:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-("auto"===n.slidesPerView?i.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),s.currentTranslate<i.maxTranslate()&&(S=!1,n.resistance&&(s.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-s.startTranslate-f)**T))),S&&(u.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),i.allowSlidePrev||i.allowSlideNext||(s.currentTranslate=s.startTranslate),n.threshold>0){if(!(Math.abs(f)>n.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,s.currentTranslate=s.startTranslate,void(o.diff=i.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&i.freeMode||n.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(s.currentTranslate),i.setTranslate(s.currentTranslate))}function H(e){const t=this,i=t.touchEventsData;let s,r=e;r.originalEvent&&(r=r.originalEvent);if("touchend"===r.type||"touchcancel"===r.type){if(s=[...r.changedTouches].filter((e=>e.identifier===i.touchId))[0],!s||s.identifier!==i.touchId)return}else{if(null!==i.touchId)return;if(r.pointerId!==i.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)){if(!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return}i.pointerId=null,i.touchId=null;const{params:n,touches:o,rtlTranslate:d,slidesGrid:c,enabled:u}=t;if(!u)return;if(!n.simulateTouch&&"mouse"===r.pointerType)return;if(i.allowTouchCallbacks&&t.emit("touchEnd",r),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&n.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);n.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const p=l(),h=p-i.touchStartTime;if(t.allowClick){const e=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(e&&e[0]||r.target,e),t.emit("tap click",r),h<300&&p-i.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(i.lastClickTime=l(),a((()=>{t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===o.diff&&!i.loopSwapReset||i.currentTranslate===i.startTranslate&&!i.loopSwapReset)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let g;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,g=n.followFinger?d?t.translate:-t.translate:-i.currentTranslate,n.cssMode)return;if(n.freeMode&&n.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:g});const m=g>=-t.maxTranslate()&&!t.params.loop;let f=0,v=t.slidesSizesGrid[0];for(let e=0;e<c.length;e+=e<n.slidesPerGroupSkip?1:n.slidesPerGroup){const t=e<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==c[e+t]?(m||g>=c[e]&&g<c[e+t])&&(f=e,v=c[e+t]-c[e]):(m||g>=c[e])&&(f=e,v=c[c.length-1]-c[c.length-2])}let y=null,b=null;n.rewind&&(t.isBeginning?b=n.virtual&&n.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(y=0));const w=(g-c[f])/v,S=f<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(h>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(w>=n.longSwipesRatio?t.slideTo(n.rewind&&t.isEnd?y:f+S):t.slideTo(f)),"prev"===t.swipeDirection&&(w>1-n.longSwipesRatio?t.slideTo(f+S):null!==b&&w<0&&Math.abs(w)>n.longSwipesRatio?t.slideTo(b):t.slideTo(f))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(f+S):t.slideTo(f):("next"===t.swipeDirection&&t.slideTo(null!==y?y:f+S),"prev"===t.swipeDirection&&t.slideTo(null!==b?b:f))}}function $(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:r,snapGrid:n}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=r,e.allowSlideNext=s,e.params.watchOverflow&&n!==e.snapGrid&&e.checkOverflow()}function j(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function q(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:s}=e;if(!s)return;let r;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const n=e.maxTranslate()-e.minTranslate();r=0===n?0:(e.translate-e.minTranslate())/n,r!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function R(e){const t=this;k(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function W(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Y=(e,t)=>{const i=r(),{params:s,el:n,wrapperEl:o,device:a}=e,l=!!s.nested,d="on"===t?"addEventListener":"removeEventListener",c=t;n&&"string"!=typeof n&&(i[d]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),n[d]("touchstart",e.onTouchStart,{passive:!1}),n[d]("pointerdown",e.onTouchStart,{passive:!1}),i[d]("touchmove",e.onTouchMove,{passive:!1,capture:l}),i[d]("pointermove",e.onTouchMove,{passive:!1,capture:l}),i[d]("touchend",e.onTouchEnd,{passive:!0}),i[d]("pointerup",e.onTouchEnd,{passive:!0}),i[d]("pointercancel",e.onTouchEnd,{passive:!0}),i[d]("touchcancel",e.onTouchEnd,{passive:!0}),i[d]("pointerout",e.onTouchEnd,{passive:!0}),i[d]("pointerleave",e.onTouchEnd,{passive:!0}),i[d]("contextmenu",e.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&n[d]("click",e.onClick,!0),s.cssMode&&o[d]("scroll",e.onScroll),s.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",$,!0):e[c]("observerUpdate",$,!0),n[d]("load",e.onLoad,{capture:!0}))};const X=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var U={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function K(e,t){return function(i){void 0===i&&(i={});const s=Object.keys(i)[0],r=i[s];"object"==typeof r&&null!==r?(!0===e[s]&&(e[s]={enabled:!0}),"navigation"===s&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),s in e&&"enabled"in r?("object"!=typeof e[s]||"enabled"in e[s]||(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),u(t,i)):u(t,i)):u(t,i)}}const Q={eventsEmitter:M,update:z,translate:_,transition:{setTransition:function(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`,i.wrapperEl.style.transitionDelay=0===e?"0ms":""),i.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const i=this,{params:s}=i;s.cssMode||(s.autoHeight&&i.updateAutoHeight(),D({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const i=this,{params:s}=i;i.animating=!1,s.cssMode||(i.setTransition(0),D({swiper:i,runCallbacks:e,direction:t,step:"End"}))}},slide:G,loop:B,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=N.bind(e),e.onTouchMove=V.bind(e),e.onTouchEnd=H.bind(e),e.onDocumentTouchStart=W.bind(e),t.cssMode&&(e.onScroll=q.bind(e)),e.onClick=j.bind(e),e.onLoad=R.bind(e),Y(e,"on")},detachEvents:function(){Y(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:i,params:s,el:r}=e,n=s.breakpoints;if(!n||n&&0===Object.keys(n).length)return;const o=e.getBreakpoint(n,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const a=(o in n?n[o]:void 0)||e.originalParams,l=X(e,s),d=X(e,a),c=e.params.grabCursor,p=a.grabCursor,h=s.enabled;l&&!d?(r.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),e.emitContainerClasses()):!l&&d&&(r.classList.add(`${s.containerModifierClass}grid`),(a.grid.fill&&"column"===a.grid.fill||!a.grid.fill&&"column"===s.grid.fill)&&r.classList.add(`${s.containerModifierClass}grid-column`),e.emitContainerClasses()),c&&!p?e.unsetGrabCursor():!c&&p&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===a[t])return;const i=s[t]&&s[t].enabled,r=a[t]&&a[t].enabled;i&&!r&&e[t].disable(),!i&&r&&e[t].enable()}));const g=a.direction&&a.direction!==s.direction,m=s.loop&&(a.slidesPerView!==s.slidesPerView||g),f=s.loop;g&&i&&e.changeDirection(),u(e.params,a);const v=e.params.enabled,y=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!v?e.disable():!h&&v&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",a),i&&(m?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!f&&y?(e.loopCreate(t),e.updateSlides()):f&&!y&&e.loopDestroy()),e.emit("breakpoint",a)},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),!e||"container"===t&&!i)return;let s=!1;const r=o(),n="window"===t?r.innerHeight:i.clientHeight,a=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}}));a.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<a.length;e+=1){const{point:n,value:o}=a[e];"window"===t?r.matchMedia(`(min-width: ${o}px)`).matches&&(s=n):o<=i.clientWidth&&(s=n)}return s||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:s}=i;if(s){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*s;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:i,rtl:s,el:r,device:n}=e,o=function(e,t){const i=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((s=>{e[s]&&i.push(t+s)})):"string"==typeof e&&i.push(t+e)})),i}(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:s},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:n.android},{ios:n.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...o),r.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Z={};class J{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?t=s[0]:[e,t]=s,t||(t={}),t=u({},t),e&&!t.el&&(t.el=e);const o=r();if(t.el&&"string"==typeof t.el&&o.querySelectorAll(t.el).length>1){const e=[];return o.querySelectorAll(t.el).forEach((i=>{const s=u({},t,{el:i});e.push(new J(s))})),e}const a=this;a.__swiper__=!0,a.support=C(),a.device=E({userAgent:t.userAgent}),a.browser=I(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach((e=>{e({params:t,swiper:a,extendParams:K(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})}));const d=u({},U,l);return a.params=u({},d,Z,t),a.originalParams=u({},a.params),a.passedParams=u({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach((e=>{a.on(e,a.params.on[e])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=y(g(t,`.${i.slideClass}, swiper-slide`)[0]);return y(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=g(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),r=(i.maxTranslate()-s)*e+s;i.translateTo(r,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:i,slides:s,slidesGrid:r,slidesSizesGrid:n,size:o,activeIndex:a}=this;let l=1;if("number"==typeof i.slidesPerView)return i.slidesPerView;if(i.centeredSlides){let e,t=s[a]?Math.ceil(s[a].swiperSlideSize):0;for(let i=a+1;i<s.length;i+=1)s[i]&&!e&&(t+=Math.ceil(s[i].swiperSlideSize),l+=1,t>o&&(e=!0));for(let i=a-1;i>=0;i-=1)s[i]&&!e&&(t+=s[i].swiperSlideSize,l+=1,t>o&&(e=!0))}else if("current"===e)for(let e=a+1;e<s.length;e+=1){(t?r[e]+n[e]-r[a]<o:r[e]-r[a]<o)&&(l+=1)}else for(let e=a-1;e>=0;e-=1){r[a]-r[e]<o&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function s(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&k(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const t=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(t.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,s=i.params.direction;return e||(e="horizontal"===s?"vertical":"horizontal"),e===s||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=(()=>{if(i&&i.shadowRoot&&i.shadowRoot.querySelector){return i.shadowRoot.querySelector(s())}return g(i,s())[0]})();return!r&&t.params.createElements&&(r=f("div",t.params.wrapperClass),i.append(r),g(i,`.${t.params.slideClass}`).forEach((e=>{r.append(e)}))),Object.assign(t,{el:i,wrapperEl:r,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:r,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===v(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===v(i,"direction")),wrongRTL:"-webkit-box"===v(r,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach((e=>{e.complete?k(t,e):e.addEventListener("load",(e=>{k(t,e.target)}))})),A(t),t.initialized=!0,A(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:s,el:r,wrapperEl:n,slides:o}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),r&&"string"!=typeof r&&r.removeAttribute("style"),n&&n.removeAttribute("style"),o&&o.length&&o.forEach((e=>{e.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((e=>{i.off(e)})),!1!==e&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(i)),i.destroyed=!0),null}static extendDefaults(e){u(Z,e)}static get extendedDefaults(){return Z}static get defaults(){return U}static installModule(e){J.prototype.__modules__||(J.prototype.__modules__=[]);const t=J.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>J.installModule(e))),J):(J.installModule(e),J)}}function ee(e){let{swiper:t,extendParams:i,on:s,emit:r}=e;function n(e){let i;return e&&"string"==typeof e&&t.isElement&&(i=t.el.querySelector(e),i)?i:(e&&("string"==typeof e&&(i=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&i&&i.length>1&&1===t.el.querySelectorAll(e).length?i=t.el.querySelector(e):i&&1===i.length&&(i=i[0])),e&&!i?e:i)}function o(e,i){const s=t.params.navigation;(e=w(e)).forEach((e=>{e&&(e.classList[i?"add":"remove"](...s.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=i),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass))}))}function a(){const{nextEl:e,prevEl:i}=t.navigation;if(t.params.loop)return o(i,!1),void o(e,!1);o(i,t.isBeginning&&!t.params.rewind),o(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function d(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const e=t.params.navigation;if(t.params.navigation=function(e,t,i,s){return e.params.createElements&&Object.keys(s).forEach((r=>{if(!i[r]&&!0===i.auto){let n=g(e.el,`.${s[r]}`)[0];n||(n=f("div",s[r]),n.className=s[r],e.el.append(n)),i[r]=n,t[r]=n}})),i}(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let i=n(e.nextEl),s=n(e.prevEl);Object.assign(t.navigation,{nextEl:i,prevEl:s}),i=w(i),s=w(s);const r=(i,s)=>{i&&i.addEventListener("click","next"===s?d:l),!t.enabled&&i&&i.classList.add(...e.lockClass.split(" "))};i.forEach((e=>r(e,"next"))),s.forEach((e=>r(e,"prev")))}function u(){let{nextEl:e,prevEl:i}=t.navigation;e=w(e),i=w(i);const s=(e,i)=>{e.removeEventListener("click","next"===i?d:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>s(e,"next"))),i.forEach((e=>s(e,"prev")))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},s("init",(()=>{!1===t.params.navigation.enabled?p():(c(),a())})),s("toEdge fromEdge lock unlock",(()=>{a()})),s("destroy",(()=>{u()})),s("enable disable",(()=>{let{nextEl:e,prevEl:i}=t.navigation;e=w(e),i=w(i),t.enabled?a():[...e,...i].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),s("click",((e,i)=>{let{nextEl:s,prevEl:n}=t.navigation;s=w(s),n=w(n);const o=i.target;let a=n.includes(o)||s.includes(o);if(t.isElement&&!a){const e=i.path||i.composedPath&&i.composedPath();e&&(a=e.find((e=>s.includes(e)||n.includes(e))))}if(t.params.navigation.hideOnClick&&!a){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;let e;s.length?e=s[0].classList.contains(t.params.navigation.hiddenClass):n.length&&(e=n[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===e?"navigationShow":"navigationHide"),[...s,...n].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),c(),a()},disable:p,update:a,init:c,destroy:u})}Object.keys(Q).forEach((e=>{Object.keys(Q[e]).forEach((t=>{J.prototype[t]=Q[e][t]}))})),J.use([function(e){let{swiper:t,on:i,emit:s}=e;const r=o();let n=null,a=null;const l=()=>{t&&!t.destroyed&&t.initialized&&(s("beforeResize"),s("resize"))},d=()=>{t&&!t.destroyed&&t.initialized&&s("orientationchange")};i("init",(()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?t&&!t.destroyed&&t.initialized&&(n=new ResizeObserver((e=>{a=r.requestAnimationFrame((()=>{const{width:i,height:s}=t;let r=i,n=s;e.forEach((e=>{let{contentBoxSize:i,contentRect:s,target:o}=e;o&&o!==t.el||(r=s?s.width:(i[0]||i).inlineSize,n=s?s.height:(i[0]||i).blockSize)})),r===i&&n===s||l()}))})),n.observe(t.el)):(r.addEventListener("resize",l),r.addEventListener("orientationchange",d))})),i("destroy",(()=>{a&&r.cancelAnimationFrame(a),n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",d)}))},function(e){let{swiper:t,extendParams:i,on:s,emit:r}=e;const n=[],a=o(),l=function(e,i){void 0===i&&(i={});const s=new(a.MutationObserver||a.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void r("observerUpdate",e[0]);const i=function(){r("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(i):a.setTimeout(i,0)}));s.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:void 0===i.childList||i.childList,characterData:void 0===i.characterData||i.characterData}),n.push(s)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=function(e,t){const i=[];let s=e.parentElement;for(;s;)t?s.matches(t)&&i.push(s):i.push(s),s=s.parentElement;return i}(t.hostEl);for(let t=0;t<e.length;t+=1)l(e[t])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}})),s("destroy",(()=>{n.forEach((e=>{e.disconnect()})),n.splice(0,n.length)}))}]);window.addEventListener("load",(()=>{document.querySelector(".items-carousel__swiper")&&new J(".items-carousel__swiper",{modules:[ee],slidesPerView:3,spaceBetween:203})}));
/*!
 * lightgallery | 2.7.2 | September 20th 2023
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var te=function(){return te=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},te.apply(this,arguments)};var ie="lgAfterAppendSlide",se="lgInit",re="lgHasVideo",ne="lgContainerResize",oe="lgUpdateSlides",ae="lgAfterAppendSubHtml",le="lgBeforeOpen",de="lgAfterOpen",ce="lgSlideItemLoad",ue="lgBeforeSlide",pe="lgAfterSlide",he="lgPosterClick",ge="lgDragStart",me="lgDragMove",fe="lgDragEnd",ve="lgBeforeNextSlide",ye="lgBeforePrevSlide",be="lgBeforeClose",we="lgAfterClose",Se={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};var Te=function(){function e(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.prototype._getSelector=function(e,t){return void 0===t&&(t=document),"string"!=typeof e?e:(t=t||document,"#"===e.substring(0,1)?t.querySelector(e):t.querySelectorAll(e))},e.prototype._each=function(e){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,e):e(this.selector,0),this):this},e.prototype._setCssVendorPrefix=function(e,t,i){var s=t.replace(/-([a-z])/gi,(function(e,t){return t.toUpperCase()}));-1!==this.cssVenderPrefixes.indexOf(s)?(e.style[s.charAt(0).toLowerCase()+s.slice(1)]=i,e.style["webkit"+s]=i,e.style["moz"+s]=i,e.style["ms"+s]=i,e.style["o"+s]=i):e.style[s]=i},e.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},e.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter((function(e){return e})).every((function(e){return-1!==i.indexOf(e)}))},e.prototype.attr=function(e,t){return void 0===t?this.firstElement?this.firstElement.getAttribute(e):"":(this._each((function(i){i.setAttribute(e,t)})),this)},e.prototype.find=function(e){return xe(this._getSelector(e,this.selector))},e.prototype.first=function(){return this.selector&&void 0!==this.selector.length?xe(this.selector[0]):xe(this.selector)},e.prototype.eq=function(e){return xe(this.selector[e])},e.prototype.parent=function(){return xe(this.selector.parentElement)},e.prototype.get=function(){return this._getFirstEl()},e.prototype.removeAttr=function(e){var t=e.split(" ");return this._each((function(e){t.forEach((function(t){return e.removeAttribute(t)}))})),this},e.prototype.wrap=function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this},e.prototype.addClass=function(e){return void 0===e&&(e=""),this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.add(e)}))})),this},e.prototype.removeClass=function(e){return this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.remove(e)}))})),this},e.prototype.hasClass=function(e){return!!this.firstElement&&this.firstElement.classList.contains(e)},e.prototype.hasAttribute=function(e){return!!this.firstElement&&this.firstElement.hasAttribute(e)},e.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},e.prototype.css=function(e,t){var i=this;return this._each((function(s){i._setCssVendorPrefix(s,e,t)})),this},e.prototype.on=function(t,i){var s=this;return this.selector?(t.split(" ").forEach((function(t){Array.isArray(e.eventListeners[t])||(e.eventListeners[t]=[]),e.eventListeners[t].push(i),s.selector.addEventListener(t.split(".")[0],i)})),this):this},e.prototype.once=function(e,t){var i=this;return this.on(e,(function(){i.off(e),t(e)})),this},e.prototype.off=function(t){var i=this;return this.selector?(Object.keys(e.eventListeners).forEach((function(s){i.isEventMatched(t,s)&&(e.eventListeners[s].forEach((function(e){i.selector.removeEventListener(s.split(".")[0],e)})),e.eventListeners[s]=[])})),this):this},e.prototype.trigger=function(e,t){if(!this.firstElement)return this;var i=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(i),this},e.prototype.load=function(e){var t=this;return fetch(e).then((function(e){return e.text()})).then((function(e){t.selector.innerHTML=e})),this},e.prototype.html=function(e){return void 0===e?this.firstElement?this.firstElement.innerHTML:"":(this._each((function(t){t.innerHTML=e})),this)},e.prototype.append=function(e){return this._each((function(t){"string"==typeof e?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)})),this},e.prototype.prepend=function(e){return this._each((function(t){t.insertAdjacentHTML("afterbegin",e)})),this},e.prototype.remove=function(){return this._each((function(e){e.parentNode.removeChild(e)})),this},e.prototype.empty=function(){return this._each((function(e){e.innerHTML=""})),this},e.prototype.scrollTop=function(e){return void 0!==e?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},e.prototype.scrollLeft=function(e){return void 0!==e?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},e.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=xe("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}},e.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},e.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},e.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},e.eventListeners={},e}();function xe(e){return function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),new Te(e)}var Ce=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function Ee(e){return"href"===e?"src":e=(e=(e=e.replace("data-","")).charAt(0).toLowerCase()+e.slice(1)).replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var Ie=function(e,t,i,s){void 0===i&&(i=0);var r=xe(e).attr("data-lg-size")||s;if(r){var n=r.split(",");if(n[1])for(var o=window.innerWidth,a=0;a<n.length;a++){var l=n[a];if(parseInt(l.split("-")[2],10)>o){r=l;break}a===n.length-1&&(r=l)}var d=r.split("-"),c=parseInt(d[0],10),u=parseInt(d[1],10),p=t.width(),h=t.height()-i,g=Math.min(p,c),m=Math.min(h,u),f=Math.min(g/c,m/u);return{width:c*f,height:u*f}}},Me=function(e,t,i,s,r){if(r){var n=xe(e).find("img").first();if(n.get()){var o=t.get().getBoundingClientRect(),a=o.width,l=t.height()-(i+s),d=n.width(),c=n.height(),u=n.style(),p=(a-d)/2-n.offset().left+(parseFloat(u.paddingLeft)||0)+(parseFloat(u.borderLeft)||0)+xe(window).scrollLeft()+o.left,h=(l-c)/2-n.offset().top+(parseFloat(u.paddingTop)||0)+(parseFloat(u.borderTop)||0)+xe(window).scrollTop()+i;return"translate3d("+(p*=-1)+"px, "+(h*=-1)+"px, 0) scale3d("+d/r.width+", "+c/r.height+", 1)"}}},Le=function(e,t,i,s,r,n){return'<div class="lg-video-cont lg-has-iframe" style="width:'+e+"; max-width:"+i+"; height: "+t+"; max-height:"+s+'">\n                    <iframe class="lg-object" frameborder="0" '+(n?'title="'+n+'"':"")+' src="'+r+'"  allowfullscreen="true"></iframe>\n                </div>'},Pe=function(e,t,i,s,r,n){var o="<img "+i+" "+(s?'srcset="'+s+'"':"")+"  "+(r?'sizes="'+r+'"':"")+' class="lg-object lg-image" data-index="'+e+'" src="'+t+'" />',a="";n&&(a=("string"==typeof n?JSON.parse(n):n).map((function(e){var t="";return Object.keys(e).forEach((function(i){t+=" "+i+'="'+e[i]+'"'})),"<source "+t+"></source>"})));return""+a+o},ke=function(e){for(var t=[],i=[],s="",r=0;r<e.length;r++){var n=e[r].split(" ");""===n[0]&&n.splice(0,1),i.push(n[0]),t.push(n[1])}for(var o=window.innerWidth,a=0;a<t.length;a++)if(parseInt(t[a],10)>o){s=i[a];break}return s},Oe=function(e){return!!e&&(!!e.complete&&0!==e.naturalWidth)},Ae=function(e,t,i,s,r){return'<div class="lg-video-cont '+(r&&r.youtube?"lg-has-youtube":r&&r.vimeo?"lg-has-vimeo":"lg-has-html5")+'" style="'+i+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+s+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+s+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(t||"")+'\n            <img class="lg-object lg-video-poster" src="'+e+'" />\n        </div>'},ze=function(e){var t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');return[].filter.call(t,(function(e){var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility}))},_e=function(e,t,i,s){var r=[],n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),r=0;for(t=0;t<i;t++)for(var n=arguments[t],o=0,a=n.length;o<a;o++,r++)s[r]=n[o];return s}(Ce,t);return[].forEach.call(e,(function(e){for(var t={},o=0;o<e.attributes.length;o++){var a=e.attributes[o];if(a.specified){var l=Ee(a.name),d="";n.indexOf(l)>-1&&(d=l),d&&(t[d]=a.value)}}var c=xe(e),u=c.find("img").first().attr("alt"),p=c.attr("title"),h=s?c.attr(s):c.find("img").first().attr("src");t.thumb=h,i&&!t.subHtml&&(t.subHtml=p||u||""),t.alt=u||p||"",r.push(t)})),r},De=function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},Ge=function(e,t,i){if(!e)return t?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");var s=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),r=e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),n=e.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return s?{youtube:s}:r?{vimeo:r}:n?{wistia:n}:void 0},Be=0,Fe=function(){function e(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(Be++,this.lgId=Be,this.el=e,this.LGel=xe(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return e.prototype.generateSettings=function(e){if(this.settings=te(te({},Se),e),this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():De()){var t=te(te({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=te(te({},this.settings),t)}},e.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},e.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(se,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout((function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()}),50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},e.prototype.openGalleryOnItemClick=function(){for(var e=this,t=function(t){var s=i.items[t],r=xe(s),n=Te.generateUUID();r.attr("data-lg-id",n).on("click.lgcustom-item-"+n,(function(i){i.preventDefault();var r=e.settings.index||t;e.openGallery(r,s)}))},i=this,s=0;s<this.items.length;s++)t(s)},e.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach((function(t){e.plugins.push(new t(e,xe))}))},e.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},e.prototype.getSlideItem=function(e){return xe(this.getSlideItemId(e))},e.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},e.prototype.getIdName=function(e){return e+"-"+this.lgId},e.prototype.getElementById=function(e){return xe("#"+this.getIdName(e))},e.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},e.prototype.buildStructure=function(){var e=this;if(!(this.$container&&this.$container.get())){var t="",i="";this.settings.controls&&(t='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(i='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var s="";this.settings.allowMediaOverlap&&(s+="lg-media-overlap ");var r=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",n=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",o="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),a=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",l=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",d='\n        <div class="'+o+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+r+" "+n+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+s+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+t+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+l+"\n                    "+a+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?i:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?i:"")+"\n                </div>\n            </div>\n        </div>\n        ";xe(this.settings.container).append(d),document.body!==this.settings.container&&xe(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var c=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(c+="lg-grab "),this.outer.addClass(c),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),xe(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,(function(){e.refreshOnResize()})),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},e.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var t=this.mediaContainerPosition,i=t.top,s=t.bottom;if(this.currentImageSize=Ie(this.items[this.index],this.outer,i+s,e&&this.settings.videoMaxSize),e&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var r=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",r)}this.LGel.trigger(ne)}},e.prototype.resizeVideoSlide=function(e,t){var i=this.getVideoContStyle(t);this.getSlideItem(e).find(".lg-video-cont").attr("style",i)},e.prototype.updateSlides=function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),1===e.length&&(this.index=0),e.length){var i=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var s=0;this.galleryItems.some((function(e,t){return e.src===i&&(s=t,!0)})),this.currentItemsInDom=this.organizeSlideItems(s,-1),this.loadContent(s,!0),this.getSlideItem(s).addClass("lg-current"),this.index=s,this.updateCurrentCounter(s),this.LGel.trigger(oe)}else this.closeGallery()},e.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if("this"===this.settings.selector)this.items.push(this.el);else if(this.settings.selector)if("string"==typeof this.settings.selector)if(this.settings.selectWithin){var e=xe(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return _e(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},e.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},e.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(xe("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;xe(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),xe(document.body).addClass("lg-overlay-open")}},e.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(xe(document.body).css("padding-right",this.bodyPaddingRight+"px"),xe(document.body).removeClass("lg-overlay-open"))},e.prototype.openGallery=function(e,t){var i=this;if(void 0===e&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var s=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=s;var r="";s.forEach((function(e){r=r+'<div id="'+e+'" class="lg-item"></div>'})),this.$inner.append(r),this.addHtml(e);var n="";this.mediaContainerPosition=this.getMediaContainerPosition();var o=this.mediaContainerPosition,a=o.top,l=o.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(a,l);var d=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&t&&(this.currentImageSize=Ie(t,this.outer,a+l,d&&this.settings.videoMaxSize),n=Me(t,this.outer,a,l,this.currentImageSize)),this.zoomFromOrigin&&n||(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var c=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout((function(){i.outer.addClass("lg-components-open")}),c),this.index=e,this.LGel.trigger(le),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=xe(window).scrollTop(),setTimeout((function(){if(i.zoomFromOrigin&&n){var t=i.getSlideItem(e);t.css("transform",n),setTimeout((function(){t.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")})),setTimeout((function(){t.css("transform","translate3d(0, 0, 0)")}),100)}setTimeout((function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")}),10),setTimeout((function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()}),i.settings.backdropDuration+50),i.zoomFromOrigin&&n||setTimeout((function(){i.outer.addClass("lg-visible")}),i.settings.backdropDuration),i.slide(e,!1,!1,!1),i.LGel.trigger(de)})),document.body===this.settings.container&&xe("html").addClass("lg-on")}},e.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||t&&t.clientHeight||0,s=this.outer.find(".lg-thumb-outer").get();return{top:e,bottom:(s?s.clientHeight:0)+i}},e.prototype.setMediaContainerPosition=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.$content.css("top",e+"px").css("bottom",t+"px")},e.prototype.hideBars=function(){var e=this;setTimeout((function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",(function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout((function(){e.outer.addClass("lg-hide-items")}),e.settings.hideBarsDelay)})),e.outer.trigger("mousemove.lg"))}),this.settings.showBarsAfter)},e.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch(e){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},e.prototype.counter=function(){if(this.settings.counter){var e='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},e.prototype.addHtml=function(e){var t,i;if(this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!i)if(t){var s=t.substring(0,1);"."!==s&&"#"!==s||(t=this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?xe(this.items).eq(e).find(t).first().html():xe(t).first().html())}else t="";if(".lg-item"!==this.settings.appendSubHtmlTo)i?this.outer.find(".lg-sub-html").load(i):this.outer.find(".lg-sub-html").html(t);else{var r=xe(this.getSlideItemId(e));i?r.load(i):r.append('<div class="lg-sub-html">'+t+"</div>")}null!=t&&(""===t?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(ae,{index:e})},e.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},e.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+"px;\n                margin-left: -"+e.width/2+"px;\n                margin-top: -"+e.height/2+"px;\n                height:"+e.height+"px":""},e.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+"px;\n                height:"+e.height+"px":""},e.prototype.getDummyImageContent=function(e,t,i){var s;if(this.settings.dynamic||(s=xe(this.items).eq(t)),s){var r=void 0;if(!(r=this.settings.exThumbImage?s.attr(this.settings.exThumbImage):s.find("img").first().attr("src")))return"";var n="<img "+i+' style="'+this.getDummyImgStyles(this.currentImageSize)+'" class="lg-dummy-img" src="'+r+'" />';return e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),n}return""},e.prototype.setImgMarkup=function(e,t,i){var s=this.galleryItems[i],r=s.alt,n=s.srcset,o=s.sizes,a=s.sources,l=r?'alt="'+r+'"':"",d='<picture class="lg-img-wrap"> '+(this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(t,i,l):Pe(i,e,l,n,o,a))+"</picture>";t.prepend(d)},e.prototype.onSlideObjectLoad=function(e,t,i,s){var r=e.find(".lg-object").first();Oe(r.get())||t?i():(r.on("load.lg error.lg",(function(){i&&i()})),r.on("error.lg",(function(){s&&s()})))},e.prototype.onLgObjectLoad=function(e,t,i,s,r,n){var o=this;this.onSlideObjectLoad(e,n,(function(){o.triggerSlideItemLoad(e,t,i,s,r)}),(function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+o.settings.strings.mediaLoadingFailed+"</span>")}))},e.prototype.triggerSlideItemLoad=function(e,t,i,s,r){var n=this,o=this.galleryItems[t],a=r&&"video"===this.getSlideType(o)&&!o.poster?s:0;setTimeout((function(){e.addClass("lg-complete lg-complete_"),n.LGel.trigger(ce,{index:t,delay:i||0,isFirstSlide:r})}),a)},e.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},e.prototype.addSlideVideoInfo=function(e){var t=this;e.forEach((function(e,i){e.__slideVideoInfo=Ge(e.src,!!e.video,i),e.__slideVideoInfo&&t.settings.loadYouTubePoster&&!e.poster&&e.__slideVideoInfo.youtube&&(e.poster="//img.youtube.com/vi/"+e.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")}))},e.prototype.loadContent=function(e,t){var i=this,s=this.galleryItems[e],r=xe(this.getSlideItemId(e)),n=s.poster,o=s.srcset,a=s.sizes,l=s.sources,d=s.src,c=s.video,u=c&&"string"==typeof c?JSON.parse(c):c;if(s.responsive){var p=s.responsive.split(",");d=ke(p)||d}var h=s.__slideVideoInfo,g="",m=!!s.iframe,f=!this.lGalleryOn,v=0;if(f&&(v=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),!r.hasClass("lg-loaded")){if(h){var y=this.mediaContainerPosition,b=y.top,w=y.bottom,S=Ie(this.items[e],this.outer,b+w,h&&this.settings.videoMaxSize);g=this.getVideoContStyle(S)}if(m){var T=Le(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,d,s.iframeTitle);r.prepend(T)}else if(n){var x="";f&&this.zoomFromOrigin&&this.currentImageSize&&(x=this.getDummyImageContent(r,e,""));T=Ae(n,x||"",g,this.settings.strings.playVideo,h);r.prepend(T)}else if(h){T='<div class="lg-video-cont " style="'+g+'"></div>';r.prepend(T)}else if(this.setImgMarkup(d,r,e),o||l){var C=r.find(".lg-object");this.initPictureFill(C)}(n||h)&&this.LGel.trigger(re,{index:e,src:d,html5Video:u,hasPoster:!!n}),this.LGel.trigger(ie,{index:e}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(e)}var E=0;v&&!xe(document.body).hasClass("lg-from-hash")&&(E=v),this.isFirstSlideWithZoomAnimation()&&(setTimeout((function(){r.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")}),this.settings.startAnimationDuration+100),r.hasClass("lg-loaded")||setTimeout((function(){if("image"===i.getSlideType(s)){var t=s.alt,c=t?'alt="'+t+'"':"";if(r.find(".lg-img-wrap").append(Pe(e,d,c,o,a,s.sources)),o||l){var u=r.find(".lg-object");i.initPictureFill(u)}}("image"===i.getSlideType(s)||"video"===i.getSlideType(s)&&n)&&(i.onLgObjectLoad(r,e,v,E,!0,!1),i.onSlideObjectLoad(r,!(!h||!h.html5||n),(function(){i.loadContentOnFirstSlideLoad(e,r,E)}),(function(){i.loadContentOnFirstSlideLoad(e,r,E)})))}),this.settings.startAnimationDuration+100)),r.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(s)||n)||this.onLgObjectLoad(r,e,v,E,f,!(!h||!h.html5||n)),this.zoomFromOrigin&&this.currentImageSize||!r.hasClass("lg-complete_")||this.lGalleryOn||setTimeout((function(){r.addClass("lg-complete")}),this.settings.backdropDuration),this.lGalleryOn=!0,!0===t&&(r.hasClass("lg-complete_")?this.preload(e):r.find(".lg-object").first().on("load.lg error.lg",(function(){i.preload(e)})))},e.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var s=this;setTimeout((function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),s.outer.removeClass("lg-first-slide-loading"),s.isDummyImageRemoved=!0,s.preload(e)}),i+300)},e.prototype.getItemsToBeInsertedToDom=function(e,t,i){var s=this;void 0===i&&(i=0);var r=[],n=Math.max(i,3);n=Math.min(n,this.galleryItems.length);var o="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)return this.galleryItems.forEach((function(e,t){r.push("lg-item-"+s.lgId+"-"+t)})),r;if(e<(this.galleryItems.length-1)/2){for(var a=e;a>e-n/2&&a>=0;a--)r.push("lg-item-"+this.lgId+"-"+a);var l=r.length;for(a=0;a<n-l;a++)r.push("lg-item-"+this.lgId+"-"+(e+a+1))}else{for(a=e;a<=this.galleryItems.length-1&&a<e+n/2;a++)r.push("lg-item-"+this.lgId+"-"+a);for(l=r.length,a=0;a<n-l;a++)r.push("lg-item-"+this.lgId+"-"+(e-a-1))}return this.settings.loop&&(e===this.galleryItems.length-1?r.push("lg-item-"+this.lgId+"-0"):0===e&&r.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===r.indexOf(o)&&r.push("lg-item-"+this.lgId+"-"+t),r},e.prototype.organizeSlideItems=function(e,t){var i=this,s=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return s.forEach((function(e){-1===i.currentItemsInDom.indexOf(e)&&i.$inner.append('<div id="'+e+'" class="lg-item"></div>')})),this.currentItemsInDom.forEach((function(e){-1===s.indexOf(e)&&xe("#"+e).remove()})),s},e.prototype.getPreviousSlideIndex=function(){var e=0;try{var t=this.outer.find(".lg-current").first().attr("id");e=parseInt(t.split("-")[3])||0}catch(t){e=0}return e},e.prototype.setDownloadValue=function(e){if(this.settings.download){var t=this.galleryItems[e];if(!1===t.downloadUrl||"false"===t.downloadUrl)this.outer.addClass("lg-hide-download");else{var i=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),i.attr("href",t.downloadUrl||t.src),t.download&&i.attr("download",t.download)}}},e.prototype.makeSlideAnimation=function(e,t,i){var s=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout((function(){s.outer.addClass("lg-no-trans"),s.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===e?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout((function(){s.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),s.outer.removeClass("lg-no-trans")}),50)}),this.lGalleryOn?this.settings.slideDelay:0)},e.prototype.slide=function(e,t,i,s){var r=this,n=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,n),!this.lGalleryOn||n!==e){var o=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var a=this.getSlideItem(e),l=this.getSlideItem(n),d=this.galleryItems[e],c=d.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(d)),this.setDownloadValue(e),c){var u=this.mediaContainerPosition,p=u.top,h=u.bottom,g=Ie(this.items[e],this.outer,p+h,c&&this.settings.videoMaxSize);this.resizeVideoSlide(e,g)}if(this.LGel.trigger(ue,{prevIndex:n,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),s||(e<n?s="prev":e>n&&(s="next")),t){this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var m=void 0,f=void 0;o>2?(m=e-1,f=e+1,(0===e&&n===o-1||e===o-1&&0===n)&&(f=0,m=o-1)):(m=0,f=1),"prev"===s?this.getSlideItem(f).addClass("lg-next-slide"):this.getSlideItem(m).addClass("lg-prev-slide"),a.addClass("lg-current")}else this.makeSlideAnimation(s,a,l);this.lGalleryOn?setTimeout((function(){r.loadContent(e,!0),".lg-item"!==r.settings.appendSubHtmlTo&&r.addHtml(e)}),this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout((function(){r.lgBusy=!1,l.removeClass("lg-slide-progress"),r.LGel.trigger(pe,{prevIndex:n,index:e,fromTouch:t,fromThumb:i})}),(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))}this.index=e}},e.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},e.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},e.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},e.prototype.touchMove=function(e,t,i){var s=t.pageX-e.pageX,r=t.pageY-e.pageY,n=!1;if(this.swipeDirection?n=!0:Math.abs(s)>15?(this.swipeDirection="horizontal",n=!0):Math.abs(r)>15&&(this.swipeDirection="vertical",n=!0),n){var o=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==i||i.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(o,s,0);var a=o.get().offsetWidth,l=15*a/100-Math.abs(10*s/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-a+s-l,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),a+s+l,0)}else if("vertical"===this.swipeDirection&&this.settings.swipeToClose){null==i||i.preventDefault(),this.$container.addClass("lg-dragging-vertical");var d=1-Math.abs(r)/window.innerHeight;this.$backdrop.css("opacity",d);var c=1-Math.abs(r)/(2*window.innerWidth);this.setTranslate(o,0,r,c,c),Math.abs(r)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},e.prototype.touchEnd=function(e,t,i){var s,r=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout((function(){r.$container.removeClass("lg-dragging-vertical"),r.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var n=!0;if("horizontal"===r.swipeDirection){s=e.pageX-t.pageX;var o=Math.abs(e.pageX-t.pageX);s<0&&o>r.settings.swipeThreshold?(r.goToNextSlide(!0),n=!1):s>0&&o>r.settings.swipeThreshold&&(r.goToPrevSlide(!0),n=!1)}else if("vertical"===r.swipeDirection){if(s=Math.abs(e.pageY-t.pageY),r.settings.closable&&r.settings.swipeToClose&&s>100)return void r.closeGallery();r.$backdrop.css("opacity",1)}if(r.outer.find(".lg-item").removeAttr("style"),n&&Math.abs(e.pageX-t.pageX)<5){var a=xe(i.target);r.isPosterElement(a)&&r.LGel.trigger(he)}r.swipeDirection=void 0})),setTimeout((function(){r.outer.hasClass("lg-dragging")||"lg-slide"===r.settings.mode||r.outer.removeClass("lg-slide")}),this.settings.speed+100)},e.prototype.enableSwipe=function(){var e=this,t={},i={},s=!1,r=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",(function(i){e.dragOrSwipeEnabled=!0;var s=e.getSlideItem(e.index);!xe(i.target).hasClass("lg-item")&&!s.get().contains(i.target)||e.outer.hasClass("lg-zoomed")||e.lgBusy||1!==i.touches.length||(r=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY})})),this.$inner.on("touchmove.lg",(function(n){r&&"swipe"===e.touchAction&&1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e.touchMove(t,i,n),s=!0)})),this.$inner.on("touchend.lg",(function(n){if("swipe"===e.touchAction){if(s)s=!1,e.touchEnd(i,t,n);else if(r){var o=xe(n.target);e.isPosterElement(o)&&e.LGel.trigger(he)}e.touchAction=void 0,r=!1}})))},e.prototype.enableDrag=function(){var e=this,t={},i={},s=!1,r=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",(function(i){e.dragOrSwipeEnabled=!0;var r=e.getSlideItem(e.index);(xe(i.target).hasClass("lg-item")||r.get().contains(i.target))&&(e.outer.hasClass("lg-zoomed")||e.lgBusy||(i.preventDefault(),e.lgBusy||(e.manageSwipeClass(),t={pageX:i.pageX,pageY:i.pageY},s=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger(ge))))})),xe(window).on("mousemove.lg.global"+this.lgId,(function(n){s&&e.lgOpened&&(r=!0,i={pageX:n.pageX,pageY:n.pageY},e.touchMove(t,i),e.LGel.trigger(me))})),xe(window).on("mouseup.lg.global"+this.lgId,(function(n){if(e.lgOpened){var o=xe(n.target);r?(r=!1,e.touchEnd(i,t,n),e.LGel.trigger(fe)):e.isPosterElement(o)&&e.LGel.trigger(he),s&&(s=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}})))},e.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",(function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(xe(t.target))&&e.LGel.trigger(he)}))},e.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(0===this.index?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},e.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(ve,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(ve,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout((function(){t.outer.removeClass("lg-right-end")}),400)))},e.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(ye,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(ye,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout((function(){t.outer.removeClass("lg-left-end")}),400)))},e.prototype.keyPress=function(){var e=this;xe(window).on("keydown.lg.global"+this.lgId,(function(t){e.lgOpened&&!0===e.settings.escKey&&27===t.keyCode&&(t.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(37===t.keyCode&&(t.preventDefault(),e.goToPrevSlide()),39===t.keyCode&&(t.preventDefault(),e.goToNextSlide()))}))},e.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",(function(){e.goToPrevSlide()})),this.getElementById("lg-next").on("click.lg",(function(){e.goToNextSlide()}))},e.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var t=this.getElementById("lg-prev"),i=this.getElementById("lg-next");e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),0===e?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}},e.prototype.setTranslate=function(e,t,i,s,r){void 0===s&&(s=1),void 0===r&&(r=1),e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+s+", "+r+", 1)")},e.prototype.mousewheel=function(){var e=this,t=0;this.outer.on("wheel.lg",(function(i){if(i.deltaY&&!(e.galleryItems.length<2)){i.preventDefault();var s=(new Date).getTime();s-t<1e3||(t=s,i.deltaY>0?e.goToNextSlide():i.deltaY<0&&e.goToPrevSlide())}}))},e.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")},e.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},e.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",(function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()}))},e.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=xe(this.items[e]);t.off("click.lgcustom-item-"+t.attr("data-lg-id"))}},e.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),xe(window).on("keydown.lg.global"+this.lgId,(function(t){if(e.lgOpened&&("Tab"===t.key||9===t.keyCode)){var i=ze(e.$container.get()),s=i[0],r=i[i.length-1];t.shiftKey?document.activeElement===s&&(r.focus(),t.preventDefault()):document.activeElement===r&&(s.focus(),t.preventDefault())}}))},e.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var t=!1;this.getElementById("lg-close").on("click.lg",(function(){e.closeGallery()})),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",(function(i){var s=xe(i.target);t=!!e.isSlideElement(s)})),this.outer.on("mousemove.lg",(function(){t=!1})),this.outer.on("mouseup.lg",(function(i){var s=xe(i.target);e.isSlideElement(s)&&t&&(e.outer.hasClass("lg-dragging")||e.closeGallery())})))}},e.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(be),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&xe(window).scrollTop(this.prevScrollTop);var i,s=this.items[this.index];if(this.zoomFromOrigin&&s){var r=this.mediaContainerPosition,n=r.top,o=r.bottom,a=this.galleryItems[this.index],l=a.__slideVideoInfo,d=a.poster,c=Ie(s,this.outer,n+o,l&&d&&this.settings.videoMaxSize);i=Me(s,this.outer,n,o,c)}this.zoomFromOrigin&&i?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",i)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,xe("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var u=this.zoomFromOrigin&&i?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout((function(){t.zoomFromOrigin&&i&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger(we,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1}),u+100),u+100},e.prototype.initModules=function(){this.plugins.forEach((function(e){try{e.init()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}}))},e.prototype.destroyModules=function(e){this.plugins.forEach((function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch(e){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}}))},e.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),this.galleryItems=e||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(oe)},e.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},e.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),xe(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},e.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},e}();const Ne=function(e,t){return new Fe(e,t)};document.querySelectorAll("[data-lightgallery]").length&&document.querySelectorAll("[data-lightgallery]").forEach((e=>{const t=e.querySelector(".media__text"),i=e.querySelector(".media__description"),s=Ne(e,{speed:500,licenseKey:"7EC452A9-0CFD441C-BD984C7C-17C8456E",appendCounterTo:".lg-content",selector:".media__image-wrap"});e.addEventListener("lgBeforeOpen",(e=>{const r=s.$container.firstElement.querySelector(".lg-outer");t&&r.append(t),i&&r.append(i)}))}));let Ve=!0;const He=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;Ve&&(setTimeout((()=>{document.documentElement.classList.remove("lock")}),e),Ve=!1,setTimeout((function(){Ve=!0}),e))},$e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;Ve&&(document.documentElement.classList.add("lock"),Ve=!1,setTimeout((function(){Ve=!0}),e))};i(976),i(691);const je=window.matchMedia("(max-width: 64.05em)"),qe=window.matchMedia("(max-width: 48em)"),Re=document.querySelector(".header"),We=()=>{document.documentElement.classList.remove("_show-cart-widget"),He()},Ye=()=>{document.documentElement.classList.remove("_show-header-menu"),Re.classList.remove("_dark-theme"),He()};document.addEventListener("click",(e=>{const{target:t}=e;t.closest(".header__hamburger")&&(document.documentElement.classList.toggle("_show-header-menu"),document.querySelector("._show-header-menu")?($e(),Re.classList.add("_dark-theme")):Ye()),je.matches&&(t.closest(".actions-header__item_cart .actions-header__txt")&&(document.documentElement.classList.remove("_show-header-menu"),document.documentElement.classList.toggle("_show-cart-widget"),document.querySelector("body._light-theme")?(Re.classList.add("_dark-theme"),He()):document.querySelector("._show-cart-widget")?(Re.classList.remove("_dark-theme"),qe.matches?$e():He()):He()),!document.querySelector("._show-cart-widget")||t.closest(".actions-header__item_cart")&&!t.closest(".cart-widget__close-btn")||We())})),je.addEventListener("change",(()=>{!je.matches&&document.querySelector("._show-header-menu")&&Ye(),!qe.matches&&document.querySelector("._show-cart-widget")&&We()})),document.getElementById("currentYear")&&(document.getElementById("currentYear").innerHTML=(new Date).getFullYear())})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0I3TCxVQUFVTSxPQUFPLHFCQUMxQ2t2QyxHQUFPeHZDLFVBQVVNLE9BQU8sZUFDeEI4dUMsSUFBWSxFQThEZDd4QyxTQUFTNEQsaUJBQWlCLFNBL0JGSixJQUN0QixNQUFNLE9BQUVDLEdBQVdELEVBRWZDLEVBQU9xQixRQUFRLHdCQTlCbkI5RSxTQUFTc08sZ0JBQWdCN0wsVUFBVWcwQixPQUFPLHFCQUV0Q3oyQixTQUFTZSxjQUFjLHVCQUN6Qit3QyxLQUNBRyxHQUFPeHZDLFVBQVVHLElBQUksZ0JBRXJCdXZDLE1BNEJFSixHQUFHeHZDLFVBQ0RrQixFQUFPcUIsUUFBUSxxREF4QnJCOUUsU0FBU3NPLGdCQUFnQjdMLFVBQVVNLE9BQU8scUJBQzFDL0MsU0FBU3NPLGdCQUFnQjdMLFVBQVVnMEIsT0FBTyxxQkFFckN6MkIsU0FBU2UsY0FBYyxzQkFRMUJreEMsR0FBT3h2QyxVQUFVRyxJQUFJLGVBQ3JCaXZDLE1BUkk3eEMsU0FBU2UsY0FBYyx1QkFDekJreEMsR0FBT3h2QyxVQUFVTSxPQUFPLGVBQ3hCaXZDLEdBQUd6dkMsUUFBVXV2QyxLQUFhRCxNQUUxQkEsT0FvQkE3eEMsU0FBU2UsY0FBYyx1QkFDckIwQyxFQUFPcUIsUUFBUSxnQ0FDZnJCLEVBQU9xQixRQUFRLDRCQUVqQm90QyxLQUVKLElBY0ZILEdBQUdudUMsaUJBQWlCLFVBWGN3dUMsTUFDM0JMLEdBQUd4dkMsU0FBV3ZDLFNBQVNlLGNBQWMsdUJBQ3hDb3hDLE1BR0dILEdBQUd6dkMsU0FBV3ZDLFNBQVNlLGNBQWMsdUJBQ3hDbXhDLElBQ0YsSUQ4TElseUMsU0FBU3FHLGVBQWUsaUJBQzFCckcsU0FBU3FHLGVBQWUsZUFBZXU1QixXQUFZLElBQUl4M0IsTUFBT2lxQyxjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL3NyYy9qcy9saWIvZGQuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL3NyYy9qcy91dGlscy9mb3Jtcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vc3JjL2pzL3V0aWxzL3F1YW50aXR5LmpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL3Nzci13aW5kb3cuZXNtLm1qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvdXRpbHMubWpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9zd2lwZXItY29yZS5tanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9uYXZpZ2F0aW9uLm1qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvY3JlYXRlLWVsZW1lbnQtaWYtbm90LWRlZmluZWQubWpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9zcmMvanMvbGliL3N3aXBlci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vbm9kZV9tb2R1bGVzL2xpZ2h0Z2FsbGVyeS9saWdodGdhbGxlcnkuZXM1LmpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9zcmMvanMvbGliL2xpZ2h0Z2FsbGVyeS5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vc3JjL2pzL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9zcmMvanMvdXRpbHMvc2NyaXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gRHluYW1pY0FkYXB0KHR5cGUpIHtcbiAgdGhpcy50eXBlID0gdHlwZTtcbn1cbkR5bmFtaWNBZGFwdC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICB0aGlzLtC+YmplY3RzID0gW107XG4gIHRoaXMuZGFDbGFzc25hbWUgPSBcIl9keW5hbWljX2FkYXB0X1wiO1xuICB0aGlzLm5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWRhXVwiKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZXNbaV07XG4gICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YXNldC5kYS50cmltKCk7XG4gICAgY29uc3QgZGF0YUFycmF5ID0gZGF0YS5zcGxpdChcIixcIik7XG4gICAgY29uc3Qg0L5iamVjdCA9IHt9O1xuICAgINC+YmplY3QuZWxlbWVudCA9IG5vZGU7XG4gICAg0L5iamVjdC5wYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAg0L5iamVjdC5kZXN0aW5hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YUFycmF5WzBdLnRyaW0oKSk7XG4gICAg0L5iamVjdC5icmVha3BvaW50ID0gZGF0YUFycmF5WzFdID8gZGF0YUFycmF5WzFdLnRyaW0oKSA6IFwiNzY3XCI7XG4gICAg0L5iamVjdC5wbGFjZSA9IGRhdGFBcnJheVsyXSA/IGRhdGFBcnJheVsyXS50cmltKCkgOiBcImxhc3RcIjtcbiAgICDQvmJqZWN0LmluZGV4ID0gdGhpcy5pbmRleEluUGFyZW50KNC+YmplY3QucGFyZW50LCDQvmJqZWN0LmVsZW1lbnQpO1xuICAgIHRoaXMu0L5iamVjdHMucHVzaCjQvmJqZWN0KTtcbiAgfVxuICB0aGlzLmFycmF5U29ydCh0aGlzLtC+YmplY3RzKTtcbiAgdGhpcy5tZWRpYVF1ZXJpZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoXG4gICAgdGhpcy7QvmJqZWN0cyxcbiAgICBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCIoXCIgK1xuICAgICAgICB0aGlzLnR5cGUgK1xuICAgICAgICBcIi13aWR0aDogXCIgK1xuICAgICAgICBpdGVtLmJyZWFrcG9pbnQgK1xuICAgICAgICBcInB4KSxcIiArXG4gICAgICAgIGl0ZW0uYnJlYWtwb2ludFxuICAgICAgKTtcbiAgICB9LFxuICAgIHRoaXMsXG4gICk7XG4gIHRoaXMubWVkaWFRdWVyaWVzID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKFxuICAgIHRoaXMubWVkaWFRdWVyaWVzLFxuICAgIGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgc2VsZikge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoc2VsZiwgaXRlbSkgPT09IGluZGV4O1xuICAgIH0sXG4gICk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZWRpYVF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBtZWRpYSA9IHRoaXMubWVkaWFRdWVyaWVzW2ldO1xuICAgIGNvbnN0IG1lZGlhU3BsaXQgPSBTdHJpbmcucHJvdG90eXBlLnNwbGl0LmNhbGwobWVkaWEsIFwiLFwiKTtcbiAgICBjb25zdCBtYXRjaE1lZGlhID0gd2luZG93Lm1hdGNoTWVkaWEobWVkaWFTcGxpdFswXSk7XG4gICAgY29uc3QgbWVkaWFCcmVha3BvaW50ID0gbWVkaWFTcGxpdFsxXTtcbiAgICBjb25zdCDQvmJqZWN0c0ZpbHRlciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChcbiAgICAgIHRoaXMu0L5iamVjdHMsXG4gICAgICBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5icmVha3BvaW50ID09PSBtZWRpYUJyZWFrcG9pbnQ7XG4gICAgICB9LFxuICAgICk7XG4gICAgbWF0Y2hNZWRpYS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5tZWRpYUhhbmRsZXIobWF0Y2hNZWRpYSwg0L5iamVjdHNGaWx0ZXIpO1xuICAgIH0pO1xuICAgIHRoaXMubWVkaWFIYW5kbGVyKG1hdGNoTWVkaWEsINC+YmplY3RzRmlsdGVyKTtcbiAgfVxufTtcbkR5bmFtaWNBZGFwdC5wcm90b3R5cGUubWVkaWFIYW5kbGVyID0gZnVuY3Rpb24gKG1hdGNoTWVkaWEsINC+YmplY3RzKSB7XG4gIGlmIChtYXRjaE1lZGlhLm1hdGNoZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8INC+YmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCDQvmJqZWN0ID0g0L5iamVjdHNbaV07XG4gICAgICDQvmJqZWN0LmluZGV4ID0gdGhpcy5pbmRleEluUGFyZW50KNC+YmplY3QucGFyZW50LCDQvmJqZWN0LmVsZW1lbnQpO1xuICAgICAgdGhpcy5tb3ZlVG8o0L5iamVjdC5wbGFjZSwg0L5iamVjdC5lbGVtZW50LCDQvmJqZWN0LmRlc3RpbmF0aW9uKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy9mb3IgKGxldCBpID0gMDsgaSA8INC+YmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaSA9INC+YmplY3RzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCDQvmJqZWN0ID0g0L5iamVjdHNbaV07XG4gICAgICBpZiAo0L5iamVjdC5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmRhQ2xhc3NuYW1lKSkge1xuICAgICAgICB0aGlzLm1vdmVCYWNrKNC+YmplY3QucGFyZW50LCDQvmJqZWN0LmVsZW1lbnQsINC+YmplY3QuaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbkR5bmFtaWNBZGFwdC5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKHBsYWNlLCBlbGVtZW50LCBkZXN0aW5hdGlvbikge1xuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5kYUNsYXNzbmFtZSk7XG4gIGlmIChwbGFjZSA9PT0gXCJsYXN0XCIgfHwgcGxhY2UgPj0gZGVzdGluYXRpb24uY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgZGVzdGluYXRpb24uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIGVsZW1lbnQpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGxhY2UgPT09IFwiZmlyc3RcIikge1xuICAgIGRlc3RpbmF0aW9uLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgZWxlbWVudCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRlc3RpbmF0aW9uLmNoaWxkcmVuW3BsYWNlXS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmViZWdpblwiLCBlbGVtZW50KTtcbn07XG5EeW5hbWljQWRhcHQucHJvdG90eXBlLm1vdmVCYWNrID0gZnVuY3Rpb24gKHBhcmVudCwgZWxlbWVudCwgaW5kZXgpIHtcbiAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZGFDbGFzc25hbWUpO1xuICBpZiAocGFyZW50LmNoaWxkcmVuW2luZGV4XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcGFyZW50LmNoaWxkcmVuW2luZGV4XS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmViZWdpblwiLCBlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlZW5kXCIsIGVsZW1lbnQpO1xuICB9XG59O1xuRHluYW1pY0FkYXB0LnByb3RvdHlwZS5pbmRleEluUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCwgZWxlbWVudCkge1xuICBjb25zdCBhcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHBhcmVudC5jaGlsZHJlbik7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFycmF5LCBlbGVtZW50KTtcbn07XG5EeW5hbWljQWRhcHQucHJvdG90eXBlLmFycmF5U29ydCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKHRoaXMudHlwZSA9PT0gXCJtaW5cIikge1xuICAgIEFycmF5LnByb3RvdHlwZS5zb3J0LmNhbGwoYXJyLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgaWYgKGEuYnJlYWtwb2ludCA9PT0gYi5icmVha3BvaW50KSB7XG4gICAgICAgIGlmIChhLnBsYWNlID09PSBiLnBsYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYS5wbGFjZSA9PT0gXCJmaXJzdFwiIHx8IGIucGxhY2UgPT09IFwibGFzdFwiKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGEucGxhY2UgPT09IFwibGFzdFwiIHx8IGIucGxhY2UgPT09IFwiZmlyc3RcIikge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGEucGxhY2UgLSBiLnBsYWNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYS5icmVha3BvaW50IC0gYi5icmVha3BvaW50O1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIEFycmF5LnByb3RvdHlwZS5zb3J0LmNhbGwoYXJyLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgaWYgKGEuYnJlYWtwb2ludCA9PT0gYi5icmVha3BvaW50KSB7XG4gICAgICAgIGlmIChhLnBsYWNlID09PSBiLnBsYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYS5wbGFjZSA9PT0gXCJmaXJzdFwiIHx8IGIucGxhY2UgPT09IFwibGFzdFwiKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYS5wbGFjZSA9PT0gXCJsYXN0XCIgfHwgYi5wbGFjZSA9PT0gXCJmaXJzdFwiKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGIucGxhY2UgLSBhLnBsYWNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYi5icmVha3BvaW50IC0gYS5icmVha3BvaW50O1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxufTtcbmNvbnN0IGRhID0gbmV3IER5bmFtaWNBZGFwdChcIm1heFwiKTtcbmRhLmluaXQoKTtcbiIsImNvbnN0IG9uSW5wdXRGb2N1c0luSGFuZGxlciA9IChlKSA9PiB7XG4gIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJfaGFzLWVycm9yXCIpO1xufTtcblxuY29uc3Qgb25Gb3JtU3VibWl0SGFuZGxlciA9IChmb3JtLCBlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKS5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGlmICghaW5wdXQudmFsdWUubGVuZ3RoKSB7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKFwiX2hhcy1lcnJvclwiKTtcbiAgICB9XG5cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLCBvbklucHV0Rm9jdXNJbkhhbmRsZXIpO1xuICB9KTtcblxuICAhZm9ybS5xdWVyeVNlbGVjdG9yKFwiaW5wdXQuX2hhcy1lcnJvclwiKSAmJiBmb3JtLnN1Ym1pdCgpO1xufTtcblxuY29uc3QgaW5pdEZvcm1GaWVsZHMgPSAoKSA9PiB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZm9ybVtkYXRhLXZhbGlkYXRlXVwiKS5sZW5ndGgpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZm9ybVtkYXRhLXZhbGlkYXRlXVwiKS5mb3JFYWNoKChmb3JtKSA9PiB7XG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgb25Gb3JtU3VibWl0SGFuZGxlcihmb3JtLCBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59O1xuaW5pdEZvcm1GaWVsZHMoKTtcbiIsImZ1bmN0aW9uIGluaXRRdWFudGl0eSgpIHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucXVhbnRpdHlcIikubGVuZ3RoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5xdWFudGl0eVwiKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSBlbC5xdWVyeVNlbGVjdG9yKFwiLnF1YW50aXR5X19pbnB1dFwiKTtcbiAgICAgIGNvbnN0IG1pbnVzQnRuID0gZWwucXVlcnlTZWxlY3RvcihcIi5xdWFudGl0eV9fY291bnRfbWludXNcIik7XG4gICAgICBjb25zdCBhZGRCdG4gPSBlbC5xdWVyeVNlbGVjdG9yKFwiLnF1YW50aXR5X19jb3VudF9hZGRcIik7XG4gICAgICBjb25zdCBxdHlNaW4gPSBwYXJzZUludChpbnB1dC5taW4pO1xuICAgICAgY29uc3QgcXR5TWF4ID0gcGFyc2VJbnQoaW5wdXQubWF4KTtcblxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHF0eSA9IHBhcnNlSW50KGlucHV0LnZhbHVlKTtcblxuICAgICAgICBpZiAoaXNOYU4ocXR5KSB8fCBxdHkgPD0gcXR5TWluKSB7XG4gICAgICAgICAgaW5wdXQudmFsdWUgPSBxdHlNaW47XG4gICAgICAgICAgbWludXNCdG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgYWRkQnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pbnVzQnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuXG4gICAgICAgICAgaWYgKHF0eSA+PSBxdHlNYXgpIHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gcXR5TWF4O1xuICAgICAgICAgICAgYWRkQnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHF0eTtcbiAgICAgICAgICAgIGFkZEJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoXCIucXVhbnRpdHlfX2NvdW50XCIpKSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQuY2xvc2VzdChcIi5xdWFudGl0eV9fY291bnRcIik7XG4gICAgICAgICAgY29uc3Qgb3BlcmF0b3IgPSB0YXJnZXQuZGF0YXNldC5hY3Rpb247XG4gICAgICAgICAgbGV0IHF0eSA9IHBhcnNlSW50KGlucHV0LnZhbHVlKTtcblxuICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCJhZGRcIikge1xuICAgICAgICAgICAgcXR5ICs9IDE7XG5cbiAgICAgICAgICAgIGlmIChxdHkgPj0gcXR5TWluICsgMSkge1xuICAgICAgICAgICAgICBhZGRCdG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChxdHkgPj0gcXR5TWF4KSB7XG4gICAgICAgICAgICAgIGFkZEJ0bi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXR5ID0gcXR5IDw9IHF0eU1pbiA/IHF0eU1pbiA6IChxdHkgLT0gMSk7XG5cbiAgICAgICAgICAgIGlmIChxdHkgPT09IHF0eU1pbikge1xuICAgICAgICAgICAgICBtaW51c0J0bi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHF0eSA8IHF0eU1heCkge1xuICAgICAgICAgICAgICBtaW51c0J0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHF0eTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmluaXRRdWFudGl0eSgpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8qKlxuICogU1NSIFdpbmRvdyA0LjAuMlxuICogQmV0dGVyIGhhbmRsaW5nIGZvciB3aW5kb3cgb2JqZWN0IGluIFNTUiBlbnZpcm9ubWVudFxuICogaHR0cHM6Ly9naXRodWIuY29tL25vbGltaXRzNHdlYi9zc3Itd2luZG93XG4gKlxuICogQ29weXJpZ2h0IDIwMjEsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgTUlUXG4gKlxuICogUmVsZWFzZWQgb246IERlY2VtYmVyIDEzLCAyMDIxXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAnY29uc3RydWN0b3InIGluIG9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNyYykge1xuICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHtcbiAgICB0YXJnZXQgPSB7fTtcbiAgfVxuICBpZiAoc3JjID09PSB2b2lkIDApIHtcbiAgICBzcmMgPSB7fTtcbiAgfVxuICBPYmplY3Qua2V5cyhzcmMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldID09PSAndW5kZWZpbmVkJykgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtlbHNlIGlmIChpc09iamVjdChzcmNba2V5XSkgJiYgaXNPYmplY3QodGFyZ2V0W2tleV0pICYmIE9iamVjdC5rZXlzKHNyY1trZXldKS5sZW5ndGggPiAwKSB7XG4gICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICB9XG4gIH0pO1xufVxuY29uc3Qgc3NyRG9jdW1lbnQgPSB7XG4gIGJvZHk6IHt9LFxuICBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgYWN0aXZlRWxlbWVudDoge1xuICAgIGJsdXIoKSB7fSxcbiAgICBub2RlTmFtZTogJydcbiAgfSxcbiAgcXVlcnlTZWxlY3RvcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgcXVlcnlTZWxlY3RvckFsbCgpIHtcbiAgICByZXR1cm4gW107XG4gIH0sXG4gIGdldEVsZW1lbnRCeUlkKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBjcmVhdGVFdmVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdEV2ZW50KCkge31cbiAgICB9O1xuICB9LFxuICBjcmVhdGVFbGVtZW50KCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBjaGlsZE5vZGVzOiBbXSxcbiAgICAgIHN0eWxlOiB7fSxcbiAgICAgIHNldEF0dHJpYnV0ZSgpIHt9LFxuICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBjcmVhdGVFbGVtZW50TlMoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICBpbXBvcnROb2RlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIGhhc2g6ICcnLFxuICAgIGhvc3Q6ICcnLFxuICAgIGhvc3RuYW1lOiAnJyxcbiAgICBocmVmOiAnJyxcbiAgICBvcmlnaW46ICcnLFxuICAgIHBhdGhuYW1lOiAnJyxcbiAgICBwcm90b2NvbDogJycsXG4gICAgc2VhcmNoOiAnJ1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gIGNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHt9O1xuICBleHRlbmQoZG9jLCBzc3JEb2N1bWVudCk7XG4gIHJldHVybiBkb2M7XG59XG5jb25zdCBzc3JXaW5kb3cgPSB7XG4gIGRvY3VtZW50OiBzc3JEb2N1bWVudCxcbiAgbmF2aWdhdG9yOiB7XG4gICAgdXNlckFnZW50OiAnJ1xuICB9LFxuICBsb2NhdGlvbjoge1xuICAgIGhhc2g6ICcnLFxuICAgIGhvc3Q6ICcnLFxuICAgIGhvc3RuYW1lOiAnJyxcbiAgICBocmVmOiAnJyxcbiAgICBvcmlnaW46ICcnLFxuICAgIHBhdGhuYW1lOiAnJyxcbiAgICBwcm90b2NvbDogJycsXG4gICAgc2VhcmNoOiAnJ1xuICB9LFxuICBoaXN0b3J5OiB7XG4gICAgcmVwbGFjZVN0YXRlKCkge30sXG4gICAgcHVzaFN0YXRlKCkge30sXG4gICAgZ28oKSB7fSxcbiAgICBiYWNrKCkge31cbiAgfSxcbiAgQ3VzdG9tRXZlbnQ6IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fSxcbiAgZ2V0Q29tcHV0ZWRTdHlsZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0UHJvcGVydHlWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIEltYWdlKCkge30sXG4gIERhdGUoKSB7fSxcbiAgc2NyZWVuOiB7fSxcbiAgc2V0VGltZW91dCgpIHt9LFxuICBjbGVhclRpbWVvdXQoKSB7fSxcbiAgbWF0Y2hNZWRpYSgpIHtcbiAgICByZXR1cm4ge307XG4gIH0sXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICB9LFxuICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkge1xuICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldFdpbmRvdygpIHtcbiAgY29uc3Qgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiAgZXh0ZW5kKHdpbiwgc3NyV2luZG93KTtcbiAgcmV0dXJuIHdpbjtcbn1cblxuZXhwb3J0IHsgZ2V0V2luZG93IGFzIGEsIGdldERvY3VtZW50IGFzIGcgfTtcbiIsImltcG9ydCB7IGEgYXMgZ2V0V2luZG93LCBnIGFzIGdldERvY3VtZW50IH0gZnJvbSAnLi9zc3Itd2luZG93LmVzbS5tanMnO1xuXG5mdW5jdGlvbiBjbGFzc2VzVG9Ub2tlbnMoY2xhc3Nlcykge1xuICBpZiAoY2xhc3NlcyA9PT0gdm9pZCAwKSB7XG4gICAgY2xhc3NlcyA9ICcnO1xuICB9XG4gIHJldHVybiBjbGFzc2VzLnRyaW0oKS5zcGxpdCgnICcpLmZpbHRlcihjID0+ICEhYy50cmltKCkpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9wcyhvYmopIHtcbiAgY29uc3Qgb2JqZWN0ID0gb2JqO1xuICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goa2V5ID0+IHtcbiAgICB0cnkge1xuICAgICAgb2JqZWN0W2tleV0gPSBudWxsO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIG5vIGdldHRlciBmb3Igb2JqZWN0XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBkZWxldGUgb2JqZWN0W2tleV07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc29tZXRoaW5nIGdvdCB3cm9uZ1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBuZXh0VGljayhjYWxsYmFjaywgZGVsYXkpIHtcbiAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICBkZWxheSA9IDA7XG4gIH1cbiAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbn1cbmZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIERhdGUubm93KCk7XG59XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgc3R5bGU7XG4gIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICB9XG4gIGlmICghc3R5bGUgJiYgZWwuY3VycmVudFN0eWxlKSB7XG4gICAgc3R5bGUgPSBlbC5jdXJyZW50U3R5bGU7XG4gIH1cbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gZWwuc3R5bGU7XG4gIH1cbiAgcmV0dXJuIHN0eWxlO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlKGVsLCBheGlzKSB7XG4gIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICBheGlzID0gJ3gnO1xuICB9XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgbWF0cml4O1xuICBsZXQgY3VyVHJhbnNmb3JtO1xuICBsZXQgdHJhbnNmb3JtTWF0cml4O1xuICBjb25zdCBjdXJTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpO1xuICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkge1xuICAgIGN1clRyYW5zZm9ybSA9IGN1clN0eWxlLnRyYW5zZm9ybSB8fCBjdXJTdHlsZS53ZWJraXRUcmFuc2Zvcm07XG4gICAgaWYgKGN1clRyYW5zZm9ybS5zcGxpdCgnLCcpLmxlbmd0aCA+IDYpIHtcbiAgICAgIGN1clRyYW5zZm9ybSA9IGN1clRyYW5zZm9ybS5zcGxpdCgnLCAnKS5tYXAoYSA9PiBhLnJlcGxhY2UoJywnLCAnLicpKS5qb2luKCcsICcpO1xuICAgIH1cbiAgICAvLyBTb21lIG9sZCB2ZXJzaW9ucyBvZiBXZWJraXQgY2hva2Ugd2hlbiAnbm9uZScgaXMgcGFzc2VkOyBwYXNzXG4gICAgLy8gZW1wdHkgc3RyaW5nIGluc3RlYWQgaW4gdGhpcyBjYXNlXG4gICAgdHJhbnNmb3JtTWF0cml4ID0gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoY3VyVHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IGN1clRyYW5zZm9ybSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNmb3JtTWF0cml4ID0gY3VyU3R5bGUuTW96VHJhbnNmb3JtIHx8IGN1clN0eWxlLk9UcmFuc2Zvcm0gfHwgY3VyU3R5bGUuTXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUubXNUcmFuc2Zvcm0gfHwgY3VyU3R5bGUudHJhbnNmb3JtIHx8IGN1clN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpLnJlcGxhY2UoJ3RyYW5zbGF0ZSgnLCAnbWF0cml4KDEsIDAsIDAsIDEsJyk7XG4gICAgbWF0cml4ID0gdHJhbnNmb3JtTWF0cml4LnRvU3RyaW5nKCkuc3BsaXQoJywnKTtcbiAgfVxuICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgLy8gTGF0ZXN0IENocm9tZSBhbmQgd2Via2l0cyBGaXhcbiAgICBpZiAod2luZG93LldlYktpdENTU01hdHJpeCkgY3VyVHJhbnNmb3JtID0gdHJhbnNmb3JtTWF0cml4Lm00MTtcbiAgICAvLyBDcmF6eSBJRTEwIE1hdHJpeFxuICAgIGVsc2UgaWYgKG1hdHJpeC5sZW5ndGggPT09IDE2KSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFsxMl0pO1xuICAgIC8vIE5vcm1hbCBCcm93c2Vyc1xuICAgIGVsc2UgY3VyVHJhbnNmb3JtID0gcGFyc2VGbG9hdChtYXRyaXhbNF0pO1xuICB9XG4gIGlmIChheGlzID09PSAneScpIHtcbiAgICAvLyBMYXRlc3QgQ2hyb21lIGFuZCB3ZWJraXRzIEZpeFxuICAgIGlmICh3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KSBjdXJUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1NYXRyaXgubTQyO1xuICAgIC8vIENyYXp5IElFMTAgTWF0cml4XG4gICAgZWxzZSBpZiAobWF0cml4Lmxlbmd0aCA9PT0gMTYpIGN1clRyYW5zZm9ybSA9IHBhcnNlRmxvYXQobWF0cml4WzEzXSk7XG4gICAgLy8gTm9ybWFsIEJyb3dzZXJzXG4gICAgZWxzZSBjdXJUcmFuc2Zvcm0gPSBwYXJzZUZsb2F0KG1hdHJpeFs1XSk7XG4gIH1cbiAgcmV0dXJuIGN1clRyYW5zZm9ybSB8fCAwO1xufVxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG8gIT09IG51bGwgJiYgby5jb25zdHJ1Y3RvciAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpID09PSAnT2JqZWN0Jztcbn1cbmZ1bmN0aW9uIGlzTm9kZShub2RlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5IVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9XG4gIHJldHVybiBub2RlICYmIChub2RlLm5vZGVUeXBlID09PSAxIHx8IG5vZGUubm9kZVR5cGUgPT09IDExKTtcbn1cbmZ1bmN0aW9uIGV4dGVuZCgpIHtcbiAgY29uc3QgdG8gPSBPYmplY3QoYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdKTtcbiAgY29uc3Qgbm9FeHRlbmQgPSBbJ19fcHJvdG9fXycsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBuZXh0U291cmNlID0gaSA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBpID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2ldO1xuICAgIGlmIChuZXh0U291cmNlICE9PSB1bmRlZmluZWQgJiYgbmV4dFNvdXJjZSAhPT0gbnVsbCAmJiAhaXNOb2RlKG5leHRTb3VyY2UpKSB7XG4gICAgICBjb25zdCBrZXlzQXJyYXkgPSBPYmplY3Qua2V5cyhPYmplY3QobmV4dFNvdXJjZSkpLmZpbHRlcihrZXkgPT4gbm9FeHRlbmQuaW5kZXhPZihrZXkpIDwgMCk7XG4gICAgICBmb3IgKGxldCBuZXh0SW5kZXggPSAwLCBsZW4gPSBrZXlzQXJyYXkubGVuZ3RoOyBuZXh0SW5kZXggPCBsZW47IG5leHRJbmRleCArPSAxKSB7XG4gICAgICAgIGNvbnN0IG5leHRLZXkgPSBrZXlzQXJyYXlbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmV4dFNvdXJjZSwgbmV4dEtleSk7XG4gICAgICAgIGlmIChkZXNjICE9PSB1bmRlZmluZWQgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2VbbmV4dEtleV0uX19zd2lwZXJfXykge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHRlbmQodG9bbmV4dEtleV0sIG5leHRTb3VyY2VbbmV4dEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0KHRvW25leHRLZXldKSAmJiBpc09iamVjdChuZXh0U291cmNlW25leHRLZXldKSkge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSB7fTtcbiAgICAgICAgICAgIGlmIChuZXh0U291cmNlW25leHRLZXldLl9fc3dpcGVyX18pIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXh0ZW5kKHRvW25leHRLZXldLCBuZXh0U291cmNlW25leHRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdG87XG59XG5mdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eShlbCwgdmFyTmFtZSwgdmFyVmFsdWUpIHtcbiAgZWwuc3R5bGUuc2V0UHJvcGVydHkodmFyTmFtZSwgdmFyVmFsdWUpO1xufVxuZnVuY3Rpb24gYW5pbWF0ZUNTU01vZGVTY3JvbGwoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICB0YXJnZXRQb3NpdGlvbixcbiAgICBzaWRlXG4gIH0gPSBfcmVmO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IC1zd2lwZXIudHJhbnNsYXRlO1xuICBsZXQgc3RhcnRUaW1lID0gbnVsbDtcbiAgbGV0IHRpbWU7XG4gIGNvbnN0IGR1cmF0aW9uID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZSA9ICdub25lJztcbiAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHN3aXBlci5jc3NNb2RlRnJhbWVJRCk7XG4gIGNvbnN0IGRpciA9IHRhcmdldFBvc2l0aW9uID4gc3RhcnRQb3NpdGlvbiA/ICduZXh0JyA6ICdwcmV2JztcbiAgY29uc3QgaXNPdXRPZkJvdW5kID0gKGN1cnJlbnQsIHRhcmdldCkgPT4ge1xuICAgIHJldHVybiBkaXIgPT09ICduZXh0JyAmJiBjdXJyZW50ID49IHRhcmdldCB8fCBkaXIgPT09ICdwcmV2JyAmJiBjdXJyZW50IDw9IHRhcmdldDtcbiAgfTtcbiAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKHN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgc3RhcnRUaW1lID0gdGltZTtcbiAgICB9XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbiwgMSksIDApO1xuICAgIGNvbnN0IGVhc2VQcm9ncmVzcyA9IDAuNSAtIE1hdGguY29zKHByb2dyZXNzICogTWF0aC5QSSkgLyAyO1xuICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uICsgZWFzZVByb2dyZXNzICogKHRhcmdldFBvc2l0aW9uIC0gc3RhcnRQb3NpdGlvbik7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZChjdXJyZW50UG9zaXRpb24sIHRhcmdldFBvc2l0aW9uKSkge1xuICAgICAgY3VycmVudFBvc2l0aW9uID0gdGFyZ2V0UG9zaXRpb247XG4gICAgfVxuICAgIHN3aXBlci53cmFwcGVyRWwuc2Nyb2xsVG8oe1xuICAgICAgW3NpZGVdOiBjdXJyZW50UG9zaXRpb25cbiAgICB9KTtcbiAgICBpZiAoaXNPdXRPZkJvdW5kKGN1cnJlbnRQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pKSB7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlID0gJyc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgICBbc2lkZV06IGN1cnJlbnRQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHN3aXBlci5jc3NNb2RlRnJhbWVJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXBlci5jc3NNb2RlRnJhbWVJRCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIH07XG4gIGFuaW1hdGUoKTtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCkge1xuICByZXR1cm4gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybScpIHx8IHNsaWRlRWwuc2hhZG93Um9vdCAmJiBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnN3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSB8fCBzbGlkZUVsO1xufVxuZnVuY3Rpb24gZWxlbWVudENoaWxkcmVuKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIGlmIChzZWxlY3RvciA9PT0gdm9pZCAwKSB7XG4gICAgc2VsZWN0b3IgPSAnJztcbiAgfVxuICByZXR1cm4gWy4uLmVsZW1lbnQuY2hpbGRyZW5dLmZpbHRlcihlbCA9PiBlbC5tYXRjaGVzKHNlbGVjdG9yKSk7XG59XG5mdW5jdGlvbiBzaG93V2FybmluZyh0ZXh0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS53YXJuKHRleHQpO1xuICAgIHJldHVybjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gZXJyXG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gW107XG4gIH1cbiAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoLi4uKEFycmF5LmlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlc1RvVG9rZW5zKGNsYXNzZXMpKSk7XG4gIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRPZmZzZXQoZWwpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICBjb25zdCBjbGllbnRUb3AgPSBlbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgY29uc3QgY2xpZW50TGVmdCA9IGVsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gIGNvbnN0IHNjcm9sbFRvcCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWSA6IGVsLnNjcm9sbFRvcDtcbiAgY29uc3Qgc2Nyb2xsTGVmdCA9IGVsID09PSB3aW5kb3cgPyB3aW5kb3cuc2Nyb2xsWCA6IGVsLnNjcm9sbExlZnQ7XG4gIHJldHVybiB7XG4gICAgdG9wOiBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wLFxuICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIGNsaWVudExlZnRcbiAgfTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRQcmV2QWxsKGVsLCBzZWxlY3Rvcikge1xuICBjb25zdCBwcmV2RWxzID0gW107XG4gIHdoaWxlIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgcHJldiA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChwcmV2Lm1hdGNoZXMoc2VsZWN0b3IpKSBwcmV2RWxzLnB1c2gocHJldik7XG4gICAgfSBlbHNlIHByZXZFbHMucHVzaChwcmV2KTtcbiAgICBlbCA9IHByZXY7XG4gIH1cbiAgcmV0dXJuIHByZXZFbHM7XG59XG5mdW5jdGlvbiBlbGVtZW50TmV4dEFsbChlbCwgc2VsZWN0b3IpIHtcbiAgY29uc3QgbmV4dEVscyA9IFtdO1xuICB3aGlsZSAoZWwubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgY29uc3QgbmV4dCA9IGVsLm5leHRFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKG5leHQubWF0Y2hlcyhzZWxlY3RvcikpIG5leHRFbHMucHVzaChuZXh0KTtcbiAgICB9IGVsc2UgbmV4dEVscy5wdXNoKG5leHQpO1xuICAgIGVsID0gbmV4dDtcbiAgfVxuICByZXR1cm4gbmV4dEVscztcbn1cbmZ1bmN0aW9uIGVsZW1lbnRTdHlsZShlbCwgcHJvcCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApO1xufVxuZnVuY3Rpb24gZWxlbWVudEluZGV4KGVsKSB7XG4gIGxldCBjaGlsZCA9IGVsO1xuICBsZXQgaTtcbiAgaWYgKGNoaWxkKSB7XG4gICAgaSA9IDA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZykgIT09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgaSArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZWxlbWVudFBhcmVudHMoZWwsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAocGFyZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBwYXJlbnRzO1xufVxuZnVuY3Rpb24gZWxlbWVudFRyYW5zaXRpb25FbmQoZWwsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuICAgIGNhbGxiYWNrLmNhbGwoZWwsIGUpO1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG59XG5mdW5jdGlvbiBlbGVtZW50T3V0ZXJTaXplKGVsLCBzaXplLCBpbmNsdWRlTWFyZ2lucykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgcmV0dXJuIGVsW3NpemUgPT09ICd3aWR0aCcgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCddICsgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzaXplID09PSAnd2lkdGgnID8gJ21hcmdpbi1yaWdodCcgOiAnbWFyZ2luLXRvcCcpKSArIHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoc2l6ZSA9PT0gJ3dpZHRoJyA/ICdtYXJnaW4tbGVmdCcgOiAnbWFyZ2luLWJvdHRvbScpKTtcbiAgfVxuICByZXR1cm4gZWwub2Zmc2V0V2lkdGg7XG59XG5mdW5jdGlvbiBtYWtlRWxlbWVudHNBcnJheShlbCkge1xuICByZXR1cm4gKEFycmF5LmlzQXJyYXkoZWwpID8gZWwgOiBbZWxdKS5maWx0ZXIoZSA9PiAhIWUpO1xufVxuXG5leHBvcnQgeyBlbGVtZW50UGFyZW50cyBhcyBhLCBlbGVtZW50T2Zmc2V0IGFzIGIsIGNyZWF0ZUVsZW1lbnQgYXMgYywgbm93IGFzIGQsIGVsZW1lbnRDaGlsZHJlbiBhcyBlLCBlbGVtZW50T3V0ZXJTaXplIGFzIGYsIGdldFNsaWRlVHJhbnNmb3JtRWwgYXMgZywgZWxlbWVudEluZGV4IGFzIGgsIGNsYXNzZXNUb1Rva2VucyBhcyBpLCBnZXRUcmFuc2xhdGUgYXMgaiwgZWxlbWVudFRyYW5zaXRpb25FbmQgYXMgaywgaXNPYmplY3QgYXMgbCwgbWFrZUVsZW1lbnRzQXJyYXkgYXMgbSwgbmV4dFRpY2sgYXMgbiwgZWxlbWVudFN0eWxlIGFzIG8sIGVsZW1lbnROZXh0QWxsIGFzIHAsIGVsZW1lbnRQcmV2QWxsIGFzIHEsIGFuaW1hdGVDU1NNb2RlU2Nyb2xsIGFzIHIsIHNldENTU1Byb3BlcnR5IGFzIHMsIHNob3dXYXJuaW5nIGFzIHQsIGV4dGVuZCBhcyB1LCBkZWxldGVQcm9wcyBhcyB2IH07XG4iLCJpbXBvcnQgeyBhIGFzIGdldFdpbmRvdywgZyBhcyBnZXREb2N1bWVudCB9IGZyb20gJy4vc3NyLXdpbmRvdy5lc20ubWpzJztcbmltcG9ydCB7IGEgYXMgZWxlbWVudFBhcmVudHMsIG8gYXMgZWxlbWVudFN0eWxlLCBlIGFzIGVsZW1lbnRDaGlsZHJlbiwgcyBhcyBzZXRDU1NQcm9wZXJ0eSwgZiBhcyBlbGVtZW50T3V0ZXJTaXplLCBwIGFzIGVsZW1lbnROZXh0QWxsLCBxIGFzIGVsZW1lbnRQcmV2QWxsLCBqIGFzIGdldFRyYW5zbGF0ZSwgciBhcyBhbmltYXRlQ1NTTW9kZVNjcm9sbCwgbiBhcyBuZXh0VGljaywgdCBhcyBzaG93V2FybmluZywgYyBhcyBjcmVhdGVFbGVtZW50LCBkIGFzIG5vdywgdSBhcyBleHRlbmQsIGggYXMgZWxlbWVudEluZGV4LCB2IGFzIGRlbGV0ZVByb3BzIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5sZXQgc3VwcG9ydDtcbmZ1bmN0aW9uIGNhbGNTdXBwb3J0KCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICByZXR1cm4ge1xuICAgIHNtb290aFNjcm9sbDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiAnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICB0b3VjaDogISEoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdXBwb3J0KCkge1xuICBpZiAoIXN1cHBvcnQpIHtcbiAgICBzdXBwb3J0ID0gY2FsY1N1cHBvcnQoKTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydDtcbn1cblxubGV0IGRldmljZUNhY2hlZDtcbmZ1bmN0aW9uIGNhbGNEZXZpY2UoX3RlbXApIHtcbiAgbGV0IHtcbiAgICB1c2VyQWdlbnRcbiAgfSA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wO1xuICBjb25zdCBzdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgcGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtO1xuICBjb25zdCB1YSA9IHVzZXJBZ2VudCB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgY29uc3QgZGV2aWNlID0ge1xuICAgIGlvczogZmFsc2UsXG4gICAgYW5kcm9pZDogZmFsc2VcbiAgfTtcbiAgY29uc3Qgc2NyZWVuV2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICBjb25zdCBzY3JlZW5IZWlnaHQgPSB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgY29uc3QgYW5kcm9pZCA9IHVhLm1hdGNoKC8oQW5kcm9pZCk7P1tcXHNcXC9dKyhbXFxkLl0rKT8vKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBsZXQgaXBhZCA9IHVhLm1hdGNoKC8oaVBhZCkuKk9TXFxzKFtcXGRfXSspLyk7XG4gIGNvbnN0IGlwb2QgPSB1YS5tYXRjaCgvKGlQb2QpKC4qT1NcXHMoW1xcZF9dKykpPy8pO1xuICBjb25zdCBpcGhvbmUgPSAhaXBhZCAmJiB1YS5tYXRjaCgvKGlQaG9uZVxcc09TfGlPUylcXHMoW1xcZF9dKykvKTtcbiAgY29uc3Qgd2luZG93cyA9IHBsYXRmb3JtID09PSAnV2luMzInO1xuICBsZXQgbWFjb3MgPSBwbGF0Zm9ybSA9PT0gJ01hY0ludGVsJztcblxuICAvLyBpUGFkT3MgMTMgZml4XG4gIGNvbnN0IGlQYWRTY3JlZW5zID0gWycxMDI0eDEzNjYnLCAnMTM2NngxMDI0JywgJzgzNHgxMTk0JywgJzExOTR4ODM0JywgJzgzNHgxMTEyJywgJzExMTJ4ODM0JywgJzc2OHgxMDI0JywgJzEwMjR4NzY4JywgJzgyMHgxMTgwJywgJzExODB4ODIwJywgJzgxMHgxMDgwJywgJzEwODB4ODEwJ107XG4gIGlmICghaXBhZCAmJiBtYWNvcyAmJiBzdXBwb3J0LnRvdWNoICYmIGlQYWRTY3JlZW5zLmluZGV4T2YoYCR7c2NyZWVuV2lkdGh9eCR7c2NyZWVuSGVpZ2h0fWApID49IDApIHtcbiAgICBpcGFkID0gdWEubWF0Y2goLyhWZXJzaW9uKVxcLyhbXFxkLl0rKS8pO1xuICAgIGlmICghaXBhZCkgaXBhZCA9IFswLCAxLCAnMTNfMF8wJ107XG4gICAgbWFjb3MgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIEFuZHJvaWRcbiAgaWYgKGFuZHJvaWQgJiYgIXdpbmRvd3MpIHtcbiAgICBkZXZpY2Uub3MgPSAnYW5kcm9pZCc7XG4gICAgZGV2aWNlLmFuZHJvaWQgPSB0cnVlO1xuICB9XG4gIGlmIChpcGFkIHx8IGlwaG9uZSB8fCBpcG9kKSB7XG4gICAgZGV2aWNlLm9zID0gJ2lvcyc7XG4gICAgZGV2aWNlLmlvcyA9IHRydWU7XG4gIH1cblxuICAvLyBFeHBvcnQgb2JqZWN0XG4gIHJldHVybiBkZXZpY2U7XG59XG5mdW5jdGlvbiBnZXREZXZpY2Uob3ZlcnJpZGVzKSB7XG4gIGlmIChvdmVycmlkZXMgPT09IHZvaWQgMCkge1xuICAgIG92ZXJyaWRlcyA9IHt9O1xuICB9XG4gIGlmICghZGV2aWNlQ2FjaGVkKSB7XG4gICAgZGV2aWNlQ2FjaGVkID0gY2FsY0RldmljZShvdmVycmlkZXMpO1xuICB9XG4gIHJldHVybiBkZXZpY2VDYWNoZWQ7XG59XG5cbmxldCBicm93c2VyO1xuZnVuY3Rpb24gY2FsY0Jyb3dzZXIoKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBjb25zdCBkZXZpY2UgPSBnZXREZXZpY2UoKTtcbiAgbGV0IG5lZWRQZXJzcGVjdGl2ZUZpeCA9IGZhbHNlO1xuICBmdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgICBjb25zdCB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHVhLmluZGV4T2YoJ3NhZmFyaScpID49IDAgJiYgdWEuaW5kZXhPZignY2hyb21lJykgPCAwICYmIHVhLmluZGV4T2YoJ2FuZHJvaWQnKSA8IDA7XG4gIH1cbiAgaWYgKGlzU2FmYXJpKCkpIHtcbiAgICBjb25zdCB1YSA9IFN0cmluZyh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKHVhLmluY2x1ZGVzKCdWZXJzaW9uLycpKSB7XG4gICAgICBjb25zdCBbbWFqb3IsIG1pbm9yXSA9IHVhLnNwbGl0KCdWZXJzaW9uLycpWzFdLnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKS5tYXAobnVtID0+IE51bWJlcihudW0pKTtcbiAgICAgIG5lZWRQZXJzcGVjdGl2ZUZpeCA9IG1ham9yIDwgMTYgfHwgbWFqb3IgPT09IDE2ICYmIG1pbm9yIDwgMjtcbiAgICB9XG4gIH1cbiAgY29uc3QgaXNXZWJWaWV3ID0gLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgY29uc3QgaXNTYWZhcmlCcm93c2VyID0gaXNTYWZhcmkoKTtcbiAgY29uc3QgbmVlZDNkRml4ID0gaXNTYWZhcmlCcm93c2VyIHx8IGlzV2ViVmlldyAmJiBkZXZpY2UuaW9zO1xuICByZXR1cm4ge1xuICAgIGlzU2FmYXJpOiBuZWVkUGVyc3BlY3RpdmVGaXggfHwgaXNTYWZhcmlCcm93c2VyLFxuICAgIG5lZWRQZXJzcGVjdGl2ZUZpeCxcbiAgICBuZWVkM2RGaXgsXG4gICAgaXNXZWJWaWV3XG4gIH07XG59XG5mdW5jdGlvbiBnZXRCcm93c2VyKCkge1xuICBpZiAoIWJyb3dzZXIpIHtcbiAgICBicm93c2VyID0gY2FsY0Jyb3dzZXIoKTtcbiAgfVxuICByZXR1cm4gYnJvd3Nlcjtcbn1cblxuZnVuY3Rpb24gUmVzaXplKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBvYnNlcnZlciA9IG51bGw7XG4gIGxldCBhbmltYXRpb25GcmFtZSA9IG51bGw7XG4gIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCAhc3dpcGVyLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgZW1pdCgnYmVmb3JlUmVzaXplJyk7XG4gICAgZW1pdCgncmVzaXplJyk7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodFxuICAgICAgICB9ID0gc3dpcGVyO1xuICAgICAgICBsZXQgbmV3V2lkdGggPSB3aWR0aDtcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKF9yZWYyID0+IHtcbiAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgY29udGVudEJveFNpemUsXG4gICAgICAgICAgICBjb250ZW50UmVjdCxcbiAgICAgICAgICAgIHRhcmdldFxuICAgICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldCAhPT0gc3dpcGVyLmVsKSByZXR1cm47XG4gICAgICAgICAgbmV3V2lkdGggPSBjb250ZW50UmVjdCA/IGNvbnRlbnRSZWN0LndpZHRoIDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5pbmxpbmVTaXplO1xuICAgICAgICAgIG5ld0hlaWdodCA9IGNvbnRlbnRSZWN0ID8gY29udGVudFJlY3QuaGVpZ2h0IDogKGNvbnRlbnRCb3hTaXplWzBdIHx8IGNvbnRlbnRCb3hTaXplKS5ibG9ja1NpemU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobmV3V2lkdGggIT09IHdpZHRoIHx8IG5ld0hlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgICAgcmVzaXplSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHN3aXBlci5lbCk7XG4gIH07XG4gIGNvbnN0IHJlbW92ZU9ic2VydmVyID0gKCkgPT4ge1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lKTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmVyICYmIG9ic2VydmVyLnVub2JzZXJ2ZSAmJiBzd2lwZXIuZWwpIHtcbiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShzd2lwZXIuZWwpO1xuICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQgfHwgIXN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgIGVtaXQoJ29yaWVudGF0aW9uY2hhbmdlJyk7XG4gIH07XG4gIG9uKCdpbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnJlc2l6ZU9ic2VydmVyICYmIHR5cGVvZiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjcmVhdGVPYnNlcnZlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgb3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIHJlbW92ZU9ic2VydmVyKCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBPYnNlcnZlcihfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvbixcbiAgICBlbWl0XG4gIH0gPSBfcmVmO1xuICBjb25zdCBvYnNlcnZlcnMgPSBbXTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGF0dGFjaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGNvbnN0IE9ic2VydmVyRnVuYyA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJraXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyRnVuYyhtdXRhdGlvbnMgPT4ge1xuICAgICAgLy8gVGhlIG9ic2VydmVyVXBkYXRlIGV2ZW50IHNob3VsZCBvbmx5IGJlIHRyaWdnZXJlZFxuICAgICAgLy8gb25jZSBkZXNwaXRlIHRoZSBudW1iZXIgb2YgbXV0YXRpb25zLiAgQWRkaXRpb25hbFxuICAgICAgLy8gdHJpZ2dlcnMgYXJlIHJlZHVuZGFudCBhbmQgYXJlIHZlcnkgY29zdGx5XG4gICAgICBpZiAoc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18pIHJldHVybjtcbiAgICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVtaXQoJ29ic2VydmVyVXBkYXRlJywgbXV0YXRpb25zWzBdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2JzZXJ2ZXJVcGRhdGUgPSBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZSgpIHtcbiAgICAgICAgZW1pdCgnb2JzZXJ2ZXJVcGRhdGUnLCBtdXRhdGlvbnNbMF0pO1xuICAgICAgfTtcbiAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob2JzZXJ2ZXJVcGRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQob2JzZXJ2ZXJVcGRhdGUsIDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7XG4gICAgICBhdHRyaWJ1dGVzOiB0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmF0dHJpYnV0ZXMsXG4gICAgICBjaGlsZExpc3Q6IHR5cGVvZiBvcHRpb25zLmNoaWxkTGlzdCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5jaGlsZExpc3QsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0eXBlb2Ygb3B0aW9ucy5jaGFyYWN0ZXJEYXRhID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBvcHRpb25zLmNoYXJhY3RlckRhdGFcbiAgICB9KTtcbiAgICBvYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH07XG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgaWYgKCFzd2lwZXIucGFyYW1zLm9ic2VydmVyKSByZXR1cm47XG4gICAgaWYgKHN3aXBlci5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lclBhcmVudHMgPSBlbGVtZW50UGFyZW50cyhzd2lwZXIuaG9zdEVsKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGFpbmVyUGFyZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhdHRhY2goY29udGFpbmVyUGFyZW50c1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9ic2VydmUgY29udGFpbmVyXG4gICAgYXR0YWNoKHN3aXBlci5ob3N0RWwsIHtcbiAgICAgIGNoaWxkTGlzdDogc3dpcGVyLnBhcmFtcy5vYnNlcnZlU2xpZGVDaGlsZHJlblxuICAgIH0pO1xuXG4gICAgLy8gT2JzZXJ2ZSB3cmFwcGVyXG4gICAgYXR0YWNoKHN3aXBlci53cmFwcGVyRWwsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuICAgIG9ic2VydmVycy5zcGxpY2UoMCwgb2JzZXJ2ZXJzLmxlbmd0aCk7XG4gIH07XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgb2JzZXJ2ZXI6IGZhbHNlLFxuICAgIG9ic2VydmVQYXJlbnRzOiBmYWxzZSxcbiAgICBvYnNlcnZlU2xpZGVDaGlsZHJlbjogZmFsc2VcbiAgfSk7XG4gIG9uKCdpbml0JywgaW5pdCk7XG4gIG9uKCdkZXN0cm95JywgZGVzdHJveSk7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG5cbnZhciBldmVudHNFbWl0dGVyID0ge1xuICBvbihldmVudHMsIGhhbmRsZXIsIHByaW9yaXR5KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBtZXRob2QgPSBwcmlvcml0eSA/ICd1bnNoaWZ0JyA6ICdwdXNoJztcbiAgICBldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdKSBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0gPSBbXTtcbiAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XVttZXRob2RdKGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvbmNlKGV2ZW50cywgaGFuZGxlciwgcHJpb3JpdHkpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHJldHVybiBzZWxmO1xuICAgIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xuICAgICAgc2VsZi5vZmYoZXZlbnRzLCBvbmNlSGFuZGxlcik7XG4gICAgICBpZiAob25jZUhhbmRsZXIuX19lbWl0dGVyUHJveHkpIHtcbiAgICAgICAgZGVsZXRlIG9uY2VIYW5kbGVyLl9fZW1pdHRlclByb3h5O1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cbiAgICBvbmNlSGFuZGxlci5fX2VtaXR0ZXJQcm94eSA9IGhhbmRsZXI7XG4gICAgcmV0dXJuIHNlbGYub24oZXZlbnRzLCBvbmNlSGFuZGxlciwgcHJpb3JpdHkpO1xuICB9LFxuICBvbkFueShoYW5kbGVyLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5ldmVudHNMaXN0ZW5lcnMgfHwgc2VsZi5kZXN0cm95ZWQpIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHNlbGY7XG4gICAgY29uc3QgbWV0aG9kID0gcHJpb3JpdHkgPyAndW5zaGlmdCcgOiAncHVzaCc7XG4gICAgaWYgKHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcikgPCAwKSB7XG4gICAgICBzZWxmLmV2ZW50c0FueUxpc3RlbmVyc1ttZXRob2RdKGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZjtcbiAgfSxcbiAgb2ZmQW55KGhhbmRsZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuZXZlbnRzTGlzdGVuZXJzIHx8IHNlbGYuZGVzdHJveWVkKSByZXR1cm4gc2VsZjtcbiAgICBpZiAoIXNlbGYuZXZlbnRzQW55TGlzdGVuZXJzKSByZXR1cm4gc2VsZjtcbiAgICBjb25zdCBpbmRleCA9IHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuICBvZmYoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgc2VsZi5ldmVudHNMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goKGV2ZW50SGFuZGxlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyID09PSBoYW5kbGVyIHx8IGV2ZW50SGFuZGxlci5fX2VtaXR0ZXJQcm94eSAmJiBldmVudEhhbmRsZXIuX19lbWl0dGVyUHJveHkgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG4gIGVtaXQoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycyB8fCBzZWxmLmRlc3Ryb3llZCkgcmV0dXJuIHNlbGY7XG4gICAgaWYgKCFzZWxmLmV2ZW50c0xpc3RlbmVycykgcmV0dXJuIHNlbGY7XG4gICAgbGV0IGV2ZW50cztcbiAgICBsZXQgZGF0YTtcbiAgICBsZXQgY29udGV4dDtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICBldmVudHMgPSBhcmdzWzBdO1xuICAgICAgZGF0YSA9IGFyZ3Muc2xpY2UoMSwgYXJncy5sZW5ndGgpO1xuICAgICAgY29udGV4dCA9IHNlbGY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50cyA9IGFyZ3NbMF0uZXZlbnRzO1xuICAgICAgZGF0YSA9IGFyZ3NbMF0uZGF0YTtcbiAgICAgIGNvbnRleHQgPSBhcmdzWzBdLmNvbnRleHQgfHwgc2VsZjtcbiAgICB9XG4gICAgZGF0YS51bnNoaWZ0KGNvbnRleHQpO1xuICAgIGNvbnN0IGV2ZW50c0FycmF5ID0gQXJyYXkuaXNBcnJheShldmVudHMpID8gZXZlbnRzIDogZXZlbnRzLnNwbGl0KCcgJyk7XG4gICAgZXZlbnRzQXJyYXkuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMgJiYgc2VsZi5ldmVudHNBbnlMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuZXZlbnRzQW55TGlzdGVuZXJzLmZvckVhY2goZXZlbnRIYW5kbGVyID0+IHtcbiAgICAgICAgICBldmVudEhhbmRsZXIuYXBwbHkoY29udGV4dCwgW2V2ZW50LCAuLi5kYXRhXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGYuZXZlbnRzTGlzdGVuZXJzICYmIHNlbGYuZXZlbnRzTGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBzZWxmLmV2ZW50c0xpc3RlbmVyc1tldmVudF0uZm9yRWFjaChldmVudEhhbmRsZXIgPT4ge1xuICAgICAgICAgIGV2ZW50SGFuZGxlci5hcHBseShjb250ZXh0LCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZVNpemUoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCB3aWR0aDtcbiAgbGV0IGhlaWdodDtcbiAgY29uc3QgZWwgPSBzd2lwZXIuZWw7XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3dpcGVyLnBhcmFtcy53aWR0aCAhPT0gbnVsbCkge1xuICAgIHdpZHRoID0gc3dpcGVyLnBhcmFtcy53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICB3aWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuICB9XG4gIGlmICh0eXBlb2Ygc3dpcGVyLnBhcmFtcy5oZWlnaHQgIT09ICd1bmRlZmluZWQnICYmIHN3aXBlci5wYXJhbXMuaGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgaGVpZ2h0ID0gc3dpcGVyLnBhcmFtcy5oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgaGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuICB9XG4gIGlmICh3aWR0aCA9PT0gMCAmJiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgfHwgaGVpZ2h0ID09PSAwICYmIHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBTdWJ0cmFjdCBwYWRkaW5nc1xuICB3aWR0aCA9IHdpZHRoIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1sZWZ0JykgfHwgMCwgMTApIC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy1yaWdodCcpIHx8IDAsIDEwKTtcbiAgaGVpZ2h0ID0gaGVpZ2h0IC0gcGFyc2VJbnQoZWxlbWVudFN0eWxlKGVsLCAncGFkZGluZy10b3AnKSB8fCAwLCAxMCkgLSBwYXJzZUludChlbGVtZW50U3R5bGUoZWwsICdwYWRkaW5nLWJvdHRvbScpIHx8IDAsIDEwKTtcbiAgaWYgKE51bWJlci5pc05hTih3aWR0aCkpIHdpZHRoID0gMDtcbiAgaWYgKE51bWJlci5pc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBzaXplOiBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB3aWR0aCA6IGhlaWdodFxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2xpZGVzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBmdW5jdGlvbiBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKG5vZGUsIGxhYmVsKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQobm9kZS5nZXRQcm9wZXJ0eVZhbHVlKHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbChsYWJlbCkpIHx8IDApO1xuICB9XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICB3cmFwcGVyRWwsXG4gICAgc2xpZGVzRWwsXG4gICAgc2l6ZTogc3dpcGVyU2l6ZSxcbiAgICBydGxUcmFuc2xhdGU6IHJ0bCxcbiAgICB3cm9uZ1JUTFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzd2lwZXIuc2xpZGVzLmxlbmd0aDtcbiAgY29uc3Qgc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIGNvbnN0IHNsaWRlc0xlbmd0aCA9IGlzVmlydHVhbCA/IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBzbGlkZXMubGVuZ3RoO1xuICBsZXQgc25hcEdyaWQgPSBbXTtcbiAgY29uc3Qgc2xpZGVzR3JpZCA9IFtdO1xuICBjb25zdCBzbGlkZXNTaXplc0dyaWQgPSBbXTtcbiAgbGV0IG9mZnNldEJlZm9yZSA9IHBhcmFtcy5zbGlkZXNPZmZzZXRCZWZvcmU7XG4gIGlmICh0eXBlb2Ygb2Zmc2V0QmVmb3JlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QmVmb3JlID0gcGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZS5jYWxsKHN3aXBlcik7XG4gIH1cbiAgbGV0IG9mZnNldEFmdGVyID0gcGFyYW1zLnNsaWRlc09mZnNldEFmdGVyO1xuICBpZiAodHlwZW9mIG9mZnNldEFmdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2Zmc2V0QWZ0ZXIgPSBwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIuY2FsbChzd2lwZXIpO1xuICB9XG4gIGNvbnN0IHByZXZpb3VzU25hcEdyaWRMZW5ndGggPSBzd2lwZXIuc25hcEdyaWQubGVuZ3RoO1xuICBjb25zdCBwcmV2aW91c1NsaWRlc0dyaWRMZW5ndGggPSBzd2lwZXIuc2xpZGVzR3JpZC5sZW5ndGg7XG4gIGxldCBzcGFjZUJldHdlZW4gPSBwYXJhbXMuc3BhY2VCZXR3ZWVuO1xuICBsZXQgc2xpZGVQb3NpdGlvbiA9IC1vZmZzZXRCZWZvcmU7XG4gIGxldCBwcmV2U2xpZGVTaXplID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcbiAgaWYgKHR5cGVvZiBzd2lwZXJTaXplID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycgJiYgc3BhY2VCZXR3ZWVuLmluZGV4T2YoJyUnKSA+PSAwKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4ucmVwbGFjZSgnJScsICcnKSkgLyAxMDAgKiBzd2lwZXJTaXplO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChzcGFjZUJldHdlZW4pO1xuICB9XG4gIHN3aXBlci52aXJ0dWFsU2l6ZSA9IC1zcGFjZUJldHdlZW47XG5cbiAgLy8gcmVzZXQgbWFyZ2luc1xuICBzbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBpZiAocnRsKSB7XG4gICAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkxlZnQgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVFbC5zdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xuICAgIH1cbiAgICBzbGlkZUVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcnO1xuICAgIHNsaWRlRWwuc3R5bGUubWFyZ2luVG9wID0gJyc7XG4gIH0pO1xuXG4gIC8vIHJlc2V0IGNzc01vZGUgb2Zmc2V0c1xuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZScsICcnKTtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXInLCAnJyk7XG4gIH1cbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBzd2lwZXIuZ3JpZDtcbiAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgc3dpcGVyLmdyaWQuaW5pdFNsaWRlcyhzbGlkZXMpO1xuICB9IGVsc2UgaWYgKHN3aXBlci5ncmlkKSB7XG4gICAgc3dpcGVyLmdyaWQudW5zZXRTbGlkZXMoKTtcbiAgfVxuXG4gIC8vIENhbGMgc2xpZGVzXG4gIGxldCBzbGlkZVNpemU7XG4gIGNvbnN0IHNob3VsZFJlc2V0U2xpZGVTaXplID0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuYnJlYWtwb2ludHMgJiYgT2JqZWN0LmtleXMocGFyYW1zLmJyZWFrcG9pbnRzKS5maWx0ZXIoa2V5ID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIHBhcmFtcy5icmVha3BvaW50c1trZXldLnNsaWRlc1BlclZpZXcgIT09ICd1bmRlZmluZWQnO1xuICB9KS5sZW5ndGggPiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0xlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVTaXplID0gMDtcbiAgICBsZXQgc2xpZGU7XG4gICAgaWYgKHNsaWRlc1tpXSkgc2xpZGUgPSBzbGlkZXNbaV07XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBzd2lwZXIuZ3JpZC51cGRhdGVTbGlkZShpLCBzbGlkZSwgc2xpZGVzKTtcbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSAmJiBlbGVtZW50U3R5bGUoc2xpZGUsICdkaXNwbGF5JykgPT09ICdub25lJykgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAoc2hvdWxkUmVzZXRTbGlkZVNpemUpIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgYDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlU3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSk7XG4gICAgICBjb25zdCBjdXJyZW50VHJhbnNmb3JtID0gc2xpZGUuc3R5bGUudHJhbnNmb3JtO1xuICAgICAgY29uc3QgY3VycmVudFdlYktpdFRyYW5zZm9ybSA9IHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybTtcbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50V2ViS2l0VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSB7XG4gICAgICAgIHNsaWRlU2l6ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGVsZW1lbnRPdXRlclNpemUoc2xpZGUsICd3aWR0aCcsIHRydWUpIDogZWxlbWVudE91dGVyU2l6ZShzbGlkZSwgJ2hlaWdodCcsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3dpZHRoJyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ3BhZGRpbmctbGVmdCcpO1xuICAgICAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSBnZXREaXJlY3Rpb25Qcm9wZXJ0eVZhbHVlKHNsaWRlU3R5bGVzLCAncGFkZGluZy1yaWdodCcpO1xuICAgICAgICBjb25zdCBtYXJnaW5MZWZ0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1sZWZ0Jyk7XG4gICAgICAgIGNvbnN0IG1hcmdpblJpZ2h0ID0gZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZShzbGlkZVN0eWxlcywgJ21hcmdpbi1yaWdodCcpO1xuICAgICAgICBjb25zdCBib3hTaXppbmcgPSBzbGlkZVN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdib3gtc2l6aW5nJyk7XG4gICAgICAgIGlmIChib3hTaXppbmcgJiYgYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgICBzbGlkZVNpemUgPSB3aWR0aCArIG1hcmdpbkxlZnQgKyBtYXJnaW5SaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjbGllbnRXaWR0aCxcbiAgICAgICAgICAgIG9mZnNldFdpZHRoXG4gICAgICAgICAgfSA9IHNsaWRlO1xuICAgICAgICAgIHNsaWRlU2l6ZSA9IHdpZHRoICsgcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQgKyBtYXJnaW5MZWZ0ICsgbWFyZ2luUmlnaHQgKyAob2Zmc2V0V2lkdGggLSBjbGllbnRXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9IGN1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFdlYktpdFRyYW5zZm9ybSkge1xuICAgICAgICBzbGlkZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBjdXJyZW50V2ViS2l0VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlU2l6ZSA9IE1hdGguZmxvb3Ioc2xpZGVTaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGVTaXplID0gKHN3aXBlclNpemUgLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgLSAxKSAqIHNwYWNlQmV0d2VlbikgLyBwYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVNpemUgPSBNYXRoLmZsb29yKHNsaWRlU2l6ZSk7XG4gICAgICBpZiAoc2xpZGVzW2ldKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZVtzd2lwZXIuZ2V0RGlyZWN0aW9uTGFiZWwoJ3dpZHRoJyldID0gYCR7c2xpZGVTaXplfXB4YDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNsaWRlc1tpXSkge1xuICAgICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZSA9IHNsaWRlU2l6ZTtcbiAgICB9XG4gICAgc2xpZGVzU2l6ZXNHcmlkLnB1c2goc2xpZGVTaXplKTtcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZVBvc2l0aW9uID0gc2xpZGVQb3NpdGlvbiArIHNsaWRlU2l6ZSAvIDIgKyBwcmV2U2xpZGVTaXplIC8gMiArIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChwcmV2U2xpZGVTaXplID09PSAwICYmIGkgIT09IDApIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uIC0gc3dpcGVyU2l6ZSAvIDIgLSBzcGFjZUJldHdlZW47XG4gICAgICBpZiAoaSA9PT0gMCkgc2xpZGVQb3NpdGlvbiA9IHNsaWRlUG9zaXRpb24gLSBzd2lwZXJTaXplIC8gMiAtIHNwYWNlQmV0d2VlbjtcbiAgICAgIGlmIChNYXRoLmFicyhzbGlkZVBvc2l0aW9uKSA8IDEgLyAxMDAwKSBzbGlkZVBvc2l0aW9uID0gMDtcbiAgICAgIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSBzbGlkZVBvc2l0aW9uID0gTWF0aC5mbG9vcihzbGlkZVBvc2l0aW9uKTtcbiAgICAgIGlmIChpbmRleCAlIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmFtcy5yb3VuZExlbmd0aHMpIHNsaWRlUG9zaXRpb24gPSBNYXRoLmZsb29yKHNsaWRlUG9zaXRpb24pO1xuICAgICAgaWYgKChpbmRleCAtIE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCkpICUgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCkgc25hcEdyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlc0dyaWQucHVzaChzbGlkZVBvc2l0aW9uKTtcbiAgICAgIHNsaWRlUG9zaXRpb24gPSBzbGlkZVBvc2l0aW9uICsgc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIH1cbiAgICBzd2lwZXIudmlydHVhbFNpemUgKz0gc2xpZGVTaXplICsgc3BhY2VCZXR3ZWVuO1xuICAgIHByZXZTbGlkZVNpemUgPSBzbGlkZVNpemU7XG4gICAgaW5kZXggKz0gMTtcbiAgfVxuICBzd2lwZXIudmlydHVhbFNpemUgPSBNYXRoLm1heChzd2lwZXIudmlydHVhbFNpemUsIHN3aXBlclNpemUpICsgb2Zmc2V0QWZ0ZXI7XG4gIGlmIChydGwgJiYgd3JvbmdSVEwgJiYgKHBhcmFtcy5lZmZlY3QgPT09ICdzbGlkZScgfHwgcGFyYW1zLmVmZmVjdCA9PT0gJ2NvdmVyZmxvdycpKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlLndpZHRoID0gYCR7c3dpcGVyLnZpcnR1YWxTaXplICsgc3BhY2VCZXR3ZWVufXB4YDtcbiAgfVxuICBpZiAocGFyYW1zLnNldFdyYXBwZXJTaXplKSB7XG4gICAgd3JhcHBlckVsLnN0eWxlW3N3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnd2lkdGgnKV0gPSBgJHtzd2lwZXIudmlydHVhbFNpemUgKyBzcGFjZUJldHdlZW59cHhgO1xuICB9XG4gIGlmIChncmlkRW5hYmxlZCkge1xuICAgIHN3aXBlci5ncmlkLnVwZGF0ZVdyYXBwZXJTaXplKHNsaWRlU2l6ZSwgc25hcEdyaWQpO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGxhc3QgZ3JpZCBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2lkdGhcbiAgaWYgKCFwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICBjb25zdCBuZXdTbGlkZXNHcmlkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmFwR3JpZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IHNsaWRlc0dyaWRJdGVtID0gc25hcEdyaWRbaV07XG4gICAgICBpZiAocGFyYW1zLnJvdW5kTGVuZ3Rocykgc2xpZGVzR3JpZEl0ZW0gPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRJdGVtKTtcbiAgICAgIGlmIChzbmFwR3JpZFtpXSA8PSBzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSB7XG4gICAgICAgIG5ld1NsaWRlc0dyaWQucHVzaChzbGlkZXNHcmlkSXRlbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNuYXBHcmlkID0gbmV3U2xpZGVzR3JpZDtcbiAgICBpZiAoTWF0aC5mbG9vcihzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKSAtIE1hdGguZmxvb3Ioc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0pID4gMSkge1xuICAgICAgc25hcEdyaWQucHVzaChzd2lwZXIudmlydHVhbFNpemUgLSBzd2lwZXJTaXplKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVmlydHVhbCAmJiBwYXJhbXMubG9vcCkge1xuICAgIGNvbnN0IHNpemUgPSBzbGlkZXNTaXplc0dyaWRbMF0gKyBzcGFjZUJldHdlZW47XG4gICAgaWYgKHBhcmFtcy5zbGlkZXNQZXJHcm91cCA+IDEpIHtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IE1hdGguY2VpbCgoc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQWZ0ZXIpIC8gcGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHNpemUgKiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwczsgaSArPSAxKSB7XG4gICAgICAgIHNuYXBHcmlkLnB1c2goc25hcEdyaWRbc25hcEdyaWQubGVuZ3RoIC0gMV0gKyBncm91cFNpemUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0FmdGVyOyBpICs9IDEpIHtcbiAgICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEpIHtcbiAgICAgICAgc25hcEdyaWQucHVzaChzbmFwR3JpZFtzbmFwR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgfVxuICAgICAgc2xpZGVzR3JpZC5wdXNoKHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSArIHNpemUpO1xuICAgICAgc3dpcGVyLnZpcnR1YWxTaXplICs9IHNpemU7XG4gICAgfVxuICB9XG4gIGlmIChzbmFwR3JpZC5sZW5ndGggPT09IDApIHNuYXBHcmlkID0gWzBdO1xuICBpZiAoc3BhY2VCZXR3ZWVuICE9PSAwKSB7XG4gICAgY29uc3Qga2V5ID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpICYmIHJ0bCA/ICdtYXJnaW5MZWZ0JyA6IHN3aXBlci5nZXREaXJlY3Rpb25MYWJlbCgnbWFyZ2luUmlnaHQnKTtcbiAgICBzbGlkZXMuZmlsdGVyKChfLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBpZiAoIXBhcmFtcy5jc3NNb2RlIHx8IHBhcmFtcy5sb29wKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChzbGlkZUluZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KS5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgc2xpZGVFbC5zdHlsZVtrZXldID0gYCR7c3BhY2VCZXR3ZWVufXB4YDtcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jZW50ZXJlZFNsaWRlc0JvdW5kcykge1xuICAgIGxldCBhbGxTbGlkZXNTaXplID0gMDtcbiAgICBzbGlkZXNTaXplc0dyaWQuZm9yRWFjaChzbGlkZVNpemVWYWx1ZSA9PiB7XG4gICAgICBhbGxTbGlkZXNTaXplICs9IHNsaWRlU2l6ZVZhbHVlICsgKHNwYWNlQmV0d2VlbiB8fCAwKTtcbiAgICB9KTtcbiAgICBhbGxTbGlkZXNTaXplIC09IHNwYWNlQmV0d2VlbjtcbiAgICBjb25zdCBtYXhTbmFwID0gYWxsU2xpZGVzU2l6ZSAtIHN3aXBlclNpemU7XG4gICAgc25hcEdyaWQgPSBzbmFwR3JpZC5tYXAoc25hcCA9PiB7XG4gICAgICBpZiAoc25hcCA8PSAwKSByZXR1cm4gLW9mZnNldEJlZm9yZTtcbiAgICAgIGlmIChzbmFwID4gbWF4U25hcCkgcmV0dXJuIG1heFNuYXAgKyBvZmZzZXRBZnRlcjtcbiAgICAgIHJldHVybiBzbmFwO1xuICAgIH0pO1xuICB9XG4gIGlmIChwYXJhbXMuY2VudGVySW5zdWZmaWNpZW50U2xpZGVzKSB7XG4gICAgbGV0IGFsbFNsaWRlc1NpemUgPSAwO1xuICAgIHNsaWRlc1NpemVzR3JpZC5mb3JFYWNoKHNsaWRlU2l6ZVZhbHVlID0+IHtcbiAgICAgIGFsbFNsaWRlc1NpemUgKz0gc2xpZGVTaXplVmFsdWUgKyAoc3BhY2VCZXR3ZWVuIHx8IDApO1xuICAgIH0pO1xuICAgIGFsbFNsaWRlc1NpemUgLT0gc3BhY2VCZXR3ZWVuO1xuICAgIGNvbnN0IG9mZnNldFNpemUgPSAocGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZSB8fCAwKSArIChwYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXIgfHwgMCk7XG4gICAgaWYgKGFsbFNsaWRlc1NpemUgKyBvZmZzZXRTaXplIDwgc3dpcGVyU2l6ZSkge1xuICAgICAgY29uc3QgYWxsU2xpZGVzT2Zmc2V0ID0gKHN3aXBlclNpemUgLSBhbGxTbGlkZXNTaXplIC0gb2Zmc2V0U2l6ZSkgLyAyO1xuICAgICAgc25hcEdyaWQuZm9yRWFjaCgoc25hcCwgc25hcEluZGV4KSA9PiB7XG4gICAgICAgIHNuYXBHcmlkW3NuYXBJbmRleF0gPSBzbmFwIC0gYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBzbGlkZXNHcmlkLmZvckVhY2goKHNuYXAsIHNuYXBJbmRleCkgPT4ge1xuICAgICAgICBzbGlkZXNHcmlkW3NuYXBJbmRleF0gPSBzbmFwICsgYWxsU2xpZGVzT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgc2xpZGVzLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgc2xpZGVzU2l6ZXNHcmlkXG4gIH0pO1xuICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHBhcmFtcy5jc3NNb2RlICYmICFwYXJhbXMuY2VudGVyZWRTbGlkZXNCb3VuZHMpIHtcbiAgICBzZXRDU1NQcm9wZXJ0eSh3cmFwcGVyRWwsICctLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlJywgYCR7LXNuYXBHcmlkWzBdfXB4YCk7XG4gICAgc2V0Q1NTUHJvcGVydHkod3JhcHBlckVsLCAnLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWFmdGVyJywgYCR7c3dpcGVyLnNpemUgLyAyIC0gc2xpZGVzU2l6ZXNHcmlkW3NsaWRlc1NpemVzR3JpZC5sZW5ndGggLSAxXSAvIDJ9cHhgKTtcbiAgICBjb25zdCBhZGRUb1NuYXBHcmlkID0gLXN3aXBlci5zbmFwR3JpZFswXTtcbiAgICBjb25zdCBhZGRUb1NsaWRlc0dyaWQgPSAtc3dpcGVyLnNsaWRlc0dyaWRbMF07XG4gICAgc3dpcGVyLnNuYXBHcmlkID0gc3dpcGVyLnNuYXBHcmlkLm1hcCh2ID0+IHYgKyBhZGRUb1NuYXBHcmlkKTtcbiAgICBzd2lwZXIuc2xpZGVzR3JpZCA9IHN3aXBlci5zbGlkZXNHcmlkLm1hcCh2ID0+IHYgKyBhZGRUb1NsaWRlc0dyaWQpO1xuICB9XG4gIGlmIChzbGlkZXNMZW5ndGggIT09IHByZXZpb3VzU2xpZGVzTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0xlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChzbmFwR3JpZC5sZW5ndGggIT09IHByZXZpb3VzU25hcEdyaWRMZW5ndGgpIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIHN3aXBlci5lbWl0KCdzbmFwR3JpZExlbmd0aENoYW5nZScpO1xuICB9XG4gIGlmIChzbGlkZXNHcmlkLmxlbmd0aCAhPT0gcHJldmlvdXNTbGlkZXNHcmlkTGVuZ3RoKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlc0dyaWRMZW5ndGhDaGFuZ2UnKTtcbiAgfVxuICBpZiAocGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NsaWRlc1VwZGF0ZWQnKTtcbiAgaWYgKCFpc1ZpcnR1YWwgJiYgIXBhcmFtcy5jc3NNb2RlICYmIChwYXJhbXMuZWZmZWN0ID09PSAnc2xpZGUnIHx8IHBhcmFtcy5lZmZlY3QgPT09ICdmYWRlJykpIHtcbiAgICBjb25zdCBiYWNrRmFjZUhpZGRlbkNsYXNzID0gYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9YmFja2ZhY2UtaGlkZGVuYDtcbiAgICBjb25zdCBoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCA9IHN3aXBlci5lbC5jbGFzc0xpc3QuY29udGFpbnMoYmFja0ZhY2VIaWRkZW5DbGFzcyk7XG4gICAgaWYgKHNsaWRlc0xlbmd0aCA8PSBwYXJhbXMubWF4QmFja2ZhY2VIaWRkZW5TbGlkZXMpIHtcbiAgICAgIGlmICghaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQpIHN3aXBlci5lbC5jbGFzc0xpc3QuYWRkKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3NCYWNrZmFjZUNsYXNzQWRkZWQpIHtcbiAgICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGJhY2tGYWNlSGlkZGVuQ2xhc3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVBdXRvSGVpZ2h0KHNwZWVkKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGFjdGl2ZVNsaWRlcyA9IFtdO1xuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgbGV0IG5ld0hlaWdodCA9IDA7XG4gIGxldCBpO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAnbnVtYmVyJykge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHNwZWVkKTtcbiAgfSBlbHNlIGlmIChzcGVlZCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5zZXRUcmFuc2l0aW9uKHN3aXBlci5wYXJhbXMuc3BlZWQpO1xuICB9XG4gIGNvbnN0IGdldFNsaWRlQnlJbmRleCA9IGluZGV4ID0+IHtcbiAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICByZXR1cm4gc3dpcGVyLnNsaWRlc1tzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShpbmRleCldO1xuICAgIH1cbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlc1tpbmRleF07XG4gIH07XG4gIC8vIEZpbmQgc2xpZGVzIGN1cnJlbnRseSBpbiB2aWV3XG4gIGlmIChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIChzd2lwZXIudmlzaWJsZVNsaWRlcyB8fCBbXSkuZm9yRWFjaChzbGlkZSA9PiB7XG4gICAgICAgIGFjdGl2ZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5jZWlsKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyk7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleCArIGk7XG4gICAgICAgIGlmIChpbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoICYmICFpc1ZpcnR1YWwpIGJyZWFrO1xuICAgICAgICBhY3RpdmVTbGlkZXMucHVzaChnZXRTbGlkZUJ5SW5kZXgoaW5kZXgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYWN0aXZlU2xpZGVzLnB1c2goZ2V0U2xpZGVCeUluZGV4KHN3aXBlci5hY3RpdmVJbmRleCkpO1xuICB9XG5cbiAgLy8gRmluZCBuZXcgaGVpZ2h0IGZyb20gaGlnaGVzdCBzbGlkZSBpbiB2aWV3XG4gIGZvciAoaSA9IDA7IGkgPCBhY3RpdmVTbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlc1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGFjdGl2ZVNsaWRlc1tpXS5vZmZzZXRIZWlnaHQ7XG4gICAgICBuZXdIZWlnaHQgPSBoZWlnaHQgPiBuZXdIZWlnaHQgPyBoZWlnaHQgOiBuZXdIZWlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIEhlaWdodFxuICBpZiAobmV3SGVpZ2h0IHx8IG5ld0hlaWdodCA9PT0gMCkgc3dpcGVyLndyYXBwZXJFbC5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNPZmZzZXQoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHNsaWRlcyA9IHN3aXBlci5zbGlkZXM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdCBtaW51c09mZnNldCA9IHN3aXBlci5pc0VsZW1lbnQgPyBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyBzd2lwZXIud3JhcHBlckVsLm9mZnNldExlZnQgOiBzd2lwZXIud3JhcHBlckVsLm9mZnNldFRvcCA6IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc2xpZGVzW2ldLnN3aXBlclNsaWRlT2Zmc2V0ID0gKHN3aXBlci5pc0hvcml6b250YWwoKSA/IHNsaWRlc1tpXS5vZmZzZXRMZWZ0IDogc2xpZGVzW2ldLm9mZnNldFRvcCkgLSBtaW51c09mZnNldCAtIHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgfVxufVxuXG5jb25zdCB0b2dnbGVTbGlkZUNsYXNzZXMkMSA9IChzbGlkZUVsLCBjb25kaXRpb24sIGNsYXNzTmFtZSkgPT4ge1xuICBpZiAoY29uZGl0aW9uICYmICFzbGlkZUVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgc2xpZGVFbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gIH0gZWxzZSBpZiAoIWNvbmRpdGlvbiAmJiBzbGlkZUVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gIH1cbn07XG5mdW5jdGlvbiB1cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpIHtcbiAgaWYgKHRyYW5zbGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlID0gdGhpcyAmJiB0aGlzLnRyYW5zbGF0ZSB8fCAwO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICBzbGlkZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgc25hcEdyaWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKHNsaWRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgaWYgKHR5cGVvZiBzbGlkZXNbMF0uc3dpcGVyU2xpZGVPZmZzZXQgPT09ICd1bmRlZmluZWQnKSBzd2lwZXIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG4gIGxldCBvZmZzZXRDZW50ZXIgPSAtdHJhbnNsYXRlO1xuICBpZiAocnRsKSBvZmZzZXRDZW50ZXIgPSB0cmFuc2xhdGU7XG4gIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcyA9IFtdO1xuICBzd2lwZXIudmlzaWJsZVNsaWRlcyA9IFtdO1xuICBsZXQgc3BhY2VCZXR3ZWVuID0gcGFyYW1zLnNwYWNlQmV0d2VlbjtcbiAgaWYgKHR5cGVvZiBzcGFjZUJldHdlZW4gPT09ICdzdHJpbmcnICYmIHNwYWNlQmV0d2Vlbi5pbmRleE9mKCclJykgPj0gMCkge1xuICAgIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoc3BhY2VCZXR3ZWVuLnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwICogc3dpcGVyLnNpemU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNwYWNlQmV0d2VlbiA9PT0gJ3N0cmluZycpIHtcbiAgICBzcGFjZUJldHdlZW4gPSBwYXJzZUZsb2F0KHNwYWNlQmV0d2Vlbik7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBzbGlkZSA9IHNsaWRlc1tpXTtcbiAgICBsZXQgc2xpZGVPZmZzZXQgPSBzbGlkZS5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICBpZiAocGFyYW1zLmNzc01vZGUgJiYgcGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBzbGlkZU9mZnNldCAtPSBzbGlkZXNbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgfVxuICAgIGNvbnN0IHNsaWRlUHJvZ3Jlc3MgPSAob2Zmc2V0Q2VudGVyICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHNwYWNlQmV0d2Vlbik7XG4gICAgY29uc3Qgb3JpZ2luYWxTbGlkZVByb2dyZXNzID0gKG9mZnNldENlbnRlciAtIHNuYXBHcmlkWzBdICsgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5taW5UcmFuc2xhdGUoKSA6IDApIC0gc2xpZGVPZmZzZXQpIC8gKHNsaWRlLnN3aXBlclNsaWRlU2l6ZSArIHNwYWNlQmV0d2Vlbik7XG4gICAgY29uc3Qgc2xpZGVCZWZvcmUgPSAtKG9mZnNldENlbnRlciAtIHNsaWRlT2Zmc2V0KTtcbiAgICBjb25zdCBzbGlkZUFmdGVyID0gc2xpZGVCZWZvcmUgKyBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkW2ldO1xuICAgIGNvbnN0IGlzRnVsbHlWaXNpYmxlID0gc2xpZGVCZWZvcmUgPj0gMCAmJiBzbGlkZUJlZm9yZSA8PSBzd2lwZXIuc2l6ZSAtIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbaV07XG4gICAgY29uc3QgaXNWaXNpYmxlID0gc2xpZGVCZWZvcmUgPj0gMCAmJiBzbGlkZUJlZm9yZSA8IHN3aXBlci5zaXplIC0gMSB8fCBzbGlkZUFmdGVyID4gMSAmJiBzbGlkZUFmdGVyIDw9IHN3aXBlci5zaXplIHx8IHNsaWRlQmVmb3JlIDw9IDAgJiYgc2xpZGVBZnRlciA+PSBzd2lwZXIuc2l6ZTtcbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICBzd2lwZXIudmlzaWJsZVNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAgIHN3aXBlci52aXNpYmxlU2xpZGVzSW5kZXhlcy5wdXNoKGkpO1xuICAgIH1cbiAgICB0b2dnbGVTbGlkZUNsYXNzZXMkMShzbGlkZSwgaXNWaXNpYmxlLCBwYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpO1xuICAgIHRvZ2dsZVNsaWRlQ2xhc3NlcyQxKHNsaWRlLCBpc0Z1bGx5VmlzaWJsZSwgcGFyYW1zLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MpO1xuICAgIHNsaWRlLnByb2dyZXNzID0gcnRsID8gLXNsaWRlUHJvZ3Jlc3MgOiBzbGlkZVByb2dyZXNzO1xuICAgIHNsaWRlLm9yaWdpbmFsUHJvZ3Jlc3MgPSBydGwgPyAtb3JpZ2luYWxTbGlkZVByb2dyZXNzIDogb3JpZ2luYWxTbGlkZVByb2dyZXNzO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAodHlwZW9mIHRyYW5zbGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gc3dpcGVyLnJ0bFRyYW5zbGF0ZSA/IC0xIDogMTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB0cmFuc2xhdGUgPSBzd2lwZXIgJiYgc3dpcGVyLnRyYW5zbGF0ZSAmJiBzd2lwZXIudHJhbnNsYXRlICogbXVsdGlwbGllciB8fCAwO1xuICB9XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGNvbnN0IHRyYW5zbGF0ZXNEaWZmID0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBsZXQge1xuICAgIHByb2dyZXNzLFxuICAgIGlzQmVnaW5uaW5nLFxuICAgIGlzRW5kLFxuICAgIHByb2dyZXNzTG9vcFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCB3YXNCZWdpbm5pbmcgPSBpc0JlZ2lubmluZztcbiAgY29uc3Qgd2FzRW5kID0gaXNFbmQ7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIHByb2dyZXNzID0gMDtcbiAgICBpc0JlZ2lubmluZyA9IHRydWU7XG4gICAgaXNFbmQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHByb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgICBjb25zdCBpc0JlZ2lubmluZ1JvdW5kZWQgPSBNYXRoLmFicyh0cmFuc2xhdGUgLSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIDwgMTtcbiAgICBjb25zdCBpc0VuZFJvdW5kZWQgPSBNYXRoLmFicyh0cmFuc2xhdGUgLSBzd2lwZXIubWF4VHJhbnNsYXRlKCkpIDwgMTtcbiAgICBpc0JlZ2lubmluZyA9IGlzQmVnaW5uaW5nUm91bmRlZCB8fCBwcm9ncmVzcyA8PSAwO1xuICAgIGlzRW5kID0gaXNFbmRSb3VuZGVkIHx8IHByb2dyZXNzID49IDE7XG4gICAgaWYgKGlzQmVnaW5uaW5nUm91bmRlZCkgcHJvZ3Jlc3MgPSAwO1xuICAgIGlmIChpc0VuZFJvdW5kZWQpIHByb2dyZXNzID0gMTtcbiAgfVxuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YSgwKTtcbiAgICBjb25zdCBsYXN0U2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgZmlyc3RTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2ZpcnN0U2xpZGVJbmRleF07XG4gICAgY29uc3QgbGFzdFNsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbbGFzdFNsaWRlSW5kZXhdO1xuICAgIGNvbnN0IHRyYW5zbGF0ZU1heCA9IHN3aXBlci5zbGlkZXNHcmlkW3N3aXBlci5zbGlkZXNHcmlkLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHRyYW5zbGF0ZUFicyA9IE1hdGguYWJzKHRyYW5zbGF0ZSk7XG4gICAgaWYgKHRyYW5zbGF0ZUFicyA+PSBmaXJzdFNsaWRlVHJhbnNsYXRlKSB7XG4gICAgICBwcm9ncmVzc0xvb3AgPSAodHJhbnNsYXRlQWJzIC0gZmlyc3RTbGlkZVRyYW5zbGF0ZSkgLyB0cmFuc2xhdGVNYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzTG9vcCA9ICh0cmFuc2xhdGVBYnMgKyB0cmFuc2xhdGVNYXggLSBsYXN0U2xpZGVUcmFuc2xhdGUpIC8gdHJhbnNsYXRlTWF4O1xuICAgIH1cbiAgICBpZiAocHJvZ3Jlc3NMb29wID4gMSkgcHJvZ3Jlc3NMb29wIC09IDE7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBwcm9ncmVzcyxcbiAgICBwcm9ncmVzc0xvb3AsXG4gICAgaXNCZWdpbm5pbmcsXG4gICAgaXNFbmRcbiAgfSk7XG4gIGlmIChwYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyB8fCBwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgcGFyYW1zLmF1dG9IZWlnaHQpIHN3aXBlci51cGRhdGVTbGlkZXNQcm9ncmVzcyh0cmFuc2xhdGUpO1xuICBpZiAoaXNCZWdpbm5pbmcgJiYgIXdhc0JlZ2lubmluZykge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEJlZ2lubmluZyB0b0VkZ2UnKTtcbiAgfVxuICBpZiAoaXNFbmQgJiYgIXdhc0VuZCkge1xuICAgIHN3aXBlci5lbWl0KCdyZWFjaEVuZCB0b0VkZ2UnKTtcbiAgfVxuICBpZiAod2FzQmVnaW5uaW5nICYmICFpc0JlZ2lubmluZyB8fCB3YXNFbmQgJiYgIWlzRW5kKSB7XG4gICAgc3dpcGVyLmVtaXQoJ2Zyb21FZGdlJyk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3Byb2dyZXNzJywgcHJvZ3Jlc3MpO1xufVxuXG5jb25zdCB0b2dnbGVTbGlkZUNsYXNzZXMgPSAoc2xpZGVFbCwgY29uZGl0aW9uLCBjbGFzc05hbWUpID0+IHtcbiAgaWYgKGNvbmRpdGlvbiAmJiAhc2xpZGVFbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICB9IGVsc2UgaWYgKCFjb25kaXRpb24gJiYgc2xpZGVFbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIHNsaWRlRWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9XG59O1xuZnVuY3Rpb24gdXBkYXRlU2xpZGVzQ2xhc3NlcygpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWwsXG4gICAgYWN0aXZlSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgcGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgY29uc3QgZ2V0RmlsdGVyZWRTbGlkZSA9IHNlbGVjdG9yID0+IHtcbiAgICByZXR1cm4gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9JHtzZWxlY3Rvcn0sIHN3aXBlci1zbGlkZSR7c2VsZWN0b3J9YClbMF07XG4gIH07XG4gIGxldCBhY3RpdmVTbGlkZTtcbiAgbGV0IHByZXZTbGlkZTtcbiAgbGV0IG5leHRTbGlkZTtcbiAgaWYgKGlzVmlydHVhbCkge1xuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgbGV0IHNsaWRlSW5kZXggPSBhY3RpdmVJbmRleCAtIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICAgIGlmIChzbGlkZUluZGV4IDwgMCkgc2xpZGVJbmRleCA9IHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggKyBzbGlkZUluZGV4O1xuICAgICAgaWYgKHNsaWRlSW5kZXggPj0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCkgc2xpZGVJbmRleCAtPSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoO1xuICAgICAgYWN0aXZlU2xpZGUgPSBnZXRGaWx0ZXJlZFNsaWRlKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3NsaWRlSW5kZXh9XCJdYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZVNsaWRlID0gZ2V0RmlsdGVyZWRTbGlkZShgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHthY3RpdmVJbmRleH1cIl1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLmNvbHVtbiA9PT0gYWN0aXZlSW5kZXgpWzBdO1xuICAgICAgbmV4dFNsaWRlID0gc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleCArIDEpWzBdO1xuICAgICAgcHJldlNsaWRlID0gc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleCAtIDEpWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1thY3RpdmVJbmRleF07XG4gICAgfVxuICB9XG4gIGlmIChhY3RpdmVTbGlkZSkge1xuICAgIGlmICghZ3JpZEVuYWJsZWQpIHtcbiAgICAgIC8vIE5leHQgU2xpZGVcbiAgICAgIG5leHRTbGlkZSA9IGVsZW1lbnROZXh0QWxsKGFjdGl2ZVNsaWRlLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKVswXTtcbiAgICAgIGlmIChwYXJhbXMubG9vcCAmJiAhbmV4dFNsaWRlKSB7XG4gICAgICAgIG5leHRTbGlkZSA9IHNsaWRlc1swXTtcbiAgICAgIH1cblxuICAgICAgLy8gUHJldiBTbGlkZVxuICAgICAgcHJldlNsaWRlID0gZWxlbWVudFByZXZBbGwoYWN0aXZlU2xpZGUsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApWzBdO1xuICAgICAgaWYgKHBhcmFtcy5sb29wICYmICFwcmV2U2xpZGUgPT09IDApIHtcbiAgICAgICAgcHJldlNsaWRlID0gc2xpZGVzW3NsaWRlcy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgdG9nZ2xlU2xpZGVDbGFzc2VzKHNsaWRlRWwsIHNsaWRlRWwgPT09IGFjdGl2ZVNsaWRlLCBwYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyk7XG4gICAgdG9nZ2xlU2xpZGVDbGFzc2VzKHNsaWRlRWwsIHNsaWRlRWwgPT09IG5leHRTbGlkZSwgcGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcbiAgICB0b2dnbGVTbGlkZUNsYXNzZXMoc2xpZGVFbCwgc2xpZGVFbCA9PT0gcHJldlNsaWRlLCBwYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuICB9KTtcbiAgc3dpcGVyLmVtaXRTbGlkZXNDbGFzc2VzKCk7XG59XG5cbmNvbnN0IHByb2Nlc3NMYXp5UHJlbG9hZGVyID0gKHN3aXBlciwgaW1hZ2VFbCkgPT4ge1xuICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIucGFyYW1zKSByZXR1cm47XG4gIGNvbnN0IHNsaWRlU2VsZWN0b3IgPSAoKSA9PiBzd2lwZXIuaXNFbGVtZW50ID8gYHN3aXBlci1zbGlkZWAgOiBgLiR7c3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzfWA7XG4gIGNvbnN0IHNsaWRlRWwgPSBpbWFnZUVsLmNsb3Nlc3Qoc2xpZGVTZWxlY3RvcigpKTtcbiAgaWYgKHNsaWRlRWwpIHtcbiAgICBsZXQgbGF6eUVsID0gc2xpZGVFbC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICBpZiAoIWxhenlFbCAmJiBzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgICBpZiAoc2xpZGVFbC5zaGFkb3dSb290KSB7XG4gICAgICAgIGxhenlFbCA9IHNsaWRlRWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGAuJHtzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkZXJDbGFzc31gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluaXQgbGF0ZXJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBpZiAoc2xpZGVFbC5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBsYXp5RWwgPSBzbGlkZUVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihgLiR7c3dpcGVyLnBhcmFtcy5sYXp5UHJlbG9hZGVyQ2xhc3N9YCk7XG4gICAgICAgICAgICBpZiAobGF6eUVsKSBsYXp5RWwucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhenlFbCkgbGF6eUVsLnJlbW92ZSgpO1xuICB9XG59O1xuY29uc3QgdW5sYXp5ID0gKHN3aXBlciwgaW5kZXgpID0+IHtcbiAgaWYgKCFzd2lwZXIuc2xpZGVzW2luZGV4XSkgcmV0dXJuO1xuICBjb25zdCBpbWFnZUVsID0gc3dpcGVyLnNsaWRlc1tpbmRleF0ucXVlcnlTZWxlY3RvcignW2xvYWRpbmc9XCJsYXp5XCJdJyk7XG4gIGlmIChpbWFnZUVsKSBpbWFnZUVsLnJlbW92ZUF0dHJpYnV0ZSgnbG9hZGluZycpO1xufTtcbmNvbnN0IHByZWxvYWQgPSBzd2lwZXIgPT4ge1xuICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkIHx8ICFzd2lwZXIucGFyYW1zKSByZXR1cm47XG4gIGxldCBhbW91bnQgPSBzd2lwZXIucGFyYW1zLmxhenlQcmVsb2FkUHJldk5leHQ7XG4gIGNvbnN0IGxlbiA9IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICBpZiAoIWxlbiB8fCAhYW1vdW50IHx8IGFtb3VudCA8IDApIHJldHVybjtcbiAgYW1vdW50ID0gTWF0aC5taW4oYW1vdW50LCBsZW4pO1xuICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgPyBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IE1hdGguY2VpbChzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcpO1xuICBjb25zdCBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgaWYgKHN3aXBlci5wYXJhbXMuZ3JpZCAmJiBzd2lwZXIucGFyYW1zLmdyaWQucm93cyA+IDEpIHtcbiAgICBjb25zdCBhY3RpdmVDb2x1bW4gPSBhY3RpdmVJbmRleDtcbiAgICBjb25zdCBwcmVsb2FkQ29sdW1ucyA9IFthY3RpdmVDb2x1bW4gLSBhbW91bnRdO1xuICAgIHByZWxvYWRDb2x1bW5zLnB1c2goLi4uQXJyYXkuZnJvbSh7XG4gICAgICBsZW5ndGg6IGFtb3VudFxuICAgIH0pLm1hcCgoXywgaSkgPT4ge1xuICAgICAgcmV0dXJuIGFjdGl2ZUNvbHVtbiArIHNsaWRlc1BlclZpZXcgKyBpO1xuICAgIH0pKTtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlRWwsIGkpID0+IHtcbiAgICAgIGlmIChwcmVsb2FkQ29sdW1ucy5pbmNsdWRlcyhzbGlkZUVsLmNvbHVtbikpIHVubGF6eShzd2lwZXIsIGkpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzbGlkZUluZGV4TGFzdEluVmlldyA9IGFjdGl2ZUluZGV4ICsgc2xpZGVzUGVyVmlldyAtIDE7XG4gIGlmIChzd2lwZXIucGFyYW1zLnJld2luZCB8fCBzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggLSBhbW91bnQ7IGkgPD0gc2xpZGVJbmRleExhc3RJblZpZXcgKyBhbW91bnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgcmVhbEluZGV4ID0gKGkgJSBsZW4gKyBsZW4pICUgbGVuO1xuICAgICAgaWYgKHJlYWxJbmRleCA8IGFjdGl2ZUluZGV4IHx8IHJlYWxJbmRleCA+IHNsaWRlSW5kZXhMYXN0SW5WaWV3KSB1bmxhenkoc3dpcGVyLCByZWFsSW5kZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gTWF0aC5tYXgoYWN0aXZlSW5kZXggLSBhbW91bnQsIDApOyBpIDw9IE1hdGgubWluKHNsaWRlSW5kZXhMYXN0SW5WaWV3ICsgYW1vdW50LCBsZW4gLSAxKTsgaSArPSAxKSB7XG4gICAgICBpZiAoaSAhPT0gYWN0aXZlSW5kZXggJiYgKGkgPiBzbGlkZUluZGV4TGFzdEluVmlldyB8fCBpIDwgYWN0aXZlSW5kZXgpKSB7XG4gICAgICAgIHVubGF6eShzd2lwZXIsIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZShzd2lwZXIpIHtcbiAgY29uc3Qge1xuICAgIHNsaWRlc0dyaWQsXG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGxldCBhY3RpdmVJbmRleDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXNHcmlkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyAxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSAmJiB0cmFuc2xhdGUgPCBzbGlkZXNHcmlkW2kgKyAxXSAtIChzbGlkZXNHcmlkW2kgKyAxXSAtIHNsaWRlc0dyaWRbaV0pIC8gMikge1xuICAgICAgICBhY3RpdmVJbmRleCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0ZSA+PSBzbGlkZXNHcmlkW2ldICYmIHRyYW5zbGF0ZSA8IHNsaWRlc0dyaWRbaSArIDFdKSB7XG4gICAgICAgIGFjdGl2ZUluZGV4ID0gaSArIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0cmFuc2xhdGUgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgYWN0aXZlSW5kZXggPSBpO1xuICAgIH1cbiAgfVxuICAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICBpZiAoYWN0aXZlSW5kZXggPCAwIHx8IHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIGFjdGl2ZUluZGV4ID0gMDtcbiAgfVxuICByZXR1cm4gYWN0aXZlSW5kZXg7XG59XG5mdW5jdGlvbiB1cGRhdGVBY3RpdmVJbmRleChuZXdBY3RpdmVJbmRleCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB0cmFuc2xhdGUgPSBzd2lwZXIucnRsVHJhbnNsYXRlID8gc3dpcGVyLnRyYW5zbGF0ZSA6IC1zd2lwZXIudHJhbnNsYXRlO1xuICBjb25zdCB7XG4gICAgc25hcEdyaWQsXG4gICAgcGFyYW1zLFxuICAgIGFjdGl2ZUluZGV4OiBwcmV2aW91c0luZGV4LFxuICAgIHJlYWxJbmRleDogcHJldmlvdXNSZWFsSW5kZXgsXG4gICAgc25hcEluZGV4OiBwcmV2aW91c1NuYXBJbmRleFxuICB9ID0gc3dpcGVyO1xuICBsZXQgYWN0aXZlSW5kZXggPSBuZXdBY3RpdmVJbmRleDtcbiAgbGV0IHNuYXBJbmRleDtcbiAgY29uc3QgZ2V0VmlydHVhbFJlYWxJbmRleCA9IGFJbmRleCA9PiB7XG4gICAgbGV0IHJlYWxJbmRleCA9IGFJbmRleCAtIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICBpZiAocmVhbEluZGV4IDwgMCkge1xuICAgICAgcmVhbEluZGV4ID0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCArIHJlYWxJbmRleDtcbiAgICB9XG4gICAgaWYgKHJlYWxJbmRleCA+PSBzd2lwZXIudmlydHVhbC5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICByZWFsSW5kZXggLT0gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWxJbmRleDtcbiAgfTtcbiAgaWYgKHR5cGVvZiBhY3RpdmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhY3RpdmVJbmRleCA9IGdldEFjdGl2ZUluZGV4QnlUcmFuc2xhdGUoc3dpcGVyKTtcbiAgfVxuICBpZiAoc25hcEdyaWQuaW5kZXhPZih0cmFuc2xhdGUpID49IDApIHtcbiAgICBzbmFwSW5kZXggPSBzbmFwR3JpZC5pbmRleE9mKHRyYW5zbGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsIGFjdGl2ZUluZGV4KTtcbiAgICBzbmFwSW5kZXggPSBza2lwICsgTWF0aC5mbG9vcigoYWN0aXZlSW5kZXggLSBza2lwKSAvIHBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIH1cbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG4gIGlmIChhY3RpdmVJbmRleCA9PT0gcHJldmlvdXNJbmRleCAmJiAhc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHNuYXBJbmRleCAhPT0gcHJldmlvdXNTbmFwSW5kZXgpIHtcbiAgICAgIHN3aXBlci5zbmFwSW5kZXggPSBzbmFwSW5kZXg7XG4gICAgICBzd2lwZXIuZW1pdCgnc25hcEluZGV4Q2hhbmdlJyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYWN0aXZlSW5kZXggPT09IHByZXZpb3VzSW5kZXggJiYgc3dpcGVyLnBhcmFtcy5sb29wICYmIHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgc3dpcGVyLnJlYWxJbmRleCA9IGdldFZpcnR1YWxSZWFsSW5kZXgoYWN0aXZlSW5kZXgpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuXG4gIC8vIEdldCByZWFsIGluZGV4XG4gIGxldCByZWFsSW5kZXg7XG4gIGlmIChzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHBhcmFtcy5sb29wKSB7XG4gICAgcmVhbEluZGV4ID0gZ2V0VmlydHVhbFJlYWxJbmRleChhY3RpdmVJbmRleCk7XG4gIH0gZWxzZSBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlSW5Db2x1bW4gPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuY29sdW1uID09PSBhY3RpdmVJbmRleClbMF07XG4gICAgbGV0IGFjdGl2ZVNsaWRlSW5kZXggPSBwYXJzZUludChmaXJzdFNsaWRlSW5Db2x1bW4uZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpLCAxMCk7XG4gICAgaWYgKE51bWJlci5pc05hTihhY3RpdmVTbGlkZUluZGV4KSkge1xuICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IE1hdGgubWF4KHN3aXBlci5zbGlkZXMuaW5kZXhPZihmaXJzdFNsaWRlSW5Db2x1bW4pLCAwKTtcbiAgICB9XG4gICAgcmVhbEluZGV4ID0gTWF0aC5mbG9vcihhY3RpdmVTbGlkZUluZGV4IC8gcGFyYW1zLmdyaWQucm93cyk7XG4gIH0gZWxzZSBpZiAoc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleF0pIHtcbiAgICBjb25zdCBzbGlkZUluZGV4ID0gc3dpcGVyLnNsaWRlc1thY3RpdmVJbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpO1xuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICByZWFsSW5kZXggPSBwYXJzZUludChzbGlkZUluZGV4LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWxJbmRleCA9IGFjdGl2ZUluZGV4O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZWFsSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgfVxuICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgIHByZXZpb3VzU25hcEluZGV4LFxuICAgIHNuYXBJbmRleCxcbiAgICBwcmV2aW91c1JlYWxJbmRleCxcbiAgICByZWFsSW5kZXgsXG4gICAgcHJldmlvdXNJbmRleCxcbiAgICBhY3RpdmVJbmRleFxuICB9KTtcbiAgaWYgKHN3aXBlci5pbml0aWFsaXplZCkge1xuICAgIHByZWxvYWQoc3dpcGVyKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgnYWN0aXZlSW5kZXhDaGFuZ2UnKTtcbiAgc3dpcGVyLmVtaXQoJ3NuYXBJbmRleENoYW5nZScpO1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkIHx8IHN3aXBlci5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSB7XG4gICAgaWYgKHByZXZpb3VzUmVhbEluZGV4ICE9PSByZWFsSW5kZXgpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdyZWFsSW5kZXhDaGFuZ2UnKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlQ2hhbmdlJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2xpY2tlZFNsaWRlKGVsLCBwYXRoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXM7XG4gIGxldCBzbGlkZSA9IGVsLmNsb3Nlc3QoYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gIGlmICghc2xpZGUgJiYgc3dpcGVyLmlzRWxlbWVudCAmJiBwYXRoICYmIHBhdGgubGVuZ3RoID4gMSAmJiBwYXRoLmluY2x1ZGVzKGVsKSkge1xuICAgIFsuLi5wYXRoLnNsaWNlKHBhdGguaW5kZXhPZihlbCkgKyAxLCBwYXRoLmxlbmd0aCldLmZvckVhY2gocGF0aEVsID0+IHtcbiAgICAgIGlmICghc2xpZGUgJiYgcGF0aEVsLm1hdGNoZXMgJiYgcGF0aEVsLm1hdGNoZXMoYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCkpIHtcbiAgICAgICAgc2xpZGUgPSBwYXRoRWw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbGV0IHNsaWRlRm91bmQgPSBmYWxzZTtcbiAgbGV0IHNsaWRlSW5kZXg7XG4gIGlmIChzbGlkZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3dpcGVyLnNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHN3aXBlci5zbGlkZXNbaV0gPT09IHNsaWRlKSB7XG4gICAgICAgIHNsaWRlRm91bmQgPSB0cnVlO1xuICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzbGlkZSAmJiBzbGlkZUZvdW5kKSB7XG4gICAgc3dpcGVyLmNsaWNrZWRTbGlkZSA9IHNsaWRlO1xuICAgIGlmIChzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkge1xuICAgICAgc3dpcGVyLmNsaWNrZWRJbmRleCA9IHBhcnNlSW50KHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgnKSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gc2xpZGVJbmRleDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLmNsaWNrZWRTbGlkZSA9IHVuZGVmaW5lZDtcbiAgICBzd2lwZXIuY2xpY2tlZEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLnNsaWRlVG9DbGlja2VkU2xpZGUgJiYgc3dpcGVyLmNsaWNrZWRJbmRleCAhPT0gdW5kZWZpbmVkICYmIHN3aXBlci5jbGlja2VkSW5kZXggIT09IHN3aXBlci5hY3RpdmVJbmRleCkge1xuICAgIHN3aXBlci5zbGlkZVRvQ2xpY2tlZFNsaWRlKCk7XG4gIH1cbn1cblxudmFyIHVwZGF0ZSA9IHtcbiAgdXBkYXRlU2l6ZSxcbiAgdXBkYXRlU2xpZGVzLFxuICB1cGRhdGVBdXRvSGVpZ2h0LFxuICB1cGRhdGVTbGlkZXNPZmZzZXQsXG4gIHVwZGF0ZVNsaWRlc1Byb2dyZXNzLFxuICB1cGRhdGVQcm9ncmVzcyxcbiAgdXBkYXRlU2xpZGVzQ2xhc3NlcyxcbiAgdXBkYXRlQWN0aXZlSW5kZXgsXG4gIHVwZGF0ZUNsaWNrZWRTbGlkZVxufTtcblxuZnVuY3Rpb24gZ2V0U3dpcGVyVHJhbnNsYXRlKGF4aXMpIHtcbiAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgIGF4aXMgPSB0aGlzLmlzSG9yaXpvbnRhbCgpID8gJ3gnIDogJ3knO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgdHJhbnNsYXRlLFxuICAgIHdyYXBwZXJFbFxuICB9ID0gc3dpcGVyO1xuICBpZiAocGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHtcbiAgICByZXR1cm4gcnRsID8gLXRyYW5zbGF0ZSA6IHRyYW5zbGF0ZTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm4gdHJhbnNsYXRlO1xuICB9XG4gIGxldCBjdXJyZW50VHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKHdyYXBwZXJFbCwgYXhpcyk7XG4gIGN1cnJlbnRUcmFuc2xhdGUgKz0gc3dpcGVyLmNzc092ZXJmbG93QWRqdXN0bWVudCgpO1xuICBpZiAocnRsKSBjdXJyZW50VHJhbnNsYXRlID0gLWN1cnJlbnRUcmFuc2xhdGU7XG4gIHJldHVybiBjdXJyZW50VHJhbnNsYXRlIHx8IDA7XG59XG5cbmZ1bmN0aW9uIHNldFRyYW5zbGF0ZSh0cmFuc2xhdGUsIGJ5Q29udHJvbGxlcikge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgcGFyYW1zLFxuICAgIHdyYXBwZXJFbCxcbiAgICBwcm9ncmVzc1xuICB9ID0gc3dpcGVyO1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgY29uc3QgeiA9IDA7XG4gIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICB4ID0gcnRsID8gLXRyYW5zbGF0ZSA6IHRyYW5zbGF0ZTtcbiAgfSBlbHNlIHtcbiAgICB5ID0gdHJhbnNsYXRlO1xuICB9XG4gIGlmIChwYXJhbXMucm91bmRMZW5ndGhzKSB7XG4gICAgeCA9IE1hdGguZmxvb3IoeCk7XG4gICAgeSA9IE1hdGguZmxvb3IoeSk7XG4gIH1cbiAgc3dpcGVyLnByZXZpb3VzVHJhbnNsYXRlID0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgc3dpcGVyLnRyYW5zbGF0ZSA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHggOiB5O1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICB3cmFwcGVyRWxbc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gLXggOiAteTtcbiAgfSBlbHNlIGlmICghcGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHtcbiAgICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICB4IC09IHN3aXBlci5jc3NPdmVyZmxvd0FkanVzdG1lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeSAtPSBzd2lwZXIuY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCk7XG4gICAgfVxuICAgIHdyYXBwZXJFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt4fXB4LCAke3l9cHgsICR7en1weClgO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byB1cGRhdGUgcHJvZ3Jlc3NcbiAgbGV0IG5ld1Byb2dyZXNzO1xuICBjb25zdCB0cmFuc2xhdGVzRGlmZiA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKTtcbiAgaWYgKHRyYW5zbGF0ZXNEaWZmID09PSAwKSB7XG4gICAgbmV3UHJvZ3Jlc3MgPSAwO1xuICB9IGVsc2Uge1xuICAgIG5ld1Byb2dyZXNzID0gKHRyYW5zbGF0ZSAtIHN3aXBlci5taW5UcmFuc2xhdGUoKSkgLyB0cmFuc2xhdGVzRGlmZjtcbiAgfVxuICBpZiAobmV3UHJvZ3Jlc3MgIT09IHByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGJ5Q29udHJvbGxlcik7XG59XG5cbmZ1bmN0aW9uIG1pblRyYW5zbGF0ZSgpIHtcbiAgcmV0dXJuIC10aGlzLnNuYXBHcmlkWzBdO1xufVxuXG5mdW5jdGlvbiBtYXhUcmFuc2xhdGUoKSB7XG4gIHJldHVybiAtdGhpcy5zbmFwR3JpZFt0aGlzLnNuYXBHcmlkLmxlbmd0aCAtIDFdO1xufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVUbyh0cmFuc2xhdGUsIHNwZWVkLCBydW5DYWxsYmFja3MsIHRyYW5zbGF0ZUJvdW5kcywgaW50ZXJuYWwpIHtcbiAgaWYgKHRyYW5zbGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgdHJhbnNsYXRlID0gMDtcbiAgfVxuICBpZiAoc3BlZWQgPT09IHZvaWQgMCkge1xuICAgIHNwZWVkID0gdGhpcy5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBpZiAodHJhbnNsYXRlQm91bmRzID09PSB2b2lkIDApIHtcbiAgICB0cmFuc2xhdGVCb3VuZHMgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgd3JhcHBlckVsXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgbWluVHJhbnNsYXRlID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICBjb25zdCBtYXhUcmFuc2xhdGUgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCk7XG4gIGxldCBuZXdUcmFuc2xhdGU7XG4gIGlmICh0cmFuc2xhdGVCb3VuZHMgJiYgdHJhbnNsYXRlID4gbWluVHJhbnNsYXRlKSBuZXdUcmFuc2xhdGUgPSBtaW5UcmFuc2xhdGU7ZWxzZSBpZiAodHJhbnNsYXRlQm91bmRzICYmIHRyYW5zbGF0ZSA8IG1heFRyYW5zbGF0ZSkgbmV3VHJhbnNsYXRlID0gbWF4VHJhbnNsYXRlO2Vsc2UgbmV3VHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICBzd2lwZXIudXBkYXRlUHJvZ3Jlc3MobmV3VHJhbnNsYXRlKTtcbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgY29uc3QgaXNIID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuICAgIGlmIChzcGVlZCA9PT0gMCkge1xuICAgICAgd3JhcHBlckVsW2lzSCA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnXSA9IC1uZXdUcmFuc2xhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc3dpcGVyLnN1cHBvcnQuc21vb3RoU2Nyb2xsKSB7XG4gICAgICAgIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKHtcbiAgICAgICAgICBzd2lwZXIsXG4gICAgICAgICAgdGFyZ2V0UG9zaXRpb246IC1uZXdUcmFuc2xhdGUsXG4gICAgICAgICAgc2lkZTogaXNIID8gJ2xlZnQnIDogJ3RvcCdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXTogLW5ld1RyYW5zbGF0ZSxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oMCk7XG4gICAgc3dpcGVyLnNldFRyYW5zbGF0ZShuZXdUcmFuc2xhdGUpO1xuICAgIGlmIChydW5DYWxsYmFja3MpIHtcbiAgICAgIHN3aXBlci5lbWl0KCdiZWZvcmVUcmFuc2l0aW9uU3RhcnQnLCBzcGVlZCwgaW50ZXJuYWwpO1xuICAgICAgc3dpcGVyLmVtaXQoJ3RyYW5zaXRpb25FbmQnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICAgIHN3aXBlci5zZXRUcmFuc2xhdGUobmV3VHJhbnNsYXRlKTtcbiAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICBzd2lwZXIuZW1pdCgnYmVmb3JlVHJhbnNpdGlvblN0YXJ0Jywgc3BlZWQsIGludGVybmFsKTtcbiAgICAgIHN3aXBlci5lbWl0KCd0cmFuc2l0aW9uU3RhcnQnKTtcbiAgICB9XG4gICAgaWYgKCFzd2lwZXIuYW5pbWF0aW5nKSB7XG4gICAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgIGlmICghc3dpcGVyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgICBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICAgIGRlbGV0ZSBzd2lwZXIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kO1xuICAgICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBpZiAocnVuQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBzd2lwZXIuZW1pdCgndHJhbnNpdGlvbkVuZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxudmFyIHRyYW5zbGF0ZSA9IHtcbiAgZ2V0VHJhbnNsYXRlOiBnZXRTd2lwZXJUcmFuc2xhdGUsXG4gIHNldFRyYW5zbGF0ZSxcbiAgbWluVHJhbnNsYXRlLFxuICBtYXhUcmFuc2xhdGUsXG4gIHRyYW5zbGF0ZVRvXG59O1xuXG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICBzd2lwZXIud3JhcHBlckVsLnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGR1cmF0aW9uID09PSAwID8gYDBtc2AgOiAnJztcbiAgfVxuICBzd2lwZXIuZW1pdCgnc2V0VHJhbnNpdGlvbicsIGR1cmF0aW9uLCBieUNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uRW1pdChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIHJ1bkNhbGxiYWNrcyxcbiAgICBkaXJlY3Rpb24sXG4gICAgc3RlcFxuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4LFxuICAgIHByZXZpb3VzSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgbGV0IGRpciA9IGRpcmVjdGlvbjtcbiAgaWYgKCFkaXIpIHtcbiAgICBpZiAoYWN0aXZlSW5kZXggPiBwcmV2aW91c0luZGV4KSBkaXIgPSAnbmV4dCc7ZWxzZSBpZiAoYWN0aXZlSW5kZXggPCBwcmV2aW91c0luZGV4KSBkaXIgPSAncHJldic7ZWxzZSBkaXIgPSAncmVzZXQnO1xuICB9XG4gIHN3aXBlci5lbWl0KGB0cmFuc2l0aW9uJHtzdGVwfWApO1xuICBpZiAocnVuQ2FsbGJhY2tzICYmIGFjdGl2ZUluZGV4ICE9PSBwcmV2aW91c0luZGV4KSB7XG4gICAgaWYgKGRpciA9PT0gJ3Jlc2V0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoYHNsaWRlUmVzZXRUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdChgc2xpZGVDaGFuZ2VUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIGlmIChkaXIgPT09ICduZXh0Jykge1xuICAgICAgc3dpcGVyLmVtaXQoYHNsaWRlTmV4dFRyYW5zaXRpb24ke3N0ZXB9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5lbWl0KGBzbGlkZVByZXZUcmFuc2l0aW9uJHtzdGVwfWApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zXG4gIH0gPSBzd2lwZXI7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICBpZiAocGFyYW1zLmF1dG9IZWlnaHQpIHtcbiAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICB9XG4gIHRyYW5zaXRpb25FbWl0KHtcbiAgICBzd2lwZXIsXG4gICAgcnVuQ2FsbGJhY2tzLFxuICAgIGRpcmVjdGlvbixcbiAgICBzdGVwOiAnU3RhcnQnXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gIGlmIChwYXJhbXMuY3NzTW9kZSkgcmV0dXJuO1xuICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgdHJhbnNpdGlvbkVtaXQoe1xuICAgIHN3aXBlcixcbiAgICBydW5DYWxsYmFja3MsXG4gICAgZGlyZWN0aW9uLFxuICAgIHN0ZXA6ICdFbmQnXG4gIH0pO1xufVxuXG52YXIgdHJhbnNpdGlvbiA9IHtcbiAgc2V0VHJhbnNpdGlvbixcbiAgdHJhbnNpdGlvblN0YXJ0LFxuICB0cmFuc2l0aW9uRW5kXG59O1xuXG5mdW5jdGlvbiBzbGlkZVRvKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgaW5pdGlhbCkge1xuICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSB7XG4gICAgaW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGxldCBzbGlkZUluZGV4ID0gaW5kZXg7XG4gIGlmIChzbGlkZUluZGV4IDwgMCkgc2xpZGVJbmRleCA9IDA7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc25hcEdyaWQsXG4gICAgc2xpZGVzR3JpZCxcbiAgICBwcmV2aW91c0luZGV4LFxuICAgIGFjdGl2ZUluZGV4LFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHdyYXBwZXJFbCxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCAmJiAhaW50ZXJuYWwgJiYgIWluaXRpYWwgfHwgc3dpcGVyLmRlc3Ryb3llZCB8fCBzd2lwZXIuYW5pbWF0aW5nICYmIHBhcmFtcy5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBzbGlkZUluZGV4KTtcbiAgbGV0IHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChzbGlkZUluZGV4IC0gc2tpcCkgLyBzd2lwZXIucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtcbiAgaWYgKHNuYXBJbmRleCA+PSBzbmFwR3JpZC5sZW5ndGgpIHNuYXBJbmRleCA9IHNuYXBHcmlkLmxlbmd0aCAtIDE7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IC1zbmFwR3JpZFtzbmFwSW5kZXhdO1xuICAvLyBOb3JtYWxpemUgc2xpZGVJbmRleFxuICBpZiAocGFyYW1zLm5vcm1hbGl6ZVNsaWRlSW5kZXgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSAtTWF0aC5mbG9vcih0cmFuc2xhdGUgKiAxMDApO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEdyaWQgPSBNYXRoLmZsb29yKHNsaWRlc0dyaWRbaV0gKiAxMDApO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEdyaWROZXh0ID0gTWF0aC5mbG9vcihzbGlkZXNHcmlkW2kgKyAxXSAqIDEwMCk7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlc0dyaWRbaSArIDFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCAmJiBub3JtYWxpemVkVHJhbnNsYXRlIDwgbm9ybWFsaXplZEdyaWROZXh0IC0gKG5vcm1hbGl6ZWRHcmlkTmV4dCAtIG5vcm1hbGl6ZWRHcmlkKSAvIDIpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IG5vcm1hbGl6ZWRHcmlkICYmIG5vcm1hbGl6ZWRUcmFuc2xhdGUgPCBub3JtYWxpemVkR3JpZE5leHQpIHtcbiAgICAgICAgICBzbGlkZUluZGV4ID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFRyYW5zbGF0ZSA+PSBub3JtYWxpemVkR3JpZCkge1xuICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRGlyZWN0aW9ucyBsb2Nrc1xuICBpZiAoc3dpcGVyLmluaXRpYWxpemVkICYmIHNsaWRlSW5kZXggIT09IGFjdGl2ZUluZGV4KSB7XG4gICAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgKHJ0bCA/IHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIDogdHJhbnNsYXRlIDwgc3dpcGVyLnRyYW5zbGF0ZSAmJiB0cmFuc2xhdGUgPCBzd2lwZXIubWluVHJhbnNsYXRlKCkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghc3dpcGVyLmFsbG93U2xpZGVQcmV2ICYmIHRyYW5zbGF0ZSA+IHN3aXBlci50cmFuc2xhdGUgJiYgdHJhbnNsYXRlID4gc3dpcGVyLm1heFRyYW5zbGF0ZSgpKSB7XG4gICAgICBpZiAoKGFjdGl2ZUluZGV4IHx8IDApICE9PSBzbGlkZUluZGV4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHNsaWRlSW5kZXggIT09IChwcmV2aW91c0luZGV4IHx8IDApICYmIHJ1bkNhbGxiYWNrcykge1xuICAgIHN3aXBlci5lbWl0KCdiZWZvcmVTbGlkZUNoYW5nZVN0YXJ0Jyk7XG4gIH1cblxuICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHRyYW5zbGF0ZSk7XG4gIGxldCBkaXJlY3Rpb247XG4gIGlmIChzbGlkZUluZGV4ID4gYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICduZXh0JztlbHNlIGlmIChzbGlkZUluZGV4IDwgYWN0aXZlSW5kZXgpIGRpcmVjdGlvbiA9ICdwcmV2JztlbHNlIGRpcmVjdGlvbiA9ICdyZXNldCc7XG5cbiAgLy8gVXBkYXRlIEluZGV4XG4gIGlmIChydGwgJiYgLXRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSB8fCAhcnRsICYmIHRyYW5zbGF0ZSA9PT0gc3dpcGVyLnRyYW5zbGF0ZSkge1xuICAgIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTtcbiAgICAvLyBVcGRhdGUgSGVpZ2h0XG4gICAgaWYgKHBhcmFtcy5hdXRvSGVpZ2h0KSB7XG4gICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgIH1cbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICAgIGlmIChwYXJhbXMuZWZmZWN0ICE9PSAnc2xpZGUnKSB7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gICAgfVxuICAgIGlmIChkaXJlY3Rpb24gIT09ICdyZXNldCcpIHtcbiAgICAgIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgICAgc3dpcGVyLnRyYW5zaXRpb25FbmQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgY29uc3QgaXNIID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpO1xuICAgIGNvbnN0IHQgPSBydGwgPyB0cmFuc2xhdGUgOiAtdHJhbnNsYXRlO1xuICAgIGlmIChzcGVlZCA9PT0gMCkge1xuICAgICAgY29uc3QgaXNWaXJ0dWFsID0gc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnbm9uZSc7XG4gICAgICAgIHN3aXBlci5faW1tZWRpYXRlVmlydHVhbCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNWaXJ0dWFsICYmICFzd2lwZXIuX2Nzc01vZGVWaXJ0dWFsSW5pdGlhbFNldCAmJiBzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSA+IDApIHtcbiAgICAgICAgc3dpcGVyLl9jc3NNb2RlVmlydHVhbEluaXRpYWxTZXQgPSB0cnVlO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyYXBwZXJFbFtpc0ggPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJ10gPSB0O1xuICAgICAgfVxuICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHN3aXBlci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGUgPSAnJztcbiAgICAgICAgICBzd2lwZXIuX2ltbWVkaWF0ZVZpcnR1YWwgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc3dpcGVyLnN1cHBvcnQuc21vb3RoU2Nyb2xsKSB7XG4gICAgICAgIGFuaW1hdGVDU1NNb2RlU2Nyb2xsKHtcbiAgICAgICAgICBzd2lwZXIsXG4gICAgICAgICAgdGFyZ2V0UG9zaXRpb246IHQsXG4gICAgICAgICAgc2lkZTogaXNIID8gJ2xlZnQnIDogJ3RvcCdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgd3JhcHBlckVsLnNjcm9sbFRvKHtcbiAgICAgICAgW2lzSCA/ICdsZWZ0JyA6ICd0b3AnXTogdCxcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgc3dpcGVyLnNldFRyYW5zaXRpb24oc3BlZWQpO1xuICBzd2lwZXIuc2V0VHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gIHN3aXBlci51cGRhdGVBY3RpdmVJbmRleChzbGlkZUluZGV4KTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgc3dpcGVyLmVtaXQoJ2JlZm9yZVRyYW5zaXRpb25TdGFydCcsIHNwZWVkLCBpbnRlcm5hbCk7XG4gIHN3aXBlci50cmFuc2l0aW9uU3RhcnQocnVuQ2FsbGJhY2tzLCBkaXJlY3Rpb24pO1xuICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICBzd2lwZXIudHJhbnNpdGlvbkVuZChydW5DYWxsYmFja3MsIGRpcmVjdGlvbik7XG4gIH0gZWxzZSBpZiAoIXN3aXBlci5hbmltYXRpbmcpIHtcbiAgICBzd2lwZXIuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICBpZiAoIXN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkge1xuICAgICAgc3dpcGVyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlKSB7XG4gICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSBzd2lwZXIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQ7XG4gICAgICAgIHN3aXBlci50cmFuc2l0aW9uRW5kKHJ1bkNhbGxiYWNrcywgZGlyZWN0aW9uKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHN3aXBlci53cmFwcGVyRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHN3aXBlci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHNsaWRlVG9Mb29wKGluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAoaW5kZXggPT09IHZvaWQgMCkge1xuICAgIGluZGV4ID0gMDtcbiAgfVxuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgaW5kZXhBc051bWJlciA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gICAgaW5kZXggPSBpbmRleEFzTnVtYmVyO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3BlZWQgPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICB9XG4gIGNvbnN0IGdyaWRFbmFibGVkID0gc3dpcGVyLmdyaWQgJiYgc3dpcGVyLnBhcmFtcy5ncmlkICYmIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgbGV0IG5ld0luZGV4ID0gaW5kZXg7XG4gIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbmV3SW5kZXggPSBuZXdJbmRleCArIHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHRhcmdldFNsaWRlSW5kZXg7XG4gICAgICBpZiAoZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVJbmRleCA9IG5ld0luZGV4ICogc3dpcGVyLnBhcmFtcy5ncmlkLnJvd3M7XG4gICAgICAgIHRhcmdldFNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gc2xpZGVJbmRleClbMF0uY29sdW1uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0U2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4QnlEYXRhKG5ld0luZGV4KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbHMgPSBncmlkRW5hYmxlZCA/IE1hdGguY2VpbChzd2lwZXIuc2xpZGVzLmxlbmd0aCAvIHN3aXBlci5wYXJhbXMuZ3JpZC5yb3dzKSA6IHN3aXBlci5zbGlkZXMubGVuZ3RoO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjZW50ZXJlZFNsaWRlc1xuICAgICAgfSA9IHN3aXBlci5wYXJhbXM7XG4gICAgICBsZXQgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldztcbiAgICAgIGlmIChzbGlkZXNQZXJWaWV3ID09PSAnYXV0bycpIHtcbiAgICAgICAgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVzUGVyVmlldyA9IE1hdGguY2VpbChwYXJzZUZsb2F0KHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKTtcbiAgICAgICAgaWYgKGNlbnRlcmVkU2xpZGVzICYmIHNsaWRlc1BlclZpZXcgJSAyID09PSAwKSB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldyA9IHNsaWRlc1BlclZpZXcgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgbmVlZExvb3BGaXggPSBjb2xzIC0gdGFyZ2V0U2xpZGVJbmRleCA8IHNsaWRlc1BlclZpZXc7XG4gICAgICBpZiAoY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgICAgbmVlZExvb3BGaXggPSBuZWVkTG9vcEZpeCB8fCB0YXJnZXRTbGlkZUluZGV4IDwgTWF0aC5jZWlsKHNsaWRlc1BlclZpZXcgLyAyKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnRlcm5hbCAmJiBjZW50ZXJlZFNsaWRlcyAmJiBzd2lwZXIucGFyYW1zLnNsaWRlc1BlclZpZXcgIT09ICdhdXRvJyAmJiAhZ3JpZEVuYWJsZWQpIHtcbiAgICAgICAgbmVlZExvb3BGaXggPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTG9vcEZpeCkge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBjZW50ZXJlZFNsaWRlcyA/IHRhcmdldFNsaWRlSW5kZXggPCBzd2lwZXIuYWN0aXZlSW5kZXggPyAncHJldicgOiAnbmV4dCcgOiB0YXJnZXRTbGlkZUluZGV4IC0gc3dpcGVyLmFjdGl2ZUluZGV4IC0gMSA8IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyVmlldyA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgICAgc3dpcGVyLmxvb3BGaXgoe1xuICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICBzbGlkZVRvOiB0cnVlLFxuICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXg6IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gdGFyZ2V0U2xpZGVJbmRleCArIDEgOiB0YXJnZXRTbGlkZUluZGV4IC0gY29scyArIDEsXG4gICAgICAgICAgc2xpZGVSZWFsSW5kZXg6IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gc3dpcGVyLnJlYWxJbmRleCA6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBjb25zdCBzbGlkZUluZGV4ID0gbmV3SW5kZXggKiBzd2lwZXIucGFyYW1zLmdyaWQucm93cztcbiAgICAgICAgbmV3SW5kZXggPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcpICogMSA9PT0gc2xpZGVJbmRleClbMF0uY29sdW1uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3SW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleEJ5RGF0YShuZXdJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgc3dpcGVyLnNsaWRlVG8obmV3SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgfSk7XG4gIHJldHVybiBzd2lwZXI7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVOZXh0KHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIGVuYWJsZWQsXG4gICAgcGFyYW1zLFxuICAgIGFuaW1hdGluZ1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuIHN3aXBlcjtcbiAgaWYgKHR5cGVvZiBzcGVlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzcGVlZCA9IHN3aXBlci5wYXJhbXMuc3BlZWQ7XG4gIH1cbiAgbGV0IHBlckdyb3VwID0gcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDEgJiYgcGFyYW1zLnNsaWRlc1Blckdyb3VwQXV0bykge1xuICAgIHBlckdyb3VwID0gTWF0aC5tYXgoc3dpcGVyLnNsaWRlc1BlclZpZXdEeW5hbWljKCdjdXJyZW50JywgdHJ1ZSksIDEpO1xuICB9XG4gIGNvbnN0IGluY3JlbWVudCA9IHN3aXBlci5hY3RpdmVJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAgPyAxIDogcGVyR3JvdXA7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChhbmltYXRpbmcgJiYgIWlzVmlydHVhbCAmJiBwYXJhbXMubG9vcFByZXZlbnRzU2xpZGluZykgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgIGRpcmVjdGlvbjogJ25leHQnXG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgc3dpcGVyLl9jbGllbnRMZWZ0ID0gc3dpcGVyLndyYXBwZXJFbC5jbGllbnRMZWZ0O1xuICAgIGlmIChzd2lwZXIuYWN0aXZlSW5kZXggPT09IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gMSAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4ICsgaW5jcmVtZW50LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQpIHtcbiAgICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oMCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBpbmNyZW1lbnQsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVByZXYoc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpIHtcbiAgaWYgKHJ1bkNhbGxiYWNrcyA9PT0gdm9pZCAwKSB7XG4gICAgcnVuQ2FsbGJhY2tzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHNuYXBHcmlkLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgcnRsVHJhbnNsYXRlLFxuICAgIGVuYWJsZWQsXG4gICAgYW5pbWF0aW5nXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm4gc3dpcGVyO1xuICBpZiAodHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJykge1xuICAgIHNwZWVkID0gc3dpcGVyLnBhcmFtcy5zcGVlZDtcbiAgfVxuICBjb25zdCBpc1ZpcnR1YWwgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkO1xuICBpZiAocGFyYW1zLmxvb3ApIHtcbiAgICBpZiAoYW5pbWF0aW5nICYmICFpc1ZpcnR1YWwgJiYgcGFyYW1zLmxvb3BQcmV2ZW50c1NsaWRpbmcpIHJldHVybiBmYWxzZTtcbiAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICBkaXJlY3Rpb246ICdwcmV2J1xuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHN3aXBlci5fY2xpZW50TGVmdCA9IHN3aXBlci53cmFwcGVyRWwuY2xpZW50TGVmdDtcbiAgfVxuICBjb25zdCB0cmFuc2xhdGUgPSBydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZSh2YWwpIHtcbiAgICBpZiAodmFsIDwgMCkgcmV0dXJuIC1NYXRoLmZsb29yKE1hdGguYWJzKHZhbCkpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKHZhbCk7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZFRyYW5zbGF0ZSA9IG5vcm1hbGl6ZSh0cmFuc2xhdGUpO1xuICBjb25zdCBub3JtYWxpemVkU25hcEdyaWQgPSBzbmFwR3JpZC5tYXAodmFsID0+IG5vcm1hbGl6ZSh2YWwpKTtcbiAgbGV0IHByZXZTbmFwID0gc25hcEdyaWRbbm9ybWFsaXplZFNuYXBHcmlkLmluZGV4T2Yobm9ybWFsaXplZFRyYW5zbGF0ZSkgLSAxXTtcbiAgaWYgKHR5cGVvZiBwcmV2U25hcCA9PT0gJ3VuZGVmaW5lZCcgJiYgcGFyYW1zLmNzc01vZGUpIHtcbiAgICBsZXQgcHJldlNuYXBJbmRleDtcbiAgICBzbmFwR3JpZC5mb3JFYWNoKChzbmFwLCBzbmFwSW5kZXgpID0+IHtcbiAgICAgIGlmIChub3JtYWxpemVkVHJhbnNsYXRlID49IHNuYXApIHtcbiAgICAgICAgLy8gcHJldlNuYXAgPSBzbmFwO1xuICAgICAgICBwcmV2U25hcEluZGV4ID0gc25hcEluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgcHJldlNuYXBJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHByZXZTbmFwID0gc25hcEdyaWRbcHJldlNuYXBJbmRleCA+IDAgPyBwcmV2U25hcEluZGV4IC0gMSA6IHByZXZTbmFwSW5kZXhdO1xuICAgIH1cbiAgfVxuICBsZXQgcHJldkluZGV4ID0gMDtcbiAgaWYgKHR5cGVvZiBwcmV2U25hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBwcmV2SW5kZXggPSBzbGlkZXNHcmlkLmluZGV4T2YocHJldlNuYXApO1xuICAgIGlmIChwcmV2SW5kZXggPCAwKSBwcmV2SW5kZXggPSBzd2lwZXIuYWN0aXZlSW5kZXggLSAxO1xuICAgIGlmIChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nICYmIHBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMSAmJiBwYXJhbXMuc2xpZGVzUGVyR3JvdXBBdXRvKSB7XG4gICAgICBwcmV2SW5kZXggPSBwcmV2SW5kZXggLSBzd2lwZXIuc2xpZGVzUGVyVmlld0R5bmFtaWMoJ3ByZXZpb3VzJywgdHJ1ZSkgKyAxO1xuICAgICAgcHJldkluZGV4ID0gTWF0aC5tYXgocHJldkluZGV4LCAwKTtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcmFtcy5yZXdpbmQgJiYgc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgY29uc3QgbGFzdEluZGV4ID0gc3dpcGVyLnBhcmFtcy52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCAtIDEgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIHN3aXBlci5zbGlkZVRvKGxhc3RJbmRleCwgc3BlZWQsIHJ1bkNhbGxiYWNrcywgaW50ZXJuYWwpO1xuICB9IGVsc2UgaWYgKHBhcmFtcy5sb29wICYmIHN3aXBlci5hY3RpdmVJbmRleCA9PT0gMCAmJiBwYXJhbXMuY3NzTW9kZSkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhwcmV2SW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8ocHJldkluZGV4LCBzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCk7XG59XG5cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiAqL1xuZnVuY3Rpb24gc2xpZGVSZXNldChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCkge1xuICBpZiAocnVuQ2FsbGJhY2tzID09PSB2b2lkIDApIHtcbiAgICBydW5DYWxsYmFja3MgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3BlZWQgPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICB9XG4gIHJldHVybiBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBcIm9mZlwiICovXG5mdW5jdGlvbiBzbGlkZVRvQ2xvc2VzdChzcGVlZCwgcnVuQ2FsbGJhY2tzLCBpbnRlcm5hbCwgdGhyZXNob2xkKSB7XG4gIGlmIChydW5DYWxsYmFja3MgPT09IHZvaWQgMCkge1xuICAgIHJ1bkNhbGxiYWNrcyA9IHRydWU7XG4gIH1cbiAgaWYgKHRocmVzaG9sZCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyZXNob2xkID0gMC41O1xuICB9XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gIGlmICh0eXBlb2Ygc3BlZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3BlZWQgPSBzd2lwZXIucGFyYW1zLnNwZWVkO1xuICB9XG4gIGxldCBpbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgY29uc3Qgc2tpcCA9IE1hdGgubWluKHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLCBpbmRleCk7XG4gIGNvbnN0IHNuYXBJbmRleCA9IHNraXAgKyBNYXRoLmZsb29yKChpbmRleCAtIHNraXApIC8gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cCk7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlIDogLXN3aXBlci50cmFuc2xhdGU7XG4gIGlmICh0cmFuc2xhdGUgPj0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF0pIHtcbiAgICAvLyBUaGUgY3VycmVudCB0cmFuc2xhdGUgaXMgb24gb3IgYWZ0ZXIgdGhlIGN1cnJlbnQgc25hcCBpbmRleCwgc28gdGhlIGNob2ljZVxuICAgIC8vIGlzIGJldHdlZW4gdGhlIGN1cnJlbnQgaW5kZXggYW5kIHRoZSBvbmUgYWZ0ZXIgaXQuXG4gICAgY29uc3QgY3VycmVudFNuYXAgPSBzd2lwZXIuc25hcEdyaWRbc25hcEluZGV4XTtcbiAgICBjb25zdCBuZXh0U25hcCA9IHN3aXBlci5zbmFwR3JpZFtzbmFwSW5kZXggKyAxXTtcbiAgICBpZiAodHJhbnNsYXRlIC0gY3VycmVudFNuYXAgPiAobmV4dFNuYXAgLSBjdXJyZW50U25hcCkgKiB0aHJlc2hvbGQpIHtcbiAgICAgIGluZGV4ICs9IHN3aXBlci5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFRoZSBjdXJyZW50IHRyYW5zbGF0ZSBpcyBiZWZvcmUgdGhlIGN1cnJlbnQgc25hcCBpbmRleCwgc28gdGhlIGNob2ljZVxuICAgIC8vIGlzIGJldHdlZW4gdGhlIGN1cnJlbnQgaW5kZXggYW5kIHRoZSBvbmUgYmVmb3JlIGl0LlxuICAgIGNvbnN0IHByZXZTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleCAtIDFdO1xuICAgIGNvbnN0IGN1cnJlbnRTbmFwID0gc3dpcGVyLnNuYXBHcmlkW3NuYXBJbmRleF07XG4gICAgaWYgKHRyYW5zbGF0ZSAtIHByZXZTbmFwIDw9IChjdXJyZW50U25hcCAtIHByZXZTbmFwKSAqIHRocmVzaG9sZCkge1xuICAgICAgaW5kZXggLT0gc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgICB9XG4gIH1cbiAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG4gIGluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHN3aXBlci5zbGlkZXNHcmlkLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gc3dpcGVyLnNsaWRlVG8oaW5kZXgsIHNwZWVkLCBydW5DYWxsYmFja3MsIGludGVybmFsKTtcbn1cblxuZnVuY3Rpb24gc2xpZGVUb0NsaWNrZWRTbGlkZSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBzbGlkZXNFbFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBzbGlkZXNQZXJWaWV3ID0gcGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogcGFyYW1zLnNsaWRlc1BlclZpZXc7XG4gIGxldCBzbGlkZVRvSW5kZXggPSBzd2lwZXIuY2xpY2tlZEluZGV4O1xuICBsZXQgcmVhbEluZGV4O1xuICBjb25zdCBzbGlkZVNlbGVjdG9yID0gc3dpcGVyLmlzRWxlbWVudCA/IGBzd2lwZXItc2xpZGVgIDogYC4ke3BhcmFtcy5zbGlkZUNsYXNzfWA7XG4gIGlmIChwYXJhbXMubG9vcCkge1xuICAgIGlmIChzd2lwZXIuYW5pbWF0aW5nKSByZXR1cm47XG4gICAgcmVhbEluZGV4ID0gcGFyc2VJbnQoc3dpcGVyLmNsaWNrZWRTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JyksIDEwKTtcbiAgICBpZiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG4gICAgICBpZiAoc2xpZGVUb0luZGV4IDwgc3dpcGVyLmxvb3BlZFNsaWRlcyAtIHNsaWRlc1BlclZpZXcgLyAyIHx8IHNsaWRlVG9JbmRleCA+IHN3aXBlci5zbGlkZXMubGVuZ3RoIC0gc3dpcGVyLmxvb3BlZFNsaWRlcyArIHNsaWRlc1BlclZpZXcgLyAyKSB7XG4gICAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICAgIHNsaWRlVG9JbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4KGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYCR7c2xpZGVTZWxlY3Rvcn1bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3JlYWxJbmRleH1cIl1gKVswXSk7XG4gICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzbGlkZVRvSW5kZXggPiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIHNsaWRlc1BlclZpZXcpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KCk7XG4gICAgICBzbGlkZVRvSW5kZXggPSBzd2lwZXIuZ2V0U2xpZGVJbmRleChlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAke3NsaWRlU2VsZWN0b3J9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtyZWFsSW5kZXh9XCJdYClbMF0pO1xuICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzbGlkZVRvSW5kZXgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXBlci5zbGlkZVRvKHNsaWRlVG9JbmRleCk7XG4gIH1cbn1cblxudmFyIHNsaWRlID0ge1xuICBzbGlkZVRvLFxuICBzbGlkZVRvTG9vcCxcbiAgc2xpZGVOZXh0LFxuICBzbGlkZVByZXYsXG4gIHNsaWRlUmVzZXQsXG4gIHNsaWRlVG9DbG9zZXN0LFxuICBzbGlkZVRvQ2xpY2tlZFNsaWRlXG59O1xuXG5mdW5jdGlvbiBsb29wQ3JlYXRlKHNsaWRlUmVhbEluZGV4KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFwYXJhbXMubG9vcCB8fCBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICBjb25zdCBpbml0U2xpZGVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHNsaWRlcyA9IGVsZW1lbnRDaGlsZHJlbihzbGlkZXNFbCwgYC4ke3BhcmFtcy5zbGlkZUNsYXNzfSwgc3dpcGVyLXNsaWRlYCk7XG4gICAgc2xpZGVzLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN3aXBlci1zbGlkZS1pbmRleCcsIGluZGV4KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ3JpZEVuYWJsZWQgPSBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbiAgY29uc3Qgc2xpZGVzUGVyR3JvdXAgPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXAgKiAoZ3JpZEVuYWJsZWQgPyBwYXJhbXMuZ3JpZC5yb3dzIDogMSk7XG4gIGNvbnN0IHNob3VsZEZpbGxHcm91cCA9IHN3aXBlci5zbGlkZXMubGVuZ3RoICUgc2xpZGVzUGVyR3JvdXAgIT09IDA7XG4gIGNvbnN0IHNob3VsZEZpbGxHcmlkID0gZ3JpZEVuYWJsZWQgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGggJSBwYXJhbXMuZ3JpZC5yb3dzICE9PSAwO1xuICBjb25zdCBhZGRCbGFua1NsaWRlcyA9IGFtb3VudE9mU2xpZGVzID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudE9mU2xpZGVzOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzd2lwZXIuaXNFbGVtZW50ID8gY3JlYXRlRWxlbWVudCgnc3dpcGVyLXNsaWRlJywgW3BhcmFtcy5zbGlkZUJsYW5rQ2xhc3NdKSA6IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIFtwYXJhbXMuc2xpZGVDbGFzcywgcGFyYW1zLnNsaWRlQmxhbmtDbGFzc10pO1xuICAgICAgc3dpcGVyLnNsaWRlc0VsLmFwcGVuZChzbGlkZUVsKTtcbiAgICB9XG4gIH07XG4gIGlmIChzaG91bGRGaWxsR3JvdXApIHtcbiAgICBpZiAocGFyYW1zLmxvb3BBZGRCbGFua1NsaWRlcykge1xuICAgICAgY29uc3Qgc2xpZGVzVG9BZGQgPSBzbGlkZXNQZXJHcm91cCAtIHN3aXBlci5zbGlkZXMubGVuZ3RoICUgc2xpZGVzUGVyR3JvdXA7XG4gICAgICBhZGRCbGFua1NsaWRlcyhzbGlkZXNUb0FkZCk7XG4gICAgICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZXZlbiB0byBzbGlkZXNQZXJHcm91cCwgbG9vcCBtb2RlIG1heSBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzLCBvciBlbXB0eSBzbGlkZXMpJyk7XG4gICAgfVxuICAgIGluaXRTbGlkZXMoKTtcbiAgfSBlbHNlIGlmIChzaG91bGRGaWxsR3JpZCkge1xuICAgIGlmIChwYXJhbXMubG9vcEFkZEJsYW5rU2xpZGVzKSB7XG4gICAgICBjb25zdCBzbGlkZXNUb0FkZCA9IHBhcmFtcy5ncmlkLnJvd3MgLSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAlIHBhcmFtcy5ncmlkLnJvd3M7XG4gICAgICBhZGRCbGFua1NsaWRlcyhzbGlkZXNUb0FkZCk7XG4gICAgICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZXZlbiB0byBncmlkLnJvd3MsIGxvb3AgbW9kZSBtYXkgbm90IGZ1bmN0aW9uIHByb3Blcmx5LiBZb3UgbmVlZCB0byBhZGQgbW9yZSBzbGlkZXMgKG9yIG1ha2UgZHVwbGljYXRlcywgb3IgZW1wdHkgc2xpZGVzKScpO1xuICAgIH1cbiAgICBpbml0U2xpZGVzKCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdFNsaWRlcygpO1xuICB9XG4gIHN3aXBlci5sb29wRml4KHtcbiAgICBzbGlkZVJlYWxJbmRleCxcbiAgICBkaXJlY3Rpb246IHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHVuZGVmaW5lZCA6ICduZXh0J1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9vcEZpeChfdGVtcCkge1xuICBsZXQge1xuICAgIHNsaWRlUmVhbEluZGV4LFxuICAgIHNsaWRlVG8gPSB0cnVlLFxuICAgIGRpcmVjdGlvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgYWN0aXZlU2xpZGVJbmRleCxcbiAgICBieUNvbnRyb2xsZXIsXG4gICAgYnlNb3VzZXdoZWVsXG4gIH0gPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLmxvb3ApIHJldHVybjtcbiAgc3dpcGVyLmVtaXQoJ2JlZm9yZUxvb3BGaXgnKTtcbiAgY29uc3Qge1xuICAgIHNsaWRlcyxcbiAgICBhbGxvd1NsaWRlUHJldixcbiAgICBhbGxvd1NsaWRlTmV4dCxcbiAgICBzbGlkZXNFbCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qge1xuICAgIGNlbnRlcmVkU2xpZGVzXG4gIH0gPSBwYXJhbXM7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IHRydWU7XG4gIGlmIChzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkKSB7XG4gICAgaWYgKHNsaWRlVG8pIHtcbiAgICAgIGlmICghcGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIHN3aXBlci5zbmFwSW5kZXggPT09IDApIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgc3dpcGVyLnNuYXBJbmRleCA8IHBhcmFtcy5zbGlkZXNQZXJWaWV3KSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci52aXJ0dWFsLnNsaWRlcy5sZW5ndGggKyBzd2lwZXIuc25hcEluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN3aXBlci5zbmFwSW5kZXggPT09IHN3aXBlci5zbmFwR3JpZC5sZW5ndGggLSAxKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci52aXJ0dWFsLnNsaWRlc0JlZm9yZSwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgICBzd2lwZXIuZW1pdCgnbG9vcEZpeCcpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2xpZGVzUGVyVmlldyA9IHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICBpZiAoc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nKSB7XG4gICAgc2xpZGVzUGVyVmlldyA9IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpO1xuICB9IGVsc2Uge1xuICAgIHNsaWRlc1BlclZpZXcgPSBNYXRoLmNlaWwocGFyc2VGbG9hdChwYXJhbXMuc2xpZGVzUGVyVmlldywgMTApKTtcbiAgICBpZiAoY2VudGVyZWRTbGlkZXMgJiYgc2xpZGVzUGVyVmlldyAlIDIgPT09IDApIHtcbiAgICAgIHNsaWRlc1BlclZpZXcgPSBzbGlkZXNQZXJWaWV3ICsgMTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2xpZGVzUGVyR3JvdXAgPSBwYXJhbXMuc2xpZGVzUGVyR3JvdXBBdXRvID8gc2xpZGVzUGVyVmlldyA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cDtcbiAgbGV0IGxvb3BlZFNsaWRlcyA9IHNsaWRlc1Blckdyb3VwO1xuICBpZiAobG9vcGVkU2xpZGVzICUgc2xpZGVzUGVyR3JvdXAgIT09IDApIHtcbiAgICBsb29wZWRTbGlkZXMgKz0gc2xpZGVzUGVyR3JvdXAgLSBsb29wZWRTbGlkZXMgJSBzbGlkZXNQZXJHcm91cDtcbiAgfVxuICBsb29wZWRTbGlkZXMgKz0gcGFyYW1zLmxvb3BBZGRpdGlvbmFsU2xpZGVzO1xuICBzd2lwZXIubG9vcGVkU2xpZGVzID0gbG9vcGVkU2xpZGVzO1xuICBjb25zdCBncmlkRW5hYmxlZCA9IHN3aXBlci5ncmlkICYmIHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxO1xuICBpZiAoc2xpZGVzLmxlbmd0aCA8IHNsaWRlc1BlclZpZXcgKyBsb29wZWRTbGlkZXMpIHtcbiAgICBzaG93V2FybmluZygnU3dpcGVyIExvb3AgV2FybmluZzogVGhlIG51bWJlciBvZiBzbGlkZXMgaXMgbm90IGVub3VnaCBmb3IgbG9vcCBtb2RlLCBpdCB3aWxsIGJlIGRpc2FibGVkIGFuZCBub3QgZnVuY3Rpb24gcHJvcGVybHkuIFlvdSBuZWVkIHRvIGFkZCBtb3JlIHNsaWRlcyAob3IgbWFrZSBkdXBsaWNhdGVzKSBvciBsb3dlciB0aGUgdmFsdWVzIG9mIHNsaWRlc1BlclZpZXcgYW5kIHNsaWRlc1Blckdyb3VwIHBhcmFtZXRlcnMnKTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAncm93Jykge1xuICAgIHNob3dXYXJuaW5nKCdTd2lwZXIgTG9vcCBXYXJuaW5nOiBMb29wIG1vZGUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBncmlkLmZpbGwgPSBgcm93YCcpO1xuICB9XG4gIGNvbnN0IHByZXBlbmRTbGlkZXNJbmRleGVzID0gW107XG4gIGNvbnN0IGFwcGVuZFNsaWRlc0luZGV4ZXMgPSBbXTtcbiAgbGV0IGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICBpZiAodHlwZW9mIGFjdGl2ZVNsaWRlSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgYWN0aXZlU2xpZGVJbmRleCA9IHN3aXBlci5nZXRTbGlkZUluZGV4KHNsaWRlcy5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKSlbMF0pO1xuICB9IGVsc2Uge1xuICAgIGFjdGl2ZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleDtcbiAgfVxuICBjb25zdCBpc05leHQgPSBkaXJlY3Rpb24gPT09ICduZXh0JyB8fCAhZGlyZWN0aW9uO1xuICBjb25zdCBpc1ByZXYgPSBkaXJlY3Rpb24gPT09ICdwcmV2JyB8fCAhZGlyZWN0aW9uO1xuICBsZXQgc2xpZGVzUHJlcGVuZGVkID0gMDtcbiAgbGV0IHNsaWRlc0FwcGVuZGVkID0gMDtcbiAgY29uc3QgY29scyA9IGdyaWRFbmFibGVkID8gTWF0aC5jZWlsKHNsaWRlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzKSA6IHNsaWRlcy5sZW5ndGg7XG4gIGNvbnN0IGFjdGl2ZUNvbEluZGV4ID0gZ3JpZEVuYWJsZWQgPyBzbGlkZXNbYWN0aXZlU2xpZGVJbmRleF0uY29sdW1uIDogYWN0aXZlU2xpZGVJbmRleDtcbiAgY29uc3QgYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgPSBhY3RpdmVDb2xJbmRleCArIChjZW50ZXJlZFNsaWRlcyAmJiB0eXBlb2Ygc2V0VHJhbnNsYXRlID09PSAndW5kZWZpbmVkJyA/IC1zbGlkZXNQZXJWaWV3IC8gMiArIDAuNSA6IDApO1xuICAvLyBwcmVwZW5kIGxhc3Qgc2xpZGVzIGJlZm9yZSBzdGFydFxuICBpZiAoYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQgPCBsb29wZWRTbGlkZXMpIHtcbiAgICBzbGlkZXNQcmVwZW5kZWQgPSBNYXRoLm1heChsb29wZWRTbGlkZXMgLSBhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCwgc2xpZGVzUGVyR3JvdXApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9vcGVkU2xpZGVzIC0gYWN0aXZlQ29sSW5kZXhXaXRoU2hpZnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgaW5kZXggPSBpIC0gTWF0aC5mbG9vcihpIC8gY29scykgKiBjb2xzO1xuICAgICAgaWYgKGdyaWRFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IGNvbEluZGV4VG9QcmVwZW5kID0gY29scyAtIGluZGV4IC0gMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNsaWRlcy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgIGlmIChzbGlkZXNbaV0uY29sdW1uID09PSBjb2xJbmRleFRvUHJlcGVuZCkgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgLy8gICBpZiAoc2xpZGUuY29sdW1uID09PSBjb2xJbmRleFRvUHJlcGVuZCkgcHJlcGVuZFNsaWRlc0luZGV4ZXMucHVzaChzbGlkZUluZGV4KTtcbiAgICAgICAgLy8gfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmVwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKGNvbHMgLSBpbmRleCAtIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCArIHNsaWRlc1BlclZpZXcgPiBjb2xzIC0gbG9vcGVkU2xpZGVzKSB7XG4gICAgc2xpZGVzQXBwZW5kZWQgPSBNYXRoLm1heChhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCAtIChjb2xzIC0gbG9vcGVkU2xpZGVzICogMiksIHNsaWRlc1Blckdyb3VwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0FwcGVuZGVkOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAtIE1hdGguZmxvb3IoaSAvIGNvbHMpICogY29scztcbiAgICAgIGlmIChncmlkRW5hYmxlZCkge1xuICAgICAgICBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIHNsaWRlSW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoc2xpZGUuY29sdW1uID09PSBpbmRleCkgYXBwZW5kU2xpZGVzSW5kZXhlcy5wdXNoKHNsaWRlSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcGVuZFNsaWRlc0luZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICB9KTtcbiAgaWYgKGlzUHJldikge1xuICAgIHByZXBlbmRTbGlkZXNJbmRleGVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IHRydWU7XG4gICAgICBzbGlkZXNFbC5wcmVwZW5kKHNsaWRlc1tpbmRleF0pO1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIGlmIChpc05leHQpIHtcbiAgICBhcHBlbmRTbGlkZXNJbmRleGVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgc2xpZGVzW2luZGV4XS5zd2lwZXJMb29wTW92ZURPTSA9IHRydWU7XG4gICAgICBzbGlkZXNFbC5hcHBlbmQoc2xpZGVzW2luZGV4XSk7XG4gICAgICBzbGlkZXNbaW5kZXhdLnN3aXBlckxvb3BNb3ZlRE9NID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgc3dpcGVyLnJlY2FsY1NsaWRlcygpO1xuICBpZiAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJykge1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgfSBlbHNlIGlmIChncmlkRW5hYmxlZCAmJiAocHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc1ByZXYgfHwgYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggPiAwICYmIGlzTmV4dCkpIHtcbiAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBzbGlkZUluZGV4KSA9PiB7XG4gICAgICBzd2lwZXIuZ3JpZC51cGRhdGVTbGlkZShzbGlkZUluZGV4LCBzbGlkZSwgc3dpcGVyLnNsaWRlcyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuICB9XG4gIGlmIChzbGlkZVRvKSB7XG4gICAgaWYgKHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aCA+IDAgJiYgaXNQcmV2KSB7XG4gICAgICBpZiAodHlwZW9mIHNsaWRlUmVhbEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleF07XG4gICAgICAgIGNvbnN0IG5ld1NsaWRlVHJhbnNsYXRlID0gc3dpcGVyLnNsaWRlc0dyaWRbYWN0aXZlSW5kZXggKyBzbGlkZXNQcmVwZW5kZWRdO1xuICAgICAgICBjb25zdCBkaWZmID0gbmV3U2xpZGVUcmFuc2xhdGUgLSBjdXJyZW50U2xpZGVUcmFuc2xhdGU7XG4gICAgICAgIGlmIChieU1vdXNld2hlZWwpIHtcbiAgICAgICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKHN3aXBlci50cmFuc2xhdGUgLSBkaWZmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhhY3RpdmVJbmRleCArIE1hdGguY2VpbChzbGlkZXNQcmVwZW5kZWQpLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYgKHNldFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgLSBkaWZmO1xuICAgICAgICAgICAgc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YS5jdXJyZW50VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZXRUcmFuc2xhdGUpIHtcbiAgICAgICAgICBjb25zdCBzaGlmdCA9IGdyaWRFbmFibGVkID8gcHJlcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoIC8gcGFyYW1zLmdyaWQucm93cyA6IHByZXBlbmRTbGlkZXNJbmRleGVzLmxlbmd0aDtcbiAgICAgICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuYWN0aXZlSW5kZXggKyBzaGlmdCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFwcGVuZFNsaWRlc0luZGV4ZXMubGVuZ3RoID4gMCAmJiBpc05leHQpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2xpZGVSZWFsSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZVRyYW5zbGF0ZSA9IHN3aXBlci5zbGlkZXNHcmlkW2FjdGl2ZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV3U2xpZGVUcmFuc2xhdGUgPSBzd2lwZXIuc2xpZGVzR3JpZFthY3RpdmVJbmRleCAtIHNsaWRlc0FwcGVuZGVkXTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG5ld1NsaWRlVHJhbnNsYXRlIC0gY3VycmVudFNsaWRlVHJhbnNsYXRlO1xuICAgICAgICBpZiAoYnlNb3VzZXdoZWVsKSB7XG4gICAgICAgICAgc3dpcGVyLnNldFRyYW5zbGF0ZShzd2lwZXIudHJhbnNsYXRlIC0gZGlmZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3dpcGVyLnNsaWRlVG8oYWN0aXZlSW5kZXggLSBzbGlkZXNBcHBlbmRlZCwgMCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgIGlmIChzZXRUcmFuc2xhdGUpIHtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuc3RhcnRUcmFuc2xhdGUgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhLnN0YXJ0VHJhbnNsYXRlIC0gZGlmZjtcbiAgICAgICAgICAgIHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGEuY3VycmVudFRyYW5zbGF0ZSAtIGRpZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzaGlmdCA9IGdyaWRFbmFibGVkID8gYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGggLyBwYXJhbXMuZ3JpZC5yb3dzIDogYXBwZW5kU2xpZGVzSW5kZXhlcy5sZW5ndGg7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCAtIHNoaWZ0LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IGFsbG93U2xpZGVQcmV2O1xuICBzd2lwZXIuYWxsb3dTbGlkZU5leHQgPSBhbGxvd1NsaWRlTmV4dDtcbiAgaWYgKHN3aXBlci5jb250cm9sbGVyICYmIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wgJiYgIWJ5Q29udHJvbGxlcikge1xuICAgIGNvbnN0IGxvb3BQYXJhbXMgPSB7XG4gICAgICBzbGlkZVJlYWxJbmRleCxcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIHNldFRyYW5zbGF0ZSxcbiAgICAgIGFjdGl2ZVNsaWRlSW5kZXgsXG4gICAgICBieUNvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wpKSB7XG4gICAgICBzd2lwZXIuY29udHJvbGxlci5jb250cm9sLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGlmICghYy5kZXN0cm95ZWQgJiYgYy5wYXJhbXMubG9vcCkgYy5sb29wRml4KHtcbiAgICAgICAgICAuLi5sb29wUGFyYW1zLFxuICAgICAgICAgIHNsaWRlVG86IGMucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gc2xpZGVUbyA6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuY29udHJvbGxlci5jb250cm9sIGluc3RhbmNlb2Ygc3dpcGVyLmNvbnN0cnVjdG9yICYmIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wucGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wubG9vcEZpeCh7XG4gICAgICAgIC4uLmxvb3BQYXJhbXMsXG4gICAgICAgIHNsaWRlVG86IHN3aXBlci5jb250cm9sbGVyLmNvbnRyb2wucGFyYW1zLnNsaWRlc1BlclZpZXcgPT09IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gc2xpZGVUbyA6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2xvb3BGaXgnKTtcbn1cblxuZnVuY3Rpb24gbG9vcERlc3Ryb3koKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXMsXG4gICAgc2xpZGVzRWxcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFwYXJhbXMubG9vcCB8fCBzd2lwZXIudmlydHVhbCAmJiBzd2lwZXIucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCkgcmV0dXJuO1xuICBzd2lwZXIucmVjYWxjU2xpZGVzKCk7XG4gIGNvbnN0IG5ld1NsaWRlc09yZGVyID0gW107XG4gIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHR5cGVvZiBzbGlkZUVsLnN3aXBlclNsaWRlSW5kZXggPT09ICd1bmRlZmluZWQnID8gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxIDogc2xpZGVFbC5zd2lwZXJTbGlkZUluZGV4O1xuICAgIG5ld1NsaWRlc09yZGVyW2luZGV4XSA9IHNsaWRlRWw7XG4gIH0pO1xuICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgc2xpZGVFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gIH0pO1xuICBuZXdTbGlkZXNPcmRlci5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgIHNsaWRlc0VsLmFwcGVuZChzbGlkZUVsKTtcbiAgfSk7XG4gIHN3aXBlci5yZWNhbGNTbGlkZXMoKTtcbiAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLnJlYWxJbmRleCwgMCk7XG59XG5cbnZhciBsb29wID0ge1xuICBsb29wQ3JlYXRlLFxuICBsb29wRml4LFxuICBsb29wRGVzdHJveVxufTtcblxuZnVuY3Rpb24gc2V0R3JhYkN1cnNvcihtb3ZpbmcpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgaWYgKCFzd2lwZXIucGFyYW1zLnNpbXVsYXRlVG91Y2ggfHwgc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHN3aXBlci5pc0xvY2tlZCB8fCBzd2lwZXIucGFyYW1zLmNzc01vZGUpIHJldHVybjtcbiAgY29uc3QgZWwgPSBzd2lwZXIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID09PSAnY29udGFpbmVyJyA/IHN3aXBlci5lbCA6IHN3aXBlci53cmFwcGVyRWw7XG4gIGlmIChzd2lwZXIuaXNFbGVtZW50KSB7XG4gICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSB0cnVlO1xuICB9XG4gIGVsLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcbiAgZWwuc3R5bGUuY3Vyc29yID0gbW92aW5nID8gJ2dyYWJiaW5nJyA6ICdncmFiJztcbiAgaWYgKHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgc3dpcGVyLl9fcHJldmVudE9ic2VydmVyX18gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnNldEdyYWJDdXJzb3IoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmlzTG9ja2VkIHx8IHN3aXBlci5wYXJhbXMuY3NzTW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHN3aXBlci5fX3ByZXZlbnRPYnNlcnZlcl9fID0gdHJ1ZTtcbiAgfVxuICBzd2lwZXJbc3dpcGVyLnBhcmFtcy50b3VjaEV2ZW50c1RhcmdldCA9PT0gJ2NvbnRhaW5lcicgPyAnZWwnIDogJ3dyYXBwZXJFbCddLnN0eWxlLmN1cnNvciA9ICcnO1xuICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBzd2lwZXIuX19wcmV2ZW50T2JzZXJ2ZXJfXyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG5cbnZhciBncmFiQ3Vyc29yID0ge1xuICBzZXRHcmFiQ3Vyc29yLFxuICB1bnNldEdyYWJDdXJzb3Jcbn07XG5cbi8vIE1vZGlmaWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQ1MjA1NTQvY3VzdG9tLWVsZW1lbnQtZ2V0cm9vdG5vZGUtY2xvc2VzdC1mdW5jdGlvbi1jcm9zc2luZy1tdWx0aXBsZS1wYXJlbnQtc2hhZG93ZFxuZnVuY3Rpb24gY2xvc2VzdEVsZW1lbnQoc2VsZWN0b3IsIGJhc2UpIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSB0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIF9fY2xvc2VzdEZyb20oZWwpIHtcbiAgICBpZiAoIWVsIHx8IGVsID09PSBnZXREb2N1bWVudCgpIHx8IGVsID09PSBnZXRXaW5kb3coKSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKGVsLmFzc2lnbmVkU2xvdCkgZWwgPSBlbC5hc3NpZ25lZFNsb3Q7XG4gICAgY29uc3QgZm91bmQgPSBlbC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgICBpZiAoIWZvdW5kICYmICFlbC5nZXRSb290Tm9kZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZCB8fCBfX2Nsb3Nlc3RGcm9tKGVsLmdldFJvb3ROb2RlKCkuaG9zdCk7XG4gIH1cbiAgcmV0dXJuIF9fY2xvc2VzdEZyb20oYmFzZSk7XG59XG5mdW5jdGlvbiBwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZXZlbnQsIHN0YXJ0WCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3Qge1xuICAgIHBhcmFtc1xuICB9ID0gc3dpcGVyO1xuICBjb25zdCBlZGdlU3dpcGVEZXRlY3Rpb24gPSBwYXJhbXMuZWRnZVN3aXBlRGV0ZWN0aW9uO1xuICBjb25zdCBlZGdlU3dpcGVUaHJlc2hvbGQgPSBwYXJhbXMuZWRnZVN3aXBlVGhyZXNob2xkO1xuICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uICYmIChzdGFydFggPD0gZWRnZVN3aXBlVGhyZXNob2xkIHx8IHN0YXJ0WCA+PSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVkZ2VTd2lwZVRocmVzaG9sZCkpIHtcbiAgICBpZiAoZWRnZVN3aXBlRGV0ZWN0aW9uID09PSAncHJldmVudCcpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgY29uc3QgZGF0YSA9IHN3aXBlci50b3VjaEV2ZW50c0RhdGE7XG4gIGlmIChlLnR5cGUgPT09ICdwb2ludGVyZG93bicpIHtcbiAgICBpZiAoZGF0YS5wb2ludGVySWQgIT09IG51bGwgJiYgZGF0YS5wb2ludGVySWQgIT09IGUucG9pbnRlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRhdGEucG9pbnRlcklkID0gZS5wb2ludGVySWQ7XG4gIH0gZWxzZSBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgIGRhdGEudG91Y2hJZCA9IGUudGFyZ2V0VG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICB9XG4gIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgIC8vIGRvbid0IHByb2NlZWQgdG91Y2ggZXZlbnRcbiAgICBwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZSwgZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIGVuYWJsZWRcbiAgfSA9IHN3aXBlcjtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIGlmICghcGFyYW1zLnNpbXVsYXRlVG91Y2ggJiYgZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBpZiAoc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghc3dpcGVyLmFuaW1hdGluZyAmJiBwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMubG9vcCkge1xuICAgIHN3aXBlci5sb29wRml4KCk7XG4gIH1cbiAgbGV0IHRhcmdldEVsID0gZS50YXJnZXQ7XG4gIGlmIChwYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPT09ICd3cmFwcGVyJykge1xuICAgIGlmICghc3dpcGVyLndyYXBwZXJFbC5jb250YWlucyh0YXJnZXRFbCkpIHJldHVybjtcbiAgfVxuICBpZiAoJ3doaWNoJyBpbiBlICYmIGUud2hpY2ggPT09IDMpIHJldHVybjtcbiAgaWYgKCdidXR0b24nIGluIGUgJiYgZS5idXR0b24gPiAwKSByZXR1cm47XG4gIGlmIChkYXRhLmlzVG91Y2hlZCAmJiBkYXRhLmlzTW92ZWQpIHJldHVybjtcblxuICAvLyBjaGFuZ2UgdGFyZ2V0IGVsIGZvciBzaGFkb3cgcm9vdCBjb21wb25lbnRcbiAgY29uc3Qgc3dpcGluZ0NsYXNzSGFzVmFsdWUgPSAhIXBhcmFtcy5ub1N3aXBpbmdDbGFzcyAmJiBwYXJhbXMubm9Td2lwaW5nQ2xhc3MgIT09ICcnO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgY29uc3QgZXZlbnRQYXRoID0gZS5jb21wb3NlZFBhdGggPyBlLmNvbXBvc2VkUGF0aCgpIDogZS5wYXRoO1xuICBpZiAoc3dpcGluZ0NsYXNzSGFzVmFsdWUgJiYgZS50YXJnZXQgJiYgZS50YXJnZXQuc2hhZG93Um9vdCAmJiBldmVudFBhdGgpIHtcbiAgICB0YXJnZXRFbCA9IGV2ZW50UGF0aFswXTtcbiAgfVxuICBjb25zdCBub1N3aXBpbmdTZWxlY3RvciA9IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA/IHBhcmFtcy5ub1N3aXBpbmdTZWxlY3RvciA6IGAuJHtwYXJhbXMubm9Td2lwaW5nQ2xhc3N9YDtcbiAgY29uc3QgaXNUYXJnZXRTaGFkb3cgPSAhIShlLnRhcmdldCAmJiBlLnRhcmdldC5zaGFkb3dSb290KTtcblxuICAvLyB1c2UgY2xvc2VzdEVsZW1lbnQgZm9yIHNoYWRvdyByb290IGVsZW1lbnQgdG8gZ2V0IHRoZSBhY3R1YWwgY2xvc2VzdCBmb3IgbmVzdGVkIHNoYWRvdyByb290IGVsZW1lbnRcbiAgaWYgKHBhcmFtcy5ub1N3aXBpbmcgJiYgKGlzVGFyZ2V0U2hhZG93ID8gY2xvc2VzdEVsZW1lbnQobm9Td2lwaW5nU2VsZWN0b3IsIHRhcmdldEVsKSA6IHRhcmdldEVsLmNsb3Nlc3Qobm9Td2lwaW5nU2VsZWN0b3IpKSkge1xuICAgIHN3aXBlci5hbGxvd0NsaWNrID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5zd2lwZUhhbmRsZXIpIHtcbiAgICBpZiAoIXRhcmdldEVsLmNsb3Nlc3QocGFyYW1zLnN3aXBlSGFuZGxlcikpIHJldHVybjtcbiAgfVxuICB0b3VjaGVzLmN1cnJlbnRYID0gZS5wYWdlWDtcbiAgdG91Y2hlcy5jdXJyZW50WSA9IGUucGFnZVk7XG4gIGNvbnN0IHN0YXJ0WCA9IHRvdWNoZXMuY3VycmVudFg7XG4gIGNvbnN0IHN0YXJ0WSA9IHRvdWNoZXMuY3VycmVudFk7XG5cbiAgLy8gRG8gTk9UIHN0YXJ0IGlmIGlPUyBlZGdlIHN3aXBlIGlzIGRldGVjdGVkLiBPdGhlcndpc2UgaU9TIGFwcCBjYW5ub3Qgc3dpcGUtdG8tZ28tYmFjayBhbnltb3JlXG5cbiAgaWYgKCFwcmV2ZW50RWRnZVN3aXBlKHN3aXBlciwgZSwgc3RhcnRYKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICBpc1RvdWNoZWQ6IHRydWUsXG4gICAgaXNNb3ZlZDogZmFsc2UsXG4gICAgYWxsb3dUb3VjaENhbGxiYWNrczogdHJ1ZSxcbiAgICBpc1Njcm9sbGluZzogdW5kZWZpbmVkLFxuICAgIHN0YXJ0TW92aW5nOiB1bmRlZmluZWRcbiAgfSk7XG4gIHRvdWNoZXMuc3RhcnRYID0gc3RhcnRYO1xuICB0b3VjaGVzLnN0YXJ0WSA9IHN0YXJ0WTtcbiAgZGF0YS50b3VjaFN0YXJ0VGltZSA9IG5vdygpO1xuICBzd2lwZXIuYWxsb3dDbGljayA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci5zd2lwZURpcmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IGZhbHNlO1xuICBsZXQgcHJldmVudERlZmF1bHQgPSB0cnVlO1xuICBpZiAodGFyZ2V0RWwubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgIHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG4gICAgaWYgKHRhcmdldEVsLm5vZGVOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRhcmdldEVsKSB7XG4gICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gIH1cbiAgY29uc3Qgc2hvdWxkUHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdCAmJiBzd2lwZXIuYWxsb3dUb3VjaE1vdmUgJiYgcGFyYW1zLnRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDtcbiAgaWYgKChwYXJhbXMudG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQgfHwgc2hvdWxkUHJldmVudERlZmF1bHQpICYmICF0YXJnZXRFbC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICBpZiAocGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkICYmIHN3aXBlci5mcmVlTW9kZSAmJiBzd2lwZXIuYW5pbWF0aW5nICYmICFwYXJhbXMuY3NzTW9kZSkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoU3RhcnQoKTtcbiAgfVxuICBzd2lwZXIuZW1pdCgndG91Y2hTdGFydCcsIGUpO1xufVxuXG5mdW5jdGlvbiBvblRvdWNoTW92ZShldmVudCkge1xuICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IGRhdGEgPSBzd2lwZXIudG91Y2hFdmVudHNEYXRhO1xuICBjb25zdCB7XG4gICAgcGFyYW1zLFxuICAgIHRvdWNoZXMsXG4gICAgcnRsVHJhbnNsYXRlOiBydGwsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykgcmV0dXJuO1xuICBsZXQgZSA9IGV2ZW50O1xuICBpZiAoZS5vcmlnaW5hbEV2ZW50KSBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICBpZiAoZS50eXBlID09PSAncG9pbnRlcm1vdmUnKSB7XG4gICAgaWYgKGRhdGEudG91Y2hJZCAhPT0gbnVsbCkgcmV0dXJuOyAvLyByZXR1cm4gZnJvbSBwb2ludGVyIGlmIHdlIHVzZSB0b3VjaFxuICAgIGNvbnN0IGlkID0gZS5wb2ludGVySWQ7XG4gICAgaWYgKGlkICE9PSBkYXRhLnBvaW50ZXJJZCkgcmV0dXJuO1xuICB9XG4gIGxldCB0YXJnZXRUb3VjaDtcbiAgaWYgKGUudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICB0YXJnZXRUb3VjaCA9IFsuLi5lLmNoYW5nZWRUb3VjaGVzXS5maWx0ZXIodCA9PiB0LmlkZW50aWZpZXIgPT09IGRhdGEudG91Y2hJZClbMF07XG4gICAgaWYgKCF0YXJnZXRUb3VjaCB8fCB0YXJnZXRUb3VjaC5pZGVudGlmaWVyICE9PSBkYXRhLnRvdWNoSWQpIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXRUb3VjaCA9IGU7XG4gIH1cbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgIGlmIChkYXRhLnN0YXJ0TW92aW5nICYmIGRhdGEuaXNTY3JvbGxpbmcpIHtcbiAgICAgIHN3aXBlci5lbWl0KCd0b3VjaE1vdmVPcHBvc2l0ZScsIGUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGFnZVggPSB0YXJnZXRUb3VjaC5wYWdlWDtcbiAgY29uc3QgcGFnZVkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgaWYgKGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIpIHtcbiAgICB0b3VjaGVzLnN0YXJ0WCA9IHBhZ2VYO1xuICAgIHRvdWNoZXMuc3RhcnRZID0gcGFnZVk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghc3dpcGVyLmFsbG93VG91Y2hNb3ZlKSB7XG4gICAgaWYgKCFlLnRhcmdldC5tYXRjaGVzKGRhdGEuZm9jdXNhYmxlRWxlbWVudHMpKSB7XG4gICAgICBzd2lwZXIuYWxsb3dDbGljayA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGF0YS5pc1RvdWNoZWQpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odG91Y2hlcywge1xuICAgICAgICBzdGFydFg6IHBhZ2VYLFxuICAgICAgICBzdGFydFk6IHBhZ2VZLFxuICAgICAgICBjdXJyZW50WDogcGFnZVgsXG4gICAgICAgIGN1cnJlbnRZOiBwYWdlWVxuICAgICAgfSk7XG4gICAgICBkYXRhLnRvdWNoU3RhcnRUaW1lID0gbm93KCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAocGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMgJiYgIXBhcmFtcy5sb29wKSB7XG4gICAgaWYgKHN3aXBlci5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgIC8vIFZlcnRpY2FsXG4gICAgICBpZiAocGFnZVkgPCB0b3VjaGVzLnN0YXJ0WSAmJiBzd2lwZXIudHJhbnNsYXRlIDw9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSB8fCBwYWdlWSA+IHRvdWNoZXMuc3RhcnRZICYmIHN3aXBlci50cmFuc2xhdGUgPj0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSB7XG4gICAgICAgIGRhdGEuaXNUb3VjaGVkID0gZmFsc2U7XG4gICAgICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYWdlWCA8IHRvdWNoZXMuc3RhcnRYICYmIHN3aXBlci50cmFuc2xhdGUgPD0gc3dpcGVyLm1heFRyYW5zbGF0ZSgpIHx8IHBhZ2VYID4gdG91Y2hlcy5zdGFydFggJiYgc3dpcGVyLnRyYW5zbGF0ZSA+PSBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZS50YXJnZXQubWF0Y2hlcyhkYXRhLmZvY3VzYWJsZUVsZW1lbnRzKSkge1xuICAgICAgZGF0YS5pc01vdmVkID0gdHJ1ZTtcbiAgICAgIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hNb3ZlJywgZSk7XG4gIH1cbiAgdG91Y2hlcy5wcmV2aW91c1ggPSB0b3VjaGVzLmN1cnJlbnRYO1xuICB0b3VjaGVzLnByZXZpb3VzWSA9IHRvdWNoZXMuY3VycmVudFk7XG4gIHRvdWNoZXMuY3VycmVudFggPSBwYWdlWDtcbiAgdG91Y2hlcy5jdXJyZW50WSA9IHBhZ2VZO1xuICBjb25zdCBkaWZmWCA9IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnN0YXJ0WDtcbiAgY29uc3QgZGlmZlkgPSB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5zdGFydFk7XG4gIGlmIChzd2lwZXIucGFyYW1zLnRocmVzaG9sZCAmJiBNYXRoLnNxcnQoZGlmZlggKiogMiArIGRpZmZZICoqIDIpIDwgc3dpcGVyLnBhcmFtcy50aHJlc2hvbGQpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBkYXRhLmlzU2Nyb2xsaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgIGxldCB0b3VjaEFuZ2xlO1xuICAgIGlmIChzd2lwZXIuaXNIb3Jpem9udGFsKCkgJiYgdG91Y2hlcy5jdXJyZW50WSA9PT0gdG91Y2hlcy5zdGFydFkgfHwgc3dpcGVyLmlzVmVydGljYWwoKSAmJiB0b3VjaGVzLmN1cnJlbnRYID09PSB0b3VjaGVzLnN0YXJ0WCkge1xuICAgICAgZGF0YS5pc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmIChkaWZmWCAqIGRpZmZYICsgZGlmZlkgKiBkaWZmWSA+PSAyNSkge1xuICAgICAgICB0b3VjaEFuZ2xlID0gTWF0aC5hdGFuMihNYXRoLmFicyhkaWZmWSksIE1hdGguYWJzKGRpZmZYKSkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICBkYXRhLmlzU2Nyb2xsaW5nID0gc3dpcGVyLmlzSG9yaXpvbnRhbCgpID8gdG91Y2hBbmdsZSA+IHBhcmFtcy50b3VjaEFuZ2xlIDogOTAgLSB0b3VjaEFuZ2xlID4gcGFyYW1zLnRvdWNoQW5nbGU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nKSB7XG4gICAgc3dpcGVyLmVtaXQoJ3RvdWNoTW92ZU9wcG9zaXRlJywgZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBkYXRhLnN0YXJ0TW92aW5nID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0b3VjaGVzLmN1cnJlbnRYICE9PSB0b3VjaGVzLnN0YXJ0WCB8fCB0b3VjaGVzLmN1cnJlbnRZICE9PSB0b3VjaGVzLnN0YXJ0WSkge1xuICAgICAgZGF0YS5zdGFydE1vdmluZyA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChkYXRhLmlzU2Nyb2xsaW5nIHx8IGUudHlwZSA9PT0gJ3RvdWNobW92ZScgJiYgZGF0YS5wcmV2ZW50VG91Y2hNb3ZlRnJvbVBvaW50ZXJNb3ZlKSB7XG4gICAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFkYXRhLnN0YXJ0TW92aW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN3aXBlci5hbGxvd0NsaWNrID0gZmFsc2U7XG4gIGlmICghcGFyYW1zLmNzc01vZGUgJiYgZS5jYW5jZWxhYmxlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGlmIChwYXJhbXMudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uICYmICFwYXJhbXMubmVzdGVkKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICBsZXQgZGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IGRpZmZYIDogZGlmZlk7XG4gIGxldCB0b3VjaGVzRGlmZiA9IHN3aXBlci5pc0hvcml6b250YWwoKSA/IHRvdWNoZXMuY3VycmVudFggLSB0b3VjaGVzLnByZXZpb3VzWCA6IHRvdWNoZXMuY3VycmVudFkgLSB0b3VjaGVzLnByZXZpb3VzWTtcbiAgaWYgKHBhcmFtcy5vbmVXYXlNb3ZlbWVudCkge1xuICAgIGRpZmYgPSBNYXRoLmFicyhkaWZmKSAqIChydGwgPyAxIDogLTEpO1xuICAgIHRvdWNoZXNEaWZmID0gTWF0aC5hYnModG91Y2hlc0RpZmYpICogKHJ0bCA/IDEgOiAtMSk7XG4gIH1cbiAgdG91Y2hlcy5kaWZmID0gZGlmZjtcbiAgZGlmZiAqPSBwYXJhbXMudG91Y2hSYXRpbztcbiAgaWYgKHJ0bCkge1xuICAgIGRpZmYgPSAtZGlmZjtcbiAgICB0b3VjaGVzRGlmZiA9IC10b3VjaGVzRGlmZjtcbiAgfVxuICBjb25zdCBwcmV2VG91Y2hlc0RpcmVjdGlvbiA9IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uO1xuICBzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPSBkaWZmID4gMCA/ICdwcmV2JyA6ICduZXh0JztcbiAgc3dpcGVyLnRvdWNoZXNEaXJlY3Rpb24gPSB0b3VjaGVzRGlmZiA+IDAgPyAncHJldicgOiAnbmV4dCc7XG4gIGNvbnN0IGlzTG9vcCA9IHN3aXBlci5wYXJhbXMubG9vcCAmJiAhcGFyYW1zLmNzc01vZGU7XG4gIGNvbnN0IGFsbG93TG9vcEZpeCA9IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uID09PSAnbmV4dCcgJiYgc3dpcGVyLmFsbG93U2xpZGVOZXh0IHx8IHN3aXBlci50b3VjaGVzRGlyZWN0aW9uID09PSAncHJldicgJiYgc3dpcGVyLmFsbG93U2xpZGVQcmV2O1xuICBpZiAoIWRhdGEuaXNNb3ZlZCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4KSB7XG4gICAgICBzd2lwZXIubG9vcEZpeCh7XG4gICAgICAgIGRpcmVjdGlvbjogc3dpcGVyLnN3aXBlRGlyZWN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gICAgZGF0YS5zdGFydFRyYW5zbGF0ZSA9IHN3aXBlci5nZXRUcmFuc2xhdGUoKTtcbiAgICBzd2lwZXIuc2V0VHJhbnNpdGlvbigwKTtcbiAgICBpZiAoc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgY29uc3QgZXZ0ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCgndHJhbnNpdGlvbmVuZCcsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgYnlTd2lwZXJUb3VjaE1vdmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzd2lwZXIud3JhcHBlckVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG4gICAgZGF0YS5hbGxvd01vbWVudHVtQm91bmNlID0gZmFsc2U7XG4gICAgLy8gR3JhYiBDdXJzb3JcbiAgICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgKHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSB8fCBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPT09IHRydWUpKSB7XG4gICAgICBzd2lwZXIuc2V0R3JhYkN1cnNvcih0cnVlKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ3NsaWRlckZpcnN0TW92ZScsIGUpO1xuICB9XG4gIGxldCBsb29wRml4ZWQ7XG4gIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBpZiAoZGF0YS5pc01vdmVkICYmIGRhdGEuYWxsb3dUaHJlc2hvbGRNb3ZlICYmIHByZXZUb3VjaGVzRGlyZWN0aW9uICE9PSBzd2lwZXIudG91Y2hlc0RpcmVjdGlvbiAmJiBpc0xvb3AgJiYgYWxsb3dMb29wRml4ICYmIE1hdGguYWJzKGRpZmYpID49IDEpIHtcbiAgICBPYmplY3QuYXNzaWduKHRvdWNoZXMsIHtcbiAgICAgIHN0YXJ0WDogcGFnZVgsXG4gICAgICBzdGFydFk6IHBhZ2VZLFxuICAgICAgY3VycmVudFg6IHBhZ2VYLFxuICAgICAgY3VycmVudFk6IHBhZ2VZLFxuICAgICAgc3RhcnRUcmFuc2xhdGU6IGRhdGEuY3VycmVudFRyYW5zbGF0ZVxuICAgIH0pO1xuICAgIGRhdGEubG9vcFN3YXBSZXNldCA9IHRydWU7XG4gICAgZGF0YS5zdGFydFRyYW5zbGF0ZSA9IGRhdGEuY3VycmVudFRyYW5zbGF0ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NsaWRlck1vdmUnLCBlKTtcbiAgZGF0YS5pc01vdmVkID0gdHJ1ZTtcbiAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGlmZiArIGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIGxldCBkaXNhYmxlUGFyZW50U3dpcGVyID0gdHJ1ZTtcbiAgbGV0IHJlc2lzdGFuY2VSYXRpbyA9IHBhcmFtcy5yZXNpc3RhbmNlUmF0aW87XG4gIGlmIChwYXJhbXMudG91Y2hSZWxlYXNlT25FZGdlcykge1xuICAgIHJlc2lzdGFuY2VSYXRpbyA9IDA7XG4gIH1cbiAgaWYgKGRpZmYgPiAwKSB7XG4gICAgaWYgKGlzTG9vcCAmJiBhbGxvd0xvb3BGaXggJiYgIWxvb3BGaXhlZCAmJiBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSAmJiBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiAocGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gc3dpcGVyLm1pblRyYW5zbGF0ZSgpIC0gc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtzd2lwZXIuYWN0aXZlSW5kZXggKyAxXSA6IHN3aXBlci5taW5UcmFuc2xhdGUoKSkpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHJldicsXG4gICAgICAgIHNldFRyYW5zbGF0ZTogdHJ1ZSxcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPiBzd2lwZXIubWluVHJhbnNsYXRlKCkpIHtcbiAgICAgIGRpc2FibGVQYXJlbnRTd2lwZXIgPSBmYWxzZTtcbiAgICAgIGlmIChwYXJhbXMucmVzaXN0YW5jZSkge1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBzd2lwZXIubWluVHJhbnNsYXRlKCkgLSAxICsgKC1zd2lwZXIubWluVHJhbnNsYXRlKCkgKyBkYXRhLnN0YXJ0VHJhbnNsYXRlICsgZGlmZikgKiogcmVzaXN0YW5jZVJhdGlvO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChkaWZmIDwgMCkge1xuICAgIGlmIChpc0xvb3AgJiYgYWxsb3dMb29wRml4ICYmICFsb29wRml4ZWQgJiYgZGF0YS5hbGxvd1RocmVzaG9sZE1vdmUgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgKHBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IHN3aXBlci5tYXhUcmFuc2xhdGUoKSArIHN3aXBlci5zbGlkZXNTaXplc0dyaWRbc3dpcGVyLnNsaWRlc1NpemVzR3JpZC5sZW5ndGggLSAxXSA6IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkpIHtcbiAgICAgIHN3aXBlci5sb29wRml4KHtcbiAgICAgICAgZGlyZWN0aW9uOiAnbmV4dCcsXG4gICAgICAgIHNldFRyYW5zbGF0ZTogdHJ1ZSxcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleDogc3dpcGVyLnNsaWRlcy5sZW5ndGggLSAocGFyYW1zLnNsaWRlc1BlclZpZXcgPT09ICdhdXRvJyA/IHN3aXBlci5zbGlkZXNQZXJWaWV3RHluYW1pYygpIDogTWF0aC5jZWlsKHBhcnNlRmxvYXQocGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSkpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY3VycmVudFRyYW5zbGF0ZSA8IHN3aXBlci5tYXhUcmFuc2xhdGUoKSkge1xuICAgICAgZGlzYWJsZVBhcmVudFN3aXBlciA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5yZXNpc3RhbmNlKSB7XG4gICAgICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKSArIDEgLSAoc3dpcGVyLm1heFRyYW5zbGF0ZSgpIC0gZGF0YS5zdGFydFRyYW5zbGF0ZSAtIGRpZmYpICoqIHJlc2lzdGFuY2VSYXRpbztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRpc2FibGVQYXJlbnRTd2lwZXIpIHtcbiAgICBlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIERpcmVjdGlvbnMgbG9ja3NcbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZU5leHQgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlIDwgZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAncHJldicgJiYgZGF0YS5jdXJyZW50VHJhbnNsYXRlID4gZGF0YS5zdGFydFRyYW5zbGF0ZSkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cbiAgaWYgKCFzd2lwZXIuYWxsb3dTbGlkZVByZXYgJiYgIXN3aXBlci5hbGxvd1NsaWRlTmV4dCkge1xuICAgIGRhdGEuY3VycmVudFRyYW5zbGF0ZSA9IGRhdGEuc3RhcnRUcmFuc2xhdGU7XG4gIH1cblxuICAvLyBUaHJlc2hvbGRcbiAgaWYgKHBhcmFtcy50aHJlc2hvbGQgPiAwKSB7XG4gICAgaWYgKE1hdGguYWJzKGRpZmYpID4gcGFyYW1zLnRocmVzaG9sZCB8fCBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgaWYgKCFkYXRhLmFsbG93VGhyZXNob2xkTW92ZSkge1xuICAgICAgICBkYXRhLmFsbG93VGhyZXNob2xkTW92ZSA9IHRydWU7XG4gICAgICAgIHRvdWNoZXMuc3RhcnRYID0gdG91Y2hlcy5jdXJyZW50WDtcbiAgICAgICAgdG91Y2hlcy5zdGFydFkgPSB0b3VjaGVzLmN1cnJlbnRZO1xuICAgICAgICBkYXRhLmN1cnJlbnRUcmFuc2xhdGUgPSBkYXRhLnN0YXJ0VHJhbnNsYXRlO1xuICAgICAgICB0b3VjaGVzLmRpZmYgPSBzd2lwZXIuaXNIb3Jpem9udGFsKCkgPyB0b3VjaGVzLmN1cnJlbnRYIC0gdG91Y2hlcy5zdGFydFggOiB0b3VjaGVzLmN1cnJlbnRZIC0gdG91Y2hlcy5zdGFydFk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YS5jdXJyZW50VHJhbnNsYXRlID0gZGF0YS5zdGFydFRyYW5zbGF0ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKCFwYXJhbXMuZm9sbG93RmluZ2VyIHx8IHBhcmFtcy5jc3NNb2RlKSByZXR1cm47XG5cbiAgLy8gVXBkYXRlIGFjdGl2ZSBpbmRleCBpbiBmcmVlIG1vZGVcbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCAmJiBzd2lwZXIuZnJlZU1vZGUgfHwgcGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MpIHtcbiAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzQ2xhc3NlcygpO1xuICB9XG4gIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgc3dpcGVyLmZyZWVNb2RlKSB7XG4gICAgc3dpcGVyLmZyZWVNb2RlLm9uVG91Y2hNb3ZlKCk7XG4gIH1cbiAgLy8gVXBkYXRlIHByb2dyZXNzXG4gIHN3aXBlci51cGRhdGVQcm9ncmVzcyhkYXRhLmN1cnJlbnRUcmFuc2xhdGUpO1xuICAvLyBVcGRhdGUgdHJhbnNsYXRlXG4gIHN3aXBlci5zZXRUcmFuc2xhdGUoZGF0YS5jdXJyZW50VHJhbnNsYXRlKTtcbn1cblxuZnVuY3Rpb24gb25Ub3VjaEVuZChldmVudCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCBkYXRhID0gc3dpcGVyLnRvdWNoRXZlbnRzRGF0YTtcbiAgbGV0IGUgPSBldmVudDtcbiAgaWYgKGUub3JpZ2luYWxFdmVudCkgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgbGV0IHRhcmdldFRvdWNoO1xuICBjb25zdCBpc1RvdWNoRXZlbnQgPSBlLnR5cGUgPT09ICd0b3VjaGVuZCcgfHwgZS50eXBlID09PSAndG91Y2hjYW5jZWwnO1xuICBpZiAoIWlzVG91Y2hFdmVudCkge1xuICAgIGlmIChkYXRhLnRvdWNoSWQgIT09IG51bGwpIHJldHVybjsgLy8gcmV0dXJuIGZyb20gcG9pbnRlciBpZiB3ZSB1c2UgdG91Y2hcbiAgICBpZiAoZS5wb2ludGVySWQgIT09IGRhdGEucG9pbnRlcklkKSByZXR1cm47XG4gICAgdGFyZ2V0VG91Y2ggPSBlO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldFRvdWNoID0gWy4uLmUuY2hhbmdlZFRvdWNoZXNdLmZpbHRlcih0ID0+IHQuaWRlbnRpZmllciA9PT0gZGF0YS50b3VjaElkKVswXTtcbiAgICBpZiAoIXRhcmdldFRvdWNoIHx8IHRhcmdldFRvdWNoLmlkZW50aWZpZXIgIT09IGRhdGEudG91Y2hJZCkgcmV0dXJuO1xuICB9XG4gIGlmIChbJ3BvaW50ZXJjYW5jZWwnLCAncG9pbnRlcm91dCcsICdwb2ludGVybGVhdmUnLCAnY29udGV4dG1lbnUnXS5pbmNsdWRlcyhlLnR5cGUpKSB7XG4gICAgY29uc3QgcHJvY2VlZCA9IFsncG9pbnRlcmNhbmNlbCcsICdjb250ZXh0bWVudSddLmluY2x1ZGVzKGUudHlwZSkgJiYgKHN3aXBlci5icm93c2VyLmlzU2FmYXJpIHx8IHN3aXBlci5icm93c2VyLmlzV2ViVmlldyk7XG4gICAgaWYgKCFwcm9jZWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGRhdGEucG9pbnRlcklkID0gbnVsbDtcbiAgZGF0YS50b3VjaElkID0gbnVsbDtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICB0b3VjaGVzLFxuICAgIHJ0bFRyYW5zbGF0ZTogcnRsLFxuICAgIHNsaWRlc0dyaWQsXG4gICAgZW5hYmxlZFxuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFwYXJhbXMuc2ltdWxhdGVUb3VjaCAmJiBlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSByZXR1cm47XG4gIGlmIChkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MpIHtcbiAgICBzd2lwZXIuZW1pdCgndG91Y2hFbmQnLCBlKTtcbiAgfVxuICBkYXRhLmFsbG93VG91Y2hDYWxsYmFja3MgPSBmYWxzZTtcbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCkge1xuICAgIGlmIChkYXRhLmlzTW92ZWQgJiYgcGFyYW1zLmdyYWJDdXJzb3IpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgICB9XG4gICAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gICAgZGF0YS5zdGFydE1vdmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFJldHVybiBHcmFiIEN1cnNvclxuICBpZiAocGFyYW1zLmdyYWJDdXJzb3IgJiYgZGF0YS5pc01vdmVkICYmIGRhdGEuaXNUb3VjaGVkICYmIChzd2lwZXIuYWxsb3dTbGlkZU5leHQgPT09IHRydWUgfHwgc3dpcGVyLmFsbG93U2xpZGVQcmV2ID09PSB0cnVlKSkge1xuICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKGZhbHNlKTtcbiAgfVxuXG4gIC8vIFRpbWUgZGlmZlxuICBjb25zdCB0b3VjaEVuZFRpbWUgPSBub3coKTtcbiAgY29uc3QgdGltZURpZmYgPSB0b3VjaEVuZFRpbWUgLSBkYXRhLnRvdWNoU3RhcnRUaW1lO1xuXG4gIC8vIFRhcCwgZG91YmxlVGFwLCBDbGlja1xuICBpZiAoc3dpcGVyLmFsbG93Q2xpY2spIHtcbiAgICBjb25zdCBwYXRoVHJlZSA9IGUucGF0aCB8fCBlLmNvbXBvc2VkUGF0aCAmJiBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHN3aXBlci51cGRhdGVDbGlja2VkU2xpZGUocGF0aFRyZWUgJiYgcGF0aFRyZWVbMF0gfHwgZS50YXJnZXQsIHBhdGhUcmVlKTtcbiAgICBzd2lwZXIuZW1pdCgndGFwIGNsaWNrJywgZSk7XG4gICAgaWYgKHRpbWVEaWZmIDwgMzAwICYmIHRvdWNoRW5kVGltZSAtIGRhdGEubGFzdENsaWNrVGltZSA8IDMwMCkge1xuICAgICAgc3dpcGVyLmVtaXQoJ2RvdWJsZVRhcCBkb3VibGVDbGljaycsIGUpO1xuICAgIH1cbiAgfVxuICBkYXRhLmxhc3RDbGlja1RpbWUgPSBub3coKTtcbiAgbmV4dFRpY2soKCkgPT4ge1xuICAgIGlmICghc3dpcGVyLmRlc3Ryb3llZCkgc3dpcGVyLmFsbG93Q2xpY2sgPSB0cnVlO1xuICB9KTtcbiAgaWYgKCFkYXRhLmlzVG91Y2hlZCB8fCAhZGF0YS5pc01vdmVkIHx8ICFzd2lwZXIuc3dpcGVEaXJlY3Rpb24gfHwgdG91Y2hlcy5kaWZmID09PSAwICYmICFkYXRhLmxvb3BTd2FwUmVzZXQgfHwgZGF0YS5jdXJyZW50VHJhbnNsYXRlID09PSBkYXRhLnN0YXJ0VHJhbnNsYXRlICYmICFkYXRhLmxvb3BTd2FwUmVzZXQpIHtcbiAgICBkYXRhLmlzVG91Y2hlZCA9IGZhbHNlO1xuICAgIGRhdGEuaXNNb3ZlZCA9IGZhbHNlO1xuICAgIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgZGF0YS5pc1RvdWNoZWQgPSBmYWxzZTtcbiAgZGF0YS5pc01vdmVkID0gZmFsc2U7XG4gIGRhdGEuc3RhcnRNb3ZpbmcgPSBmYWxzZTtcbiAgbGV0IGN1cnJlbnRQb3M7XG4gIGlmIChwYXJhbXMuZm9sbG93RmluZ2VyKSB7XG4gICAgY3VycmVudFBvcyA9IHJ0bCA/IHN3aXBlci50cmFuc2xhdGUgOiAtc3dpcGVyLnRyYW5zbGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50UG9zID0gLWRhdGEuY3VycmVudFRyYW5zbGF0ZTtcbiAgfVxuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHBhcmFtcy5mcmVlTW9kZSAmJiBwYXJhbXMuZnJlZU1vZGUuZW5hYmxlZCkge1xuICAgIHN3aXBlci5mcmVlTW9kZS5vblRvdWNoRW5kKHtcbiAgICAgIGN1cnJlbnRQb3NcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGaW5kIGN1cnJlbnQgc2xpZGVcbiAgY29uc3Qgc3dpcGVUb0xhc3QgPSBjdXJyZW50UG9zID49IC1zd2lwZXIubWF4VHJhbnNsYXRlKCkgJiYgIXN3aXBlci5wYXJhbXMubG9vcDtcbiAgbGV0IHN0b3BJbmRleCA9IDA7XG4gIGxldCBncm91cFNpemUgPSBzd2lwZXIuc2xpZGVzU2l6ZXNHcmlkWzBdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlc0dyaWQubGVuZ3RoOyBpICs9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwID8gMSA6IHBhcmFtcy5zbGlkZXNQZXJHcm91cCkge1xuICAgIGNvbnN0IGluY3JlbWVudCA9IGkgPCBwYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwIC0gMSA/IDEgOiBwYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG4gICAgaWYgKHR5cGVvZiBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHN3aXBlVG9MYXN0IHx8IGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSAmJiBjdXJyZW50UG9zIDwgc2xpZGVzR3JpZFtpICsgaW5jcmVtZW50XSkge1xuICAgICAgICBzdG9wSW5kZXggPSBpO1xuICAgICAgICBncm91cFNpemUgPSBzbGlkZXNHcmlkW2kgKyBpbmNyZW1lbnRdIC0gc2xpZGVzR3JpZFtpXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN3aXBlVG9MYXN0IHx8IGN1cnJlbnRQb3MgPj0gc2xpZGVzR3JpZFtpXSkge1xuICAgICAgc3RvcEluZGV4ID0gaTtcbiAgICAgIGdyb3VwU2l6ZSA9IHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAxXSAtIHNsaWRlc0dyaWRbc2xpZGVzR3JpZC5sZW5ndGggLSAyXTtcbiAgICB9XG4gIH1cbiAgbGV0IHJld2luZEZpcnN0SW5kZXggPSBudWxsO1xuICBsZXQgcmV3aW5kTGFzdEluZGV4ID0gbnVsbDtcbiAgaWYgKHBhcmFtcy5yZXdpbmQpIHtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nKSB7XG4gICAgICByZXdpbmRMYXN0SW5kZXggPSBwYXJhbXMudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkICYmIHN3aXBlci52aXJ0dWFsID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzLmxlbmd0aCAtIDEgOiBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIGlmIChzd2lwZXIuaXNFbmQpIHtcbiAgICAgIHJld2luZEZpcnN0SW5kZXggPSAwO1xuICAgIH1cbiAgfVxuICAvLyBGaW5kIGN1cnJlbnQgc2xpZGUgc2l6ZVxuICBjb25zdCByYXRpbyA9IChjdXJyZW50UG9zIC0gc2xpZGVzR3JpZFtzdG9wSW5kZXhdKSAvIGdyb3VwU2l6ZTtcbiAgY29uc3QgaW5jcmVtZW50ID0gc3RvcEluZGV4IDwgcGFyYW1zLnNsaWRlc1Blckdyb3VwU2tpcCAtIDEgPyAxIDogcGFyYW1zLnNsaWRlc1Blckdyb3VwO1xuICBpZiAodGltZURpZmYgPiBwYXJhbXMubG9uZ1N3aXBlc01zKSB7XG4gICAgLy8gTG9uZyB0b3VjaGVzXG4gICAgaWYgKCFwYXJhbXMubG9uZ1N3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ25leHQnKSB7XG4gICAgICBpZiAocmF0aW8gPj0gcGFyYW1zLmxvbmdTd2lwZXNSYXRpbykgc3dpcGVyLnNsaWRlVG8ocGFyYW1zLnJld2luZCAmJiBzd2lwZXIuaXNFbmQgPyByZXdpbmRGaXJzdEluZGV4IDogc3RvcEluZGV4ICsgaW5jcmVtZW50KTtlbHNlIHN3aXBlci5zbGlkZVRvKHN0b3BJbmRleCk7XG4gICAgfVxuICAgIGlmIChzd2lwZXIuc3dpcGVEaXJlY3Rpb24gPT09ICdwcmV2Jykge1xuICAgICAgaWYgKHJhdGlvID4gMSAtIHBhcmFtcy5sb25nU3dpcGVzUmF0aW8pIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8oc3RvcEluZGV4ICsgaW5jcmVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAocmV3aW5kTGFzdEluZGV4ICE9PSBudWxsICYmIHJhdGlvIDwgMCAmJiBNYXRoLmFicyhyYXRpbykgPiBwYXJhbXMubG9uZ1N3aXBlc1JhdGlvKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZExhc3RJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTaG9ydCBzd2lwZXNcbiAgICBpZiAoIXBhcmFtcy5zaG9ydFN3aXBlcykge1xuICAgICAgc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXNOYXZCdXR0b25UYXJnZXQgPSBzd2lwZXIubmF2aWdhdGlvbiAmJiAoZS50YXJnZXQgPT09IHN3aXBlci5uYXZpZ2F0aW9uLm5leHRFbCB8fCBlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ucHJldkVsKTtcbiAgICBpZiAoIWlzTmF2QnV0dG9uVGFyZ2V0KSB7XG4gICAgICBpZiAoc3dpcGVyLnN3aXBlRGlyZWN0aW9uID09PSAnbmV4dCcpIHtcbiAgICAgICAgc3dpcGVyLnNsaWRlVG8ocmV3aW5kRmlyc3RJbmRleCAhPT0gbnVsbCA/IHJld2luZEZpcnN0SW5kZXggOiBzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHN3aXBlci5zd2lwZURpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XG4gICAgICAgIHN3aXBlci5zbGlkZVRvKHJld2luZExhc3RJbmRleCAhPT0gbnVsbCA/IHJld2luZExhc3RJbmRleCA6IHN0b3BJbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gc3dpcGVyLm5hdmlnYXRpb24ubmV4dEVsKSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXggKyBpbmNyZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzdG9wSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBlbFxuICB9ID0gc3dpcGVyO1xuICBpZiAoZWwgJiYgZWwub2Zmc2V0V2lkdGggPT09IDApIHJldHVybjtcblxuICAvLyBCcmVha3BvaW50c1xuICBpZiAocGFyYW1zLmJyZWFrcG9pbnRzKSB7XG4gICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgfVxuXG4gIC8vIFNhdmUgbG9ja3NcbiAgY29uc3Qge1xuICAgIGFsbG93U2xpZGVOZXh0LFxuICAgIGFsbG93U2xpZGVQcmV2LFxuICAgIHNuYXBHcmlkXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGlzVmlydHVhbCA9IHN3aXBlci52aXJ0dWFsICYmIHN3aXBlci5wYXJhbXMudmlydHVhbC5lbmFibGVkO1xuXG4gIC8vIERpc2FibGUgbG9ja3Mgb24gcmVzaXplXG4gIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9IHRydWU7XG4gIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9IHRydWU7XG4gIHN3aXBlci51cGRhdGVTaXplKCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgY29uc3QgaXNWaXJ0dWFsTG9vcCA9IGlzVmlydHVhbCAmJiBwYXJhbXMubG9vcDtcbiAgaWYgKChwYXJhbXMuc2xpZGVzUGVyVmlldyA9PT0gJ2F1dG8nIHx8IHBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkgJiYgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIuaXNCZWdpbm5pbmcgJiYgIXN3aXBlci5wYXJhbXMuY2VudGVyZWRTbGlkZXMgJiYgIWlzVmlydHVhbExvb3ApIHtcbiAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDEsIDAsIGZhbHNlLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wICYmICFpc1ZpcnR1YWwpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvTG9vcChzd2lwZXIucmVhbEluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5hY3RpdmVJbmRleCwgMCwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgfVxuICBpZiAoc3dpcGVyLmF1dG9wbGF5ICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICBjbGVhclRpbWVvdXQoc3dpcGVyLmF1dG9wbGF5LnJlc2l6ZVRpbWVvdXQpO1xuICAgIHN3aXBlci5hdXRvcGxheS5yZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoc3dpcGVyLmF1dG9wbGF5ICYmIHN3aXBlci5hdXRvcGxheS5ydW5uaW5nICYmIHN3aXBlci5hdXRvcGxheS5wYXVzZWQpIHtcbiAgICAgICAgc3dpcGVyLmF1dG9wbGF5LnJlc3VtZSgpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gIH1cbiAgLy8gUmV0dXJuIGxvY2tzIGFmdGVyIHJlc2l6ZVxuICBzd2lwZXIuYWxsb3dTbGlkZVByZXYgPSBhbGxvd1NsaWRlUHJldjtcbiAgc3dpcGVyLmFsbG93U2xpZGVOZXh0ID0gYWxsb3dTbGlkZU5leHQ7XG4gIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc25hcEdyaWQgIT09IHN3aXBlci5zbmFwR3JpZCkge1xuICAgIHN3aXBlci5jaGVja092ZXJmbG93KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25DbGljayhlKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGlmICghc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgaWYgKCFzd2lwZXIuYWxsb3dDbGljaykge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLnByZXZlbnRDbGlja3MpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24gJiYgc3dpcGVyLmFuaW1hdGluZykge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgd3JhcHBlckVsLFxuICAgIHJ0bFRyYW5zbGF0ZSxcbiAgICBlbmFibGVkXG4gIH0gPSBzd2lwZXI7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBzd2lwZXIucHJldmlvdXNUcmFuc2xhdGUgPSBzd2lwZXIudHJhbnNsYXRlO1xuICBpZiAoc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgc3dpcGVyLnRyYW5zbGF0ZSA9IC13cmFwcGVyRWwuc2Nyb2xsTGVmdDtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXIudHJhbnNsYXRlID0gLXdyYXBwZXJFbC5zY3JvbGxUb3A7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGlmIChzd2lwZXIudHJhbnNsYXRlID09PSAwKSBzd2lwZXIudHJhbnNsYXRlID0gMDtcbiAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gIGxldCBuZXdQcm9ncmVzcztcbiAgY29uc3QgdHJhbnNsYXRlc0RpZmYgPSBzd2lwZXIubWF4VHJhbnNsYXRlKCkgLSBzd2lwZXIubWluVHJhbnNsYXRlKCk7XG4gIGlmICh0cmFuc2xhdGVzRGlmZiA9PT0gMCkge1xuICAgIG5ld1Byb2dyZXNzID0gMDtcbiAgfSBlbHNlIHtcbiAgICBuZXdQcm9ncmVzcyA9IChzd2lwZXIudHJhbnNsYXRlIC0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpKSAvIHRyYW5zbGF0ZXNEaWZmO1xuICB9XG4gIGlmIChuZXdQcm9ncmVzcyAhPT0gc3dpcGVyLnByb2dyZXNzKSB7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKHJ0bFRyYW5zbGF0ZSA/IC1zd2lwZXIudHJhbnNsYXRlIDogc3dpcGVyLnRyYW5zbGF0ZSk7XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ3NldFRyYW5zbGF0ZScsIHN3aXBlci50cmFuc2xhdGUsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gb25Mb2FkKGUpIHtcbiAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBlLnRhcmdldCk7XG4gIGlmIChzd2lwZXIucGFyYW1zLmNzc01vZGUgfHwgc3dpcGVyLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSAnYXV0bycgJiYgIXN3aXBlci5wYXJhbXMuYXV0b0hlaWdodCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzd2lwZXIudXBkYXRlKCk7XG59XG5cbmZ1bmN0aW9uIG9uRG9jdW1lbnRUb3VjaFN0YXJ0KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBpZiAoc3dpcGVyLmRvY3VtZW50VG91Y2hIYW5kbGVyUHJvY2VlZGVkKSByZXR1cm47XG4gIHN3aXBlci5kb2N1bWVudFRvdWNoSGFuZGxlclByb2NlZWRlZCA9IHRydWU7XG4gIGlmIChzd2lwZXIucGFyYW1zLnRvdWNoUmVsZWFzZU9uRWRnZXMpIHtcbiAgICBzd2lwZXIuZWwuc3R5bGUudG91Y2hBY3Rpb24gPSAnYXV0byc7XG4gIH1cbn1cblxuY29uc3QgZXZlbnRzID0gKHN3aXBlciwgbWV0aG9kKSA9PiB7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgY29uc3Qge1xuICAgIHBhcmFtcyxcbiAgICBlbCxcbiAgICB3cmFwcGVyRWwsXG4gICAgZGV2aWNlXG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGNhcHR1cmUgPSAhIXBhcmFtcy5uZXN0ZWQ7XG4gIGNvbnN0IGRvbU1ldGhvZCA9IG1ldGhvZCA9PT0gJ29uJyA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcbiAgY29uc3Qgc3dpcGVyTWV0aG9kID0gbWV0aG9kO1xuICBpZiAoIWVsIHx8IHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJldHVybjtcblxuICAvLyBUb3VjaCBFdmVudHNcbiAgZG9jdW1lbnRbZG9tTWV0aG9kXSgndG91Y2hzdGFydCcsIHN3aXBlci5vbkRvY3VtZW50VG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIGNhcHR1cmVcbiAgfSk7XG4gIGVsW2RvbU1ldGhvZF0oJ3RvdWNoc3RhcnQnLCBzd2lwZXIub25Ub3VjaFN0YXJ0LCB7XG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7XG4gIGVsW2RvbU1ldGhvZF0oJ3BvaW50ZXJkb3duJywgc3dpcGVyLm9uVG91Y2hTdGFydCwge1xuICAgIHBhc3NpdmU6IGZhbHNlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCd0b3VjaG1vdmUnLCBzd2lwZXIub25Ub3VjaE1vdmUsIHtcbiAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICBjYXB0dXJlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVybW92ZScsIHN3aXBlci5vblRvdWNoTW92ZSwge1xuICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIGNhcHR1cmVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoZW5kJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVydXAnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3BvaW50ZXJjYW5jZWwnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ3RvdWNoY2FuY2VsJywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVyb3V0Jywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuICBkb2N1bWVudFtkb21NZXRob2RdKCdwb2ludGVybGVhdmUnLCBzd2lwZXIub25Ub3VjaEVuZCwge1xuICAgIHBhc3NpdmU6IHRydWVcbiAgfSk7XG4gIGRvY3VtZW50W2RvbU1ldGhvZF0oJ2NvbnRleHRtZW51Jywgc3dpcGVyLm9uVG91Y2hFbmQsIHtcbiAgICBwYXNzaXZlOiB0cnVlXG4gIH0pO1xuXG4gIC8vIFByZXZlbnQgTGlua3MgQ2xpY2tzXG4gIGlmIChwYXJhbXMucHJldmVudENsaWNrcyB8fCBwYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSB7XG4gICAgZWxbZG9tTWV0aG9kXSgnY2xpY2snLCBzd2lwZXIub25DbGljaywgdHJ1ZSk7XG4gIH1cbiAgaWYgKHBhcmFtcy5jc3NNb2RlKSB7XG4gICAgd3JhcHBlckVsW2RvbU1ldGhvZF0oJ3Njcm9sbCcsIHN3aXBlci5vblNjcm9sbCk7XG4gIH1cblxuICAvLyBSZXNpemUgaGFuZGxlclxuICBpZiAocGFyYW1zLnVwZGF0ZU9uV2luZG93UmVzaXplKSB7XG4gICAgc3dpcGVyW3N3aXBlck1ldGhvZF0oZGV2aWNlLmlvcyB8fCBkZXZpY2UuYW5kcm9pZCA/ICdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2Ugb2JzZXJ2ZXJVcGRhdGUnIDogJ3Jlc2l6ZSBvYnNlcnZlclVwZGF0ZScsIG9uUmVzaXplLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzd2lwZXJbc3dpcGVyTWV0aG9kXSgnb2JzZXJ2ZXJVcGRhdGUnLCBvblJlc2l6ZSwgdHJ1ZSk7XG4gIH1cblxuICAvLyBJbWFnZXMgbG9hZGVyXG4gIGVsW2RvbU1ldGhvZF0oJ2xvYWQnLCBzd2lwZXIub25Mb2FkLCB7XG4gICAgY2FwdHVyZTogdHJ1ZVxuICB9KTtcbn07XG5mdW5jdGlvbiBhdHRhY2hFdmVudHMoKSB7XG4gIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gIGNvbnN0IHtcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgc3dpcGVyLm9uVG91Y2hTdGFydCA9IG9uVG91Y2hTdGFydC5iaW5kKHN3aXBlcik7XG4gIHN3aXBlci5vblRvdWNoTW92ZSA9IG9uVG91Y2hNb3ZlLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uVG91Y2hFbmQgPSBvblRvdWNoRW5kLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uRG9jdW1lbnRUb3VjaFN0YXJ0ID0gb25Eb2N1bWVudFRvdWNoU3RhcnQuYmluZChzd2lwZXIpO1xuICBpZiAocGFyYW1zLmNzc01vZGUpIHtcbiAgICBzd2lwZXIub25TY3JvbGwgPSBvblNjcm9sbC5iaW5kKHN3aXBlcik7XG4gIH1cbiAgc3dpcGVyLm9uQ2xpY2sgPSBvbkNsaWNrLmJpbmQoc3dpcGVyKTtcbiAgc3dpcGVyLm9uTG9hZCA9IG9uTG9hZC5iaW5kKHN3aXBlcik7XG4gIGV2ZW50cyhzd2lwZXIsICdvbicpO1xufVxuZnVuY3Rpb24gZGV0YWNoRXZlbnRzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBldmVudHMoc3dpcGVyLCAnb2ZmJyk7XG59XG52YXIgZXZlbnRzJDEgPSB7XG4gIGF0dGFjaEV2ZW50cyxcbiAgZGV0YWNoRXZlbnRzXG59O1xuXG5jb25zdCBpc0dyaWRFbmFibGVkID0gKHN3aXBlciwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBzd2lwZXIuZ3JpZCAmJiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMTtcbn07XG5mdW5jdGlvbiBzZXRCcmVha3BvaW50KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgcmVhbEluZGV4LFxuICAgIGluaXRpYWxpemVkLFxuICAgIHBhcmFtcyxcbiAgICBlbFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBicmVha3BvaW50cyA9IHBhcmFtcy5icmVha3BvaW50cztcbiAgaWYgKCFicmVha3BvaW50cyB8fCBicmVha3BvaW50cyAmJiBPYmplY3Qua2V5cyhicmVha3BvaW50cykubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgLy8gR2V0IGJyZWFrcG9pbnQgZm9yIHdpbmRvdyB3aWR0aCBhbmQgdXBkYXRlIHBhcmFtZXRlcnNcbiAgY29uc3QgYnJlYWtwb2ludCA9IHN3aXBlci5nZXRCcmVha3BvaW50KGJyZWFrcG9pbnRzLCBzd2lwZXIucGFyYW1zLmJyZWFrcG9pbnRzQmFzZSwgc3dpcGVyLmVsKTtcbiAgaWYgKCFicmVha3BvaW50IHx8IHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9PT0gYnJlYWtwb2ludCkgcmV0dXJuO1xuICBjb25zdCBicmVha3BvaW50T25seVBhcmFtcyA9IGJyZWFrcG9pbnQgaW4gYnJlYWtwb2ludHMgPyBicmVha3BvaW50c1ticmVha3BvaW50XSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgYnJlYWtwb2ludFBhcmFtcyA9IGJyZWFrcG9pbnRPbmx5UGFyYW1zIHx8IHN3aXBlci5vcmlnaW5hbFBhcmFtcztcbiAgY29uc3Qgd2FzTXVsdGlSb3cgPSBpc0dyaWRFbmFibGVkKHN3aXBlciwgcGFyYW1zKTtcbiAgY29uc3QgaXNNdWx0aVJvdyA9IGlzR3JpZEVuYWJsZWQoc3dpcGVyLCBicmVha3BvaW50UGFyYW1zKTtcbiAgY29uc3Qgd2FzR3JhYkN1cnNvciA9IHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcjtcbiAgY29uc3QgaXNHcmFiQ3Vyc29yID0gYnJlYWtwb2ludFBhcmFtcy5ncmFiQ3Vyc29yO1xuICBjb25zdCB3YXNFbmFibGVkID0gcGFyYW1zLmVuYWJsZWQ7XG4gIGlmICh3YXNNdWx0aVJvdyAmJiAhaXNNdWx0aVJvdykge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7cGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZGAsIGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWQtY29sdW1uYCk7XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gIH0gZWxzZSBpZiAoIXdhc011bHRpUm93ICYmIGlzTXVsdGlSb3cpIHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKGAke3BhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfWdyaWRgKTtcbiAgICBpZiAoYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgJiYgYnJlYWtwb2ludFBhcmFtcy5ncmlkLmZpbGwgPT09ICdjb2x1bW4nIHx8ICFicmVha3BvaW50UGFyYW1zLmdyaWQuZmlsbCAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJykge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChgJHtwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdENvbnRhaW5lckNsYXNzZXMoKTtcbiAgfVxuICBpZiAod2FzR3JhYkN1cnNvciAmJiAhaXNHcmFiQ3Vyc29yKSB7XG4gICAgc3dpcGVyLnVuc2V0R3JhYkN1cnNvcigpO1xuICB9IGVsc2UgaWYgKCF3YXNHcmFiQ3Vyc29yICYmIGlzR3JhYkN1cnNvcikge1xuICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gIH1cblxuICAvLyBUb2dnbGUgbmF2aWdhdGlvbiwgcGFnaW5hdGlvbiwgc2Nyb2xsYmFyXG4gIFsnbmF2aWdhdGlvbicsICdwYWdpbmF0aW9uJywgJ3Njcm9sbGJhciddLmZvckVhY2gocHJvcCA9PiB7XG4gICAgaWYgKHR5cGVvZiBicmVha3BvaW50UGFyYW1zW3Byb3BdID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGNvbnN0IHdhc01vZHVsZUVuYWJsZWQgPSBwYXJhbXNbcHJvcF0gJiYgcGFyYW1zW3Byb3BdLmVuYWJsZWQ7XG4gICAgY29uc3QgaXNNb2R1bGVFbmFibGVkID0gYnJlYWtwb2ludFBhcmFtc1twcm9wXSAmJiBicmVha3BvaW50UGFyYW1zW3Byb3BdLmVuYWJsZWQ7XG4gICAgaWYgKHdhc01vZHVsZUVuYWJsZWQgJiYgIWlzTW9kdWxlRW5hYmxlZCkge1xuICAgICAgc3dpcGVyW3Byb3BdLmRpc2FibGUoKTtcbiAgICB9XG4gICAgaWYgKCF3YXNNb2R1bGVFbmFibGVkICYmIGlzTW9kdWxlRW5hYmxlZCkge1xuICAgICAgc3dpcGVyW3Byb3BdLmVuYWJsZSgpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGRpcmVjdGlvbkNoYW5nZWQgPSBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAmJiBicmVha3BvaW50UGFyYW1zLmRpcmVjdGlvbiAhPT0gcGFyYW1zLmRpcmVjdGlvbjtcbiAgY29uc3QgbmVlZHNSZUxvb3AgPSBwYXJhbXMubG9vcCAmJiAoYnJlYWtwb2ludFBhcmFtcy5zbGlkZXNQZXJWaWV3ICE9PSBwYXJhbXMuc2xpZGVzUGVyVmlldyB8fCBkaXJlY3Rpb25DaGFuZ2VkKTtcbiAgY29uc3Qgd2FzTG9vcCA9IHBhcmFtcy5sb29wO1xuICBpZiAoZGlyZWN0aW9uQ2hhbmdlZCAmJiBpbml0aWFsaXplZCkge1xuICAgIHN3aXBlci5jaGFuZ2VEaXJlY3Rpb24oKTtcbiAgfVxuICBleHRlbmQoc3dpcGVyLnBhcmFtcywgYnJlYWtwb2ludFBhcmFtcyk7XG4gIGNvbnN0IGlzRW5hYmxlZCA9IHN3aXBlci5wYXJhbXMuZW5hYmxlZDtcbiAgY29uc3QgaGFzTG9vcCA9IHN3aXBlci5wYXJhbXMubG9vcDtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIsIHtcbiAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICBhbGxvd1NsaWRlTmV4dDogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxcbiAgICBhbGxvd1NsaWRlUHJldjogc3dpcGVyLnBhcmFtcy5hbGxvd1NsaWRlUHJldlxuICB9KTtcbiAgaWYgKHdhc0VuYWJsZWQgJiYgIWlzRW5hYmxlZCkge1xuICAgIHN3aXBlci5kaXNhYmxlKCk7XG4gIH0gZWxzZSBpZiAoIXdhc0VuYWJsZWQgJiYgaXNFbmFibGVkKSB7XG4gICAgc3dpcGVyLmVuYWJsZSgpO1xuICB9XG4gIHN3aXBlci5jdXJyZW50QnJlYWtwb2ludCA9IGJyZWFrcG9pbnQ7XG4gIHN3aXBlci5lbWl0KCdfYmVmb3JlQnJlYWtwb2ludCcsIGJyZWFrcG9pbnRQYXJhbXMpO1xuICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICBpZiAobmVlZHNSZUxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wRGVzdHJveSgpO1xuICAgICAgc3dpcGVyLmxvb3BDcmVhdGUocmVhbEluZGV4KTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICB9IGVsc2UgaWYgKCF3YXNMb29wICYmIGhhc0xvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKHJlYWxJbmRleCk7XG4gICAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgfSBlbHNlIGlmICh3YXNMb29wICYmICFoYXNMb29wKSB7XG4gICAgICBzd2lwZXIubG9vcERlc3Ryb3koKTtcbiAgICB9XG4gIH1cbiAgc3dpcGVyLmVtaXQoJ2JyZWFrcG9pbnQnLCBicmVha3BvaW50UGFyYW1zKTtcbn1cblxuZnVuY3Rpb24gZ2V0QnJlYWtwb2ludChicmVha3BvaW50cywgYmFzZSwgY29udGFpbmVyRWwpIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSAnd2luZG93JztcbiAgfVxuICBpZiAoIWJyZWFrcG9pbnRzIHx8IGJhc2UgPT09ICdjb250YWluZXInICYmICFjb250YWluZXJFbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgbGV0IGJyZWFrcG9pbnQgPSBmYWxzZTtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGN1cnJlbnRIZWlnaHQgPSBiYXNlID09PSAnd2luZG93JyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGNvbnRhaW5lckVsLmNsaWVudEhlaWdodDtcbiAgY29uc3QgcG9pbnRzID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLm1hcChwb2ludCA9PiB7XG4gICAgaWYgKHR5cGVvZiBwb2ludCA9PT0gJ3N0cmluZycgJiYgcG9pbnQuaW5kZXhPZignQCcpID09PSAwKSB7XG4gICAgICBjb25zdCBtaW5SYXRpbyA9IHBhcnNlRmxvYXQocG9pbnQuc3Vic3RyKDEpKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gY3VycmVudEhlaWdodCAqIG1pblJhdGlvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHBvaW50XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHBvaW50LFxuICAgICAgcG9pbnRcbiAgICB9O1xuICB9KTtcbiAgcG9pbnRzLnNvcnQoKGEsIGIpID0+IHBhcnNlSW50KGEudmFsdWUsIDEwKSAtIHBhcnNlSW50KGIudmFsdWUsIDEwKSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qge1xuICAgICAgcG9pbnQsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBwb2ludHNbaV07XG4gICAgaWYgKGJhc2UgPT09ICd3aW5kb3cnKSB7XG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoYChtaW4td2lkdGg6ICR7dmFsdWV9cHgpYCkubWF0Y2hlcykge1xuICAgICAgICBicmVha3BvaW50ID0gcG9pbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8PSBjb250YWluZXJFbC5jbGllbnRXaWR0aCkge1xuICAgICAgYnJlYWtwb2ludCA9IHBvaW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gYnJlYWtwb2ludCB8fCAnbWF4Jztcbn1cblxudmFyIGJyZWFrcG9pbnRzID0ge1xuICBzZXRCcmVha3BvaW50LFxuICBnZXRCcmVha3BvaW50XG59O1xuXG5mdW5jdGlvbiBwcmVwYXJlQ2xhc3NlcyhlbnRyaWVzLCBwcmVmaXgpIHtcbiAgY29uc3QgcmVzdWx0Q2xhc3NlcyA9IFtdO1xuICBlbnRyaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChjbGFzc05hbWVzID0+IHtcbiAgICAgICAgaWYgKGl0ZW1bY2xhc3NOYW1lc10pIHtcbiAgICAgICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgY2xhc3NOYW1lcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXN1bHRDbGFzc2VzLnB1c2gocHJlZml4ICsgaXRlbSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdENsYXNzZXM7XG59XG5mdW5jdGlvbiBhZGRDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lcyxcbiAgICBwYXJhbXMsXG4gICAgcnRsLFxuICAgIGVsLFxuICAgIGRldmljZVxuICB9ID0gc3dpcGVyO1xuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgY29uc3Qgc3VmZml4ZXMgPSBwcmVwYXJlQ2xhc3NlcyhbJ2luaXRpYWxpemVkJywgcGFyYW1zLmRpcmVjdGlvbiwge1xuICAgICdmcmVlLW1vZGUnOiBzd2lwZXIucGFyYW1zLmZyZWVNb2RlICYmIHBhcmFtcy5mcmVlTW9kZS5lbmFibGVkXG4gIH0sIHtcbiAgICAnYXV0b2hlaWdodCc6IHBhcmFtcy5hdXRvSGVpZ2h0XG4gIH0sIHtcbiAgICAncnRsJzogcnRsXG4gIH0sIHtcbiAgICAnZ3JpZCc6IHBhcmFtcy5ncmlkICYmIHBhcmFtcy5ncmlkLnJvd3MgPiAxXG4gIH0sIHtcbiAgICAnZ3JpZC1jb2x1bW4nOiBwYXJhbXMuZ3JpZCAmJiBwYXJhbXMuZ3JpZC5yb3dzID4gMSAmJiBwYXJhbXMuZ3JpZC5maWxsID09PSAnY29sdW1uJ1xuICB9LCB7XG4gICAgJ2FuZHJvaWQnOiBkZXZpY2UuYW5kcm9pZFxuICB9LCB7XG4gICAgJ2lvcyc6IGRldmljZS5pb3NcbiAgfSwge1xuICAgICdjc3MtbW9kZSc6IHBhcmFtcy5jc3NNb2RlXG4gIH0sIHtcbiAgICAnY2VudGVyZWQnOiBwYXJhbXMuY3NzTW9kZSAmJiBwYXJhbXMuY2VudGVyZWRTbGlkZXNcbiAgfSwge1xuICAgICd3YXRjaC1wcm9ncmVzcyc6IHBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzXG4gIH1dLCBwYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyk7XG4gIGNsYXNzTmFtZXMucHVzaCguLi5zdWZmaXhlcyk7XG4gIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XG4gIHN3aXBlci5lbWl0Q29udGFpbmVyQ2xhc3NlcygpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzc2VzKCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgZWwsXG4gICAgY2xhc3NOYW1lc1xuICB9ID0gc3dpcGVyO1xuICBpZiAoIWVsIHx8IHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJldHVybjtcbiAgZWwuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc05hbWVzKTtcbiAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG59XG5cbnZhciBjbGFzc2VzID0ge1xuICBhZGRDbGFzc2VzLFxuICByZW1vdmVDbGFzc2VzXG59O1xuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93KCkge1xuICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICBjb25zdCB7XG4gICAgaXNMb2NrZWQ6IHdhc0xvY2tlZCxcbiAgICBwYXJhbXNcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3Qge1xuICAgIHNsaWRlc09mZnNldEJlZm9yZVxuICB9ID0gcGFyYW1zO1xuICBpZiAoc2xpZGVzT2Zmc2V0QmVmb3JlKSB7XG4gICAgY29uc3QgbGFzdFNsaWRlSW5kZXggPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgbGFzdFNsaWRlUmlnaHRFZGdlID0gc3dpcGVyLnNsaWRlc0dyaWRbbGFzdFNsaWRlSW5kZXhdICsgc3dpcGVyLnNsaWRlc1NpemVzR3JpZFtsYXN0U2xpZGVJbmRleF0gKyBzbGlkZXNPZmZzZXRCZWZvcmUgKiAyO1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zaXplID4gbGFzdFNsaWRlUmlnaHRFZGdlO1xuICB9IGVsc2Uge1xuICAgIHN3aXBlci5pc0xvY2tlZCA9IHN3aXBlci5zbmFwR3JpZC5sZW5ndGggPT09IDE7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlTmV4dCA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlTmV4dCA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHBhcmFtcy5hbGxvd1NsaWRlUHJldiA9PT0gdHJ1ZSkge1xuICAgIHN3aXBlci5hbGxvd1NsaWRlUHJldiA9ICFzd2lwZXIuaXNMb2NrZWQ7XG4gIH1cbiAgaWYgKHdhc0xvY2tlZCAmJiB3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5pc0VuZCA9IGZhbHNlO1xuICB9XG4gIGlmICh3YXNMb2NrZWQgIT09IHN3aXBlci5pc0xvY2tlZCkge1xuICAgIHN3aXBlci5lbWl0KHN3aXBlci5pc0xvY2tlZCA/ICdsb2NrJyA6ICd1bmxvY2snKTtcbiAgfVxufVxudmFyIGNoZWNrT3ZlcmZsb3ckMSA9IHtcbiAgY2hlY2tPdmVyZmxvd1xufTtcblxudmFyIGRlZmF1bHRzID0ge1xuICBpbml0OiB0cnVlLFxuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgb25lV2F5TW92ZW1lbnQ6IGZhbHNlLFxuICBzd2lwZXJFbGVtZW50Tm9kZU5hbWU6ICdTV0lQRVItQ09OVEFJTkVSJyxcbiAgdG91Y2hFdmVudHNUYXJnZXQ6ICd3cmFwcGVyJyxcbiAgaW5pdGlhbFNsaWRlOiAwLFxuICBzcGVlZDogMzAwLFxuICBjc3NNb2RlOiBmYWxzZSxcbiAgdXBkYXRlT25XaW5kb3dSZXNpemU6IHRydWUsXG4gIHJlc2l6ZU9ic2VydmVyOiB0cnVlLFxuICBuZXN0ZWQ6IGZhbHNlLFxuICBjcmVhdGVFbGVtZW50czogZmFsc2UsXG4gIGV2ZW50c1ByZWZpeDogJ3N3aXBlcicsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIGZvY3VzYWJsZUVsZW1lbnRzOiAnaW5wdXQsIHNlbGVjdCwgb3B0aW9uLCB0ZXh0YXJlYSwgYnV0dG9uLCB2aWRlbywgbGFiZWwnLFxuICAvLyBPdmVycmlkZXNcbiAgd2lkdGg6IG51bGwsXG4gIGhlaWdodDogbnVsbCxcbiAgLy9cbiAgcHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uOiBmYWxzZSxcbiAgLy8gc3NyXG4gIHVzZXJBZ2VudDogbnVsbCxcbiAgdXJsOiBudWxsLFxuICAvLyBUbyBzdXBwb3J0IGlPUydzIHN3aXBlLXRvLWdvLWJhY2sgZ2VzdHVyZSAod2hlbiBiZWluZyB1c2VkIGluLWFwcCkuXG4gIGVkZ2VTd2lwZURldGVjdGlvbjogZmFsc2UsXG4gIGVkZ2VTd2lwZVRocmVzaG9sZDogMjAsXG4gIC8vIEF1dG9oZWlnaHRcbiAgYXV0b0hlaWdodDogZmFsc2UsXG4gIC8vIFNldCB3cmFwcGVyIHdpZHRoXG4gIHNldFdyYXBwZXJTaXplOiBmYWxzZSxcbiAgLy8gVmlydHVhbCBUcmFuc2xhdGVcbiAgdmlydHVhbFRyYW5zbGF0ZTogZmFsc2UsXG4gIC8vIEVmZmVjdHNcbiAgZWZmZWN0OiAnc2xpZGUnLFxuICAvLyAnc2xpZGUnIG9yICdmYWRlJyBvciAnY3ViZScgb3IgJ2NvdmVyZmxvdycgb3IgJ2ZsaXAnXG5cbiAgLy8gQnJlYWtwb2ludHNcbiAgYnJlYWtwb2ludHM6IHVuZGVmaW5lZCxcbiAgYnJlYWtwb2ludHNCYXNlOiAnd2luZG93JyxcbiAgLy8gU2xpZGVzIGdyaWRcbiAgc3BhY2VCZXR3ZWVuOiAwLFxuICBzbGlkZXNQZXJWaWV3OiAxLFxuICBzbGlkZXNQZXJHcm91cDogMSxcbiAgc2xpZGVzUGVyR3JvdXBTa2lwOiAwLFxuICBzbGlkZXNQZXJHcm91cEF1dG86IGZhbHNlLFxuICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gIGNlbnRlcmVkU2xpZGVzQm91bmRzOiBmYWxzZSxcbiAgc2xpZGVzT2Zmc2V0QmVmb3JlOiAwLFxuICAvLyBpbiBweFxuICBzbGlkZXNPZmZzZXRBZnRlcjogMCxcbiAgLy8gaW4gcHhcbiAgbm9ybWFsaXplU2xpZGVJbmRleDogdHJ1ZSxcbiAgY2VudGVySW5zdWZmaWNpZW50U2xpZGVzOiBmYWxzZSxcbiAgLy8gRGlzYWJsZSBzd2lwZXIgYW5kIGhpZGUgbmF2aWdhdGlvbiB3aGVuIGNvbnRhaW5lciBub3Qgb3ZlcmZsb3dcbiAgd2F0Y2hPdmVyZmxvdzogdHJ1ZSxcbiAgLy8gUm91bmQgbGVuZ3RoXG4gIHJvdW5kTGVuZ3RoczogZmFsc2UsXG4gIC8vIFRvdWNoZXNcbiAgdG91Y2hSYXRpbzogMSxcbiAgdG91Y2hBbmdsZTogNDUsXG4gIHNpbXVsYXRlVG91Y2g6IHRydWUsXG4gIHNob3J0U3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzOiB0cnVlLFxuICBsb25nU3dpcGVzUmF0aW86IDAuNSxcbiAgbG9uZ1N3aXBlc01zOiAzMDAsXG4gIGZvbGxvd0ZpbmdlcjogdHJ1ZSxcbiAgYWxsb3dUb3VjaE1vdmU6IHRydWUsXG4gIHRocmVzaG9sZDogNSxcbiAgdG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgdG91Y2hTdGFydFByZXZlbnREZWZhdWx0OiB0cnVlLFxuICB0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdDogZmFsc2UsXG4gIHRvdWNoUmVsZWFzZU9uRWRnZXM6IGZhbHNlLFxuICAvLyBVbmlxdWUgTmF2aWdhdGlvbiBFbGVtZW50c1xuICB1bmlxdWVOYXZFbGVtZW50czogdHJ1ZSxcbiAgLy8gUmVzaXN0YW5jZVxuICByZXNpc3RhbmNlOiB0cnVlLFxuICByZXNpc3RhbmNlUmF0aW86IDAuODUsXG4gIC8vIFByb2dyZXNzXG4gIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IGZhbHNlLFxuICAvLyBDdXJzb3JcbiAgZ3JhYkN1cnNvcjogZmFsc2UsXG4gIC8vIENsaWNrc1xuICBwcmV2ZW50Q2xpY2tzOiB0cnVlLFxuICBwcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb246IHRydWUsXG4gIHNsaWRlVG9DbGlja2VkU2xpZGU6IGZhbHNlLFxuICAvLyBsb29wXG4gIGxvb3A6IGZhbHNlLFxuICBsb29wQWRkQmxhbmtTbGlkZXM6IHRydWUsXG4gIGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAwLFxuICBsb29wUHJldmVudHNTbGlkaW5nOiB0cnVlLFxuICAvLyByZXdpbmRcbiAgcmV3aW5kOiBmYWxzZSxcbiAgLy8gU3dpcGluZy9ubyBzd2lwaW5nXG4gIGFsbG93U2xpZGVQcmV2OiB0cnVlLFxuICBhbGxvd1NsaWRlTmV4dDogdHJ1ZSxcbiAgc3dpcGVIYW5kbGVyOiBudWxsLFxuICAvLyAnLnN3aXBlLWhhbmRsZXInLFxuICBub1N3aXBpbmc6IHRydWUsXG4gIG5vU3dpcGluZ0NsYXNzOiAnc3dpcGVyLW5vLXN3aXBpbmcnLFxuICBub1N3aXBpbmdTZWxlY3RvcjogbnVsbCxcbiAgLy8gUGFzc2l2ZSBMaXN0ZW5lcnNcbiAgcGFzc2l2ZUxpc3RlbmVyczogdHJ1ZSxcbiAgbWF4QmFja2ZhY2VIaWRkZW5TbGlkZXM6IDEwLFxuICAvLyBOU1xuICBjb250YWluZXJNb2RpZmllckNsYXNzOiAnc3dpcGVyLScsXG4gIC8vIE5FV1xuICBzbGlkZUNsYXNzOiAnc3dpcGVyLXNsaWRlJyxcbiAgc2xpZGVCbGFua0NsYXNzOiAnc3dpcGVyLXNsaWRlLWJsYW5rJyxcbiAgc2xpZGVBY3RpdmVDbGFzczogJ3N3aXBlci1zbGlkZS1hY3RpdmUnLFxuICBzbGlkZVZpc2libGVDbGFzczogJ3N3aXBlci1zbGlkZS12aXNpYmxlJyxcbiAgc2xpZGVGdWxseVZpc2libGVDbGFzczogJ3N3aXBlci1zbGlkZS1mdWxseS12aXNpYmxlJyxcbiAgc2xpZGVOZXh0Q2xhc3M6ICdzd2lwZXItc2xpZGUtbmV4dCcsXG4gIHNsaWRlUHJldkNsYXNzOiAnc3dpcGVyLXNsaWRlLXByZXYnLFxuICB3cmFwcGVyQ2xhc3M6ICdzd2lwZXItd3JhcHBlcicsXG4gIGxhenlQcmVsb2FkZXJDbGFzczogJ3N3aXBlci1sYXp5LXByZWxvYWRlcicsXG4gIGxhenlQcmVsb2FkUHJldk5leHQ6IDAsXG4gIC8vIENhbGxiYWNrc1xuICBydW5DYWxsYmFja3NPbkluaXQ6IHRydWUsXG4gIC8vIEludGVybmFsc1xuICBfZW1pdENsYXNzZXM6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBtb2R1bGVFeHRlbmRQYXJhbXMocGFyYW1zLCBhbGxNb2R1bGVzUGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbiBleHRlbmRQYXJhbXMob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gdm9pZCAwKSB7XG4gICAgICBvYmogPSB7fTtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlUGFyYW1OYW1lID0gT2JqZWN0LmtleXMob2JqKVswXTtcbiAgICBjb25zdCBtb2R1bGVQYXJhbXMgPSBvYmpbbW9kdWxlUGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIG1vZHVsZVBhcmFtcyAhPT0gJ29iamVjdCcgfHwgbW9kdWxlUGFyYW1zID09PSBudWxsKSB7XG4gICAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSB0cnVlKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZVBhcmFtTmFtZSA9PT0gJ25hdmlnYXRpb24nICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdICYmIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgJiYgIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLnByZXZFbCAmJiAhcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0ubmV4dEVsKSB7XG4gICAgICBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5hdXRvID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFsncGFnaW5hdGlvbicsICdzY3JvbGxiYXInXS5pbmRleE9mKG1vZHVsZVBhcmFtTmFtZSkgPj0gMCAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSAmJiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbmFibGVkICYmICFwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXS5lbCkge1xuICAgICAgcGFyYW1zW21vZHVsZVBhcmFtTmFtZV0uYXV0byA9IHRydWU7XG4gICAgfVxuICAgIGlmICghKG1vZHVsZVBhcmFtTmFtZSBpbiBwYXJhbXMgJiYgJ2VuYWJsZWQnIGluIG1vZHVsZVBhcmFtcykpIHtcbiAgICAgIGV4dGVuZChhbGxNb2R1bGVzUGFyYW1zLCBvYmopO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdID09PSAnb2JqZWN0JyAmJiAhKCdlbmFibGVkJyBpbiBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSkpIHtcbiAgICAgIHBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtc1ttb2R1bGVQYXJhbU5hbWVdKSBwYXJhbXNbbW9kdWxlUGFyYW1OYW1lXSA9IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBleHRlbmQoYWxsTW9kdWxlc1BhcmFtcywgb2JqKTtcbiAgfTtcbn1cblxuLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiBcIm9mZlwiICovXG5jb25zdCBwcm90b3R5cGVzID0ge1xuICBldmVudHNFbWl0dGVyLFxuICB1cGRhdGUsXG4gIHRyYW5zbGF0ZSxcbiAgdHJhbnNpdGlvbixcbiAgc2xpZGUsXG4gIGxvb3AsXG4gIGdyYWJDdXJzb3IsXG4gIGV2ZW50czogZXZlbnRzJDEsXG4gIGJyZWFrcG9pbnRzLFxuICBjaGVja092ZXJmbG93OiBjaGVja092ZXJmbG93JDEsXG4gIGNsYXNzZXNcbn07XG5jb25zdCBleHRlbmRlZERlZmF1bHRzID0ge307XG5jbGFzcyBTd2lwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgZWw7XG4gICAgbGV0IHBhcmFtcztcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBhcmdzWzBdLmNvbnN0cnVjdG9yICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmdzWzBdKS5zbGljZSg4LCAtMSkgPT09ICdPYmplY3QnKSB7XG4gICAgICBwYXJhbXMgPSBhcmdzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBbZWwsIHBhcmFtc10gPSBhcmdzO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtcykgcGFyYW1zID0ge307XG4gICAgcGFyYW1zID0gZXh0ZW5kKHt9LCBwYXJhbXMpO1xuICAgIGlmIChlbCAmJiAhcGFyYW1zLmVsKSBwYXJhbXMuZWwgPSBlbDtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KCk7XG4gICAgaWYgKHBhcmFtcy5lbCAmJiB0eXBlb2YgcGFyYW1zLmVsID09PSAnc3RyaW5nJyAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbCkubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3Qgc3dpcGVycyA9IFtdO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMuZWwpLmZvckVhY2goY29udGFpbmVyRWwgPT4ge1xuICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtcywge1xuICAgICAgICAgIGVsOiBjb250YWluZXJFbFxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVycy5wdXNoKG5ldyBTd2lwZXIobmV3UGFyYW1zKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdHJ1Y3Rvci1yZXR1cm5cbiAgICAgIHJldHVybiBzd2lwZXJzO1xuICAgIH1cblxuICAgIC8vIFN3aXBlciBJbnN0YW5jZVxuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgc3dpcGVyLl9fc3dpcGVyX18gPSB0cnVlO1xuICAgIHN3aXBlci5zdXBwb3J0ID0gZ2V0U3VwcG9ydCgpO1xuICAgIHN3aXBlci5kZXZpY2UgPSBnZXREZXZpY2Uoe1xuICAgICAgdXNlckFnZW50OiBwYXJhbXMudXNlckFnZW50XG4gICAgfSk7XG4gICAgc3dpcGVyLmJyb3dzZXIgPSBnZXRCcm93c2VyKCk7XG4gICAgc3dpcGVyLmV2ZW50c0xpc3RlbmVycyA9IHt9O1xuICAgIHN3aXBlci5ldmVudHNBbnlMaXN0ZW5lcnMgPSBbXTtcbiAgICBzd2lwZXIubW9kdWxlcyA9IFsuLi5zd2lwZXIuX19tb2R1bGVzX19dO1xuICAgIGlmIChwYXJhbXMubW9kdWxlcyAmJiBBcnJheS5pc0FycmF5KHBhcmFtcy5tb2R1bGVzKSkge1xuICAgICAgc3dpcGVyLm1vZHVsZXMucHVzaCguLi5wYXJhbXMubW9kdWxlcyk7XG4gICAgfVxuICAgIGNvbnN0IGFsbE1vZHVsZXNQYXJhbXMgPSB7fTtcbiAgICBzd2lwZXIubW9kdWxlcy5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICBtb2Qoe1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHN3aXBlcixcbiAgICAgICAgZXh0ZW5kUGFyYW1zOiBtb2R1bGVFeHRlbmRQYXJhbXMocGFyYW1zLCBhbGxNb2R1bGVzUGFyYW1zKSxcbiAgICAgICAgb246IHN3aXBlci5vbi5iaW5kKHN3aXBlciksXG4gICAgICAgIG9uY2U6IHN3aXBlci5vbmNlLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgb2ZmOiBzd2lwZXIub2ZmLmJpbmQoc3dpcGVyKSxcbiAgICAgICAgZW1pdDogc3dpcGVyLmVtaXQuYmluZChzd2lwZXIpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEV4dGVuZCBkZWZhdWx0cyB3aXRoIG1vZHVsZXMgcGFyYW1zXG4gICAgY29uc3Qgc3dpcGVyUGFyYW1zID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgYWxsTW9kdWxlc1BhcmFtcyk7XG5cbiAgICAvLyBFeHRlbmQgZGVmYXVsdHMgd2l0aCBwYXNzZWQgcGFyYW1zXG4gICAgc3dpcGVyLnBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyUGFyYW1zLCBleHRlbmRlZERlZmF1bHRzLCBwYXJhbXMpO1xuICAgIHN3aXBlci5vcmlnaW5hbFBhcmFtcyA9IGV4dGVuZCh7fSwgc3dpcGVyLnBhcmFtcyk7XG4gICAgc3dpcGVyLnBhc3NlZFBhcmFtcyA9IGV4dGVuZCh7fSwgcGFyYW1zKTtcblxuICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBpZiAoc3dpcGVyLnBhcmFtcyAmJiBzd2lwZXIucGFyYW1zLm9uKSB7XG4gICAgICBPYmplY3Qua2V5cyhzd2lwZXIucGFyYW1zLm9uKS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XG4gICAgICAgIHN3aXBlci5vbihldmVudE5hbWUsIHN3aXBlci5wYXJhbXMub25bZXZlbnROYW1lXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHN3aXBlci5wYXJhbXMgJiYgc3dpcGVyLnBhcmFtcy5vbkFueSkge1xuICAgICAgc3dpcGVyLm9uQW55KHN3aXBlci5wYXJhbXMub25BbnkpO1xuICAgIH1cblxuICAgIC8vIEV4dGVuZCBTd2lwZXJcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlciwge1xuICAgICAgZW5hYmxlZDogc3dpcGVyLnBhcmFtcy5lbmFibGVkLFxuICAgICAgZWwsXG4gICAgICAvLyBDbGFzc2VzXG4gICAgICBjbGFzc05hbWVzOiBbXSxcbiAgICAgIC8vIFNsaWRlc1xuICAgICAgc2xpZGVzOiBbXSxcbiAgICAgIHNsaWRlc0dyaWQ6IFtdLFxuICAgICAgc25hcEdyaWQ6IFtdLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkOiBbXSxcbiAgICAgIC8vIGlzRGlyZWN0aW9uXG4gICAgICBpc0hvcml6b250YWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgfSxcbiAgICAgIGlzVmVydGljYWwoKSB7XG4gICAgICAgIHJldHVybiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJztcbiAgICAgIH0sXG4gICAgICAvLyBJbmRleGVzXG4gICAgICBhY3RpdmVJbmRleDogMCxcbiAgICAgIHJlYWxJbmRleDogMCxcbiAgICAgIC8vXG4gICAgICBpc0JlZ2lubmluZzogdHJ1ZSxcbiAgICAgIGlzRW5kOiBmYWxzZSxcbiAgICAgIC8vIFByb3BzXG4gICAgICB0cmFuc2xhdGU6IDAsXG4gICAgICBwcmV2aW91c1RyYW5zbGF0ZTogMCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgdmVsb2NpdHk6IDAsXG4gICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgY3NzT3ZlcmZsb3dBZGp1c3RtZW50KCkge1xuICAgICAgICAvLyBSZXR1cm5zIDAgdW5sZXNzIGB0cmFuc2xhdGVgIGlzID4gMioqMjNcbiAgICAgICAgLy8gU2hvdWxkIGJlIHN1YnRyYWN0ZWQgZnJvbSBjc3MgdmFsdWVzIHRvIHByZXZlbnQgb3ZlcmZsb3dcbiAgICAgICAgcmV0dXJuIE1hdGgudHJ1bmModGhpcy50cmFuc2xhdGUgLyAyICoqIDIzKSAqIDIgKiogMjM7XG4gICAgICB9LFxuICAgICAgLy8gTG9ja3NcbiAgICAgIGFsbG93U2xpZGVOZXh0OiBzd2lwZXIucGFyYW1zLmFsbG93U2xpZGVOZXh0LFxuICAgICAgYWxsb3dTbGlkZVByZXY6IHN3aXBlci5wYXJhbXMuYWxsb3dTbGlkZVByZXYsXG4gICAgICAvLyBUb3VjaCBFdmVudHNcbiAgICAgIHRvdWNoRXZlbnRzRGF0YToge1xuICAgICAgICBpc1RvdWNoZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNNb3ZlZDogdW5kZWZpbmVkLFxuICAgICAgICBhbGxvd1RvdWNoQ2FsbGJhY2tzOiB1bmRlZmluZWQsXG4gICAgICAgIHRvdWNoU3RhcnRUaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiB1bmRlZmluZWQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRUcmFuc2xhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxsb3dUaHJlc2hvbGRNb3ZlOiB1bmRlZmluZWQsXG4gICAgICAgIC8vIEZvcm0gZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudHM6IHN3aXBlci5wYXJhbXMuZm9jdXNhYmxlRWxlbWVudHMsXG4gICAgICAgIC8vIExhc3QgY2xpY2sgdGltZVxuICAgICAgICBsYXN0Q2xpY2tUaW1lOiAwLFxuICAgICAgICBjbGlja1RpbWVvdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gVmVsb2NpdGllc1xuICAgICAgICB2ZWxvY2l0aWVzOiBbXSxcbiAgICAgICAgYWxsb3dNb21lbnR1bUJvdW5jZTogdW5kZWZpbmVkLFxuICAgICAgICBzdGFydE1vdmluZzogdW5kZWZpbmVkLFxuICAgICAgICBwb2ludGVySWQ6IG51bGwsXG4gICAgICAgIHRvdWNoSWQ6IG51bGxcbiAgICAgIH0sXG4gICAgICAvLyBDbGlja3NcbiAgICAgIGFsbG93Q2xpY2s6IHRydWUsXG4gICAgICAvLyBUb3VjaGVzXG4gICAgICBhbGxvd1RvdWNoTW92ZTogc3dpcGVyLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxcbiAgICAgIHRvdWNoZXM6IHtcbiAgICAgICAgc3RhcnRYOiAwLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGN1cnJlbnRYOiAwLFxuICAgICAgICBjdXJyZW50WTogMCxcbiAgICAgICAgZGlmZjogMFxuICAgICAgfSxcbiAgICAgIC8vIEltYWdlc1xuICAgICAgaW1hZ2VzVG9Mb2FkOiBbXSxcbiAgICAgIGltYWdlc0xvYWRlZDogMFxuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfc3dpcGVyJyk7XG5cbiAgICAvLyBJbml0XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuaW5pdCkge1xuICAgICAgc3dpcGVyLmluaXQoKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYXBwIGluc3RhbmNlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0cnVjdG9yLXJldHVyblxuICAgIHJldHVybiBzd2lwZXI7XG4gIH1cbiAgZ2V0RGlyZWN0aW9uTGFiZWwocHJvcGVydHkpIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4ge1xuICAgICAgJ3dpZHRoJzogJ2hlaWdodCcsXG4gICAgICAnbWFyZ2luLXRvcCc6ICdtYXJnaW4tbGVmdCcsXG4gICAgICAnbWFyZ2luLWJvdHRvbSAnOiAnbWFyZ2luLXJpZ2h0JyxcbiAgICAgICdtYXJnaW4tbGVmdCc6ICdtYXJnaW4tdG9wJyxcbiAgICAgICdtYXJnaW4tcmlnaHQnOiAnbWFyZ2luLWJvdHRvbScsXG4gICAgICAncGFkZGluZy1sZWZ0JzogJ3BhZGRpbmctdG9wJyxcbiAgICAgICdwYWRkaW5nLXJpZ2h0JzogJ3BhZGRpbmctYm90dG9tJyxcbiAgICAgICdtYXJnaW5SaWdodCc6ICdtYXJnaW5Cb3R0b20nXG4gICAgfVtwcm9wZXJ0eV07XG4gIH1cbiAgZ2V0U2xpZGVJbmRleChzbGlkZUVsKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzRWwsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gdGhpcztcbiAgICBjb25zdCBzbGlkZXMgPSBlbGVtZW50Q2hpbGRyZW4oc2xpZGVzRWwsIGAuJHtwYXJhbXMuc2xpZGVDbGFzc30sIHN3aXBlci1zbGlkZWApO1xuICAgIGNvbnN0IGZpcnN0U2xpZGVJbmRleCA9IGVsZW1lbnRJbmRleChzbGlkZXNbMF0pO1xuICAgIHJldHVybiBlbGVtZW50SW5kZXgoc2xpZGVFbCkgLSBmaXJzdFNsaWRlSW5kZXg7XG4gIH1cbiAgZ2V0U2xpZGVJbmRleEJ5RGF0YShpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmdldFNsaWRlSW5kZXgodGhpcy5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4JykgKiAxID09PSBpbmRleClbMF0pO1xuICB9XG4gIHJlY2FsY1NsaWRlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc0VsLFxuICAgICAgcGFyYW1zXG4gICAgfSA9IHN3aXBlcjtcbiAgICBzd2lwZXIuc2xpZGVzID0gZWxlbWVudENoaWxkcmVuKHNsaWRlc0VsLCBgLiR7cGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKTtcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHJldHVybjtcbiAgICBzd2lwZXIuZW5hYmxlZCA9IHRydWU7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZ3JhYkN1cnNvcikge1xuICAgICAgc3dpcGVyLnNldEdyYWJDdXJzb3IoKTtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2VuYWJsZScpO1xuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5lbmFibGVkKSByZXR1cm47XG4gICAgc3dpcGVyLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5ncmFiQ3Vyc29yKSB7XG4gICAgICBzd2lwZXIudW5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuICAgIHN3aXBlci5lbWl0KCdkaXNhYmxlJyk7XG4gIH1cbiAgc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MsIHNwZWVkKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBwcm9ncmVzcyA9IE1hdGgubWluKE1hdGgubWF4KHByb2dyZXNzLCAwKSwgMSk7XG4gICAgY29uc3QgbWluID0gc3dpcGVyLm1pblRyYW5zbGF0ZSgpO1xuICAgIGNvbnN0IG1heCA9IHN3aXBlci5tYXhUcmFuc2xhdGUoKTtcbiAgICBjb25zdCBjdXJyZW50ID0gKG1heCAtIG1pbikgKiBwcm9ncmVzcyArIG1pbjtcbiAgICBzd2lwZXIudHJhbnNsYXRlVG8oY3VycmVudCwgdHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJyA/IDAgOiBzcGVlZCk7XG4gICAgc3dpcGVyLnVwZGF0ZUFjdGl2ZUluZGV4KCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgfVxuICBlbWl0Q29udGFpbmVyQ2xhc3NlcygpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmICghc3dpcGVyLnBhcmFtcy5fZW1pdENsYXNzZXMgfHwgIXN3aXBlci5lbCkgcmV0dXJuO1xuICAgIGNvbnN0IGNscyA9IHN3aXBlci5lbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoY2xhc3NOYW1lID0+IHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKSA9PT0gMDtcbiAgICB9KTtcbiAgICBzd2lwZXIuZW1pdCgnX2NvbnRhaW5lckNsYXNzZXMnLCBjbHMuam9pbignICcpKTtcbiAgfVxuICBnZXRTbGlkZUNsYXNzZXMoc2xpZGVFbCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5kZXN0cm95ZWQpIHJldHVybiAnJztcbiAgICByZXR1cm4gc2xpZGVFbC5jbGFzc05hbWUuc3BsaXQoJyAnKS5maWx0ZXIoY2xhc3NOYW1lID0+IHtcbiAgICAgIHJldHVybiBjbGFzc05hbWUuaW5kZXhPZignc3dpcGVyLXNsaWRlJykgPT09IDAgfHwgY2xhc3NOYW1lLmluZGV4T2Yoc3dpcGVyLnBhcmFtcy5zbGlkZUNsYXNzKSA9PT0gMDtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH1cbiAgZW1pdFNsaWRlc0NsYXNzZXMoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlci5wYXJhbXMuX2VtaXRDbGFzc2VzIHx8ICFzd2lwZXIuZWwpIHJldHVybjtcbiAgICBjb25zdCB1cGRhdGVzID0gW107XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgY29uc3QgY2xhc3NOYW1lcyA9IHN3aXBlci5nZXRTbGlkZUNsYXNzZXMoc2xpZGVFbCk7XG4gICAgICB1cGRhdGVzLnB1c2goe1xuICAgICAgICBzbGlkZUVsLFxuICAgICAgICBjbGFzc05hbWVzXG4gICAgICB9KTtcbiAgICAgIHN3aXBlci5lbWl0KCdfc2xpZGVDbGFzcycsIHNsaWRlRWwsIGNsYXNzTmFtZXMpO1xuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdfc2xpZGVDbGFzc2VzJywgdXBkYXRlcyk7XG4gIH1cbiAgc2xpZGVzUGVyVmlld0R5bmFtaWModmlldywgZXhhY3QpIHtcbiAgICBpZiAodmlldyA9PT0gdm9pZCAwKSB7XG4gICAgICB2aWV3ID0gJ2N1cnJlbnQnO1xuICAgIH1cbiAgICBpZiAoZXhhY3QgPT09IHZvaWQgMCkge1xuICAgICAgZXhhY3QgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXMsXG4gICAgICBzbGlkZXMsXG4gICAgICBzbGlkZXNHcmlkLFxuICAgICAgc2xpZGVzU2l6ZXNHcmlkLFxuICAgICAgc2l6ZTogc3dpcGVyU2l6ZSxcbiAgICAgIGFjdGl2ZUluZGV4XG4gICAgfSA9IHN3aXBlcjtcbiAgICBsZXQgc3B2ID0gMTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnbnVtYmVyJykgcmV0dXJuIHBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuICAgIGlmIChwYXJhbXMuY2VudGVyZWRTbGlkZXMpIHtcbiAgICAgIGxldCBzbGlkZVNpemUgPSBzbGlkZXNbYWN0aXZlSW5kZXhdID8gTWF0aC5jZWlsKHNsaWRlc1thY3RpdmVJbmRleF0uc3dpcGVyU2xpZGVTaXplKSA6IDA7XG4gICAgICBsZXQgYnJlYWtMb29wO1xuICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4ICsgMTsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldICYmICFicmVha0xvb3ApIHtcbiAgICAgICAgICBzbGlkZVNpemUgKz0gTWF0aC5jZWlsKHNsaWRlc1tpXS5zd2lwZXJTbGlkZVNpemUpO1xuICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIGlmIChzbGlkZVNpemUgPiBzd2lwZXJTaXplKSBicmVha0xvb3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gYWN0aXZlSW5kZXggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICBpZiAoc2xpZGVzW2ldICYmICFicmVha0xvb3ApIHtcbiAgICAgICAgICBzbGlkZVNpemUgKz0gc2xpZGVzW2ldLnN3aXBlclNsaWRlU2l6ZTtcbiAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICBpZiAoc2xpZGVTaXplID4gc3dpcGVyU2l6ZSkgYnJlYWtMb29wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGlmICh2aWV3ID09PSAnY3VycmVudCcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4ICsgMTsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IHNsaWRlSW5WaWV3ID0gZXhhY3QgPyBzbGlkZXNHcmlkW2ldICsgc2xpZGVzU2l6ZXNHcmlkW2ldIC0gc2xpZGVzR3JpZFthY3RpdmVJbmRleF0gPCBzd2lwZXJTaXplIDogc2xpZGVzR3JpZFtpXSAtIHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIDwgc3dpcGVyU2l6ZTtcbiAgICAgICAgICBpZiAoc2xpZGVJblZpZXcpIHtcbiAgICAgICAgICAgIHNwdiArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcHJldmlvdXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGFjdGl2ZUluZGV4IC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICBjb25zdCBzbGlkZUluVmlldyA9IHNsaWRlc0dyaWRbYWN0aXZlSW5kZXhdIC0gc2xpZGVzR3JpZFtpXSA8IHN3aXBlclNpemU7XG4gICAgICAgICAgaWYgKHNsaWRlSW5WaWV3KSB7XG4gICAgICAgICAgICBzcHYgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNwdjtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgc25hcEdyaWQsXG4gICAgICBwYXJhbXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIC8vIEJyZWFrcG9pbnRzXG4gICAgaWYgKHBhcmFtcy5icmVha3BvaW50cykge1xuICAgICAgc3dpcGVyLnNldEJyZWFrcG9pbnQoKTtcbiAgICB9XG4gICAgWy4uLnN3aXBlci5lbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKV0uZm9yRWFjaChpbWFnZUVsID0+IHtcbiAgICAgIGlmIChpbWFnZUVsLmNvbXBsZXRlKSB7XG4gICAgICAgIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgaW1hZ2VFbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3dpcGVyLnVwZGF0ZVNpemUoKTtcbiAgICBzd2lwZXIudXBkYXRlU2xpZGVzKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVByb2dyZXNzKCk7XG4gICAgc3dpcGVyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTtcbiAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7XG4gICAgICBjb25zdCB0cmFuc2xhdGVWYWx1ZSA9IHN3aXBlci5ydGxUcmFuc2xhdGUgPyBzd2lwZXIudHJhbnNsYXRlICogLTEgOiBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgY29uc3QgbmV3VHJhbnNsYXRlID0gTWF0aC5taW4oTWF0aC5tYXgodHJhbnNsYXRlVmFsdWUsIHN3aXBlci5tYXhUcmFuc2xhdGUoKSksIHN3aXBlci5taW5UcmFuc2xhdGUoKSk7XG4gICAgICBzd2lwZXIuc2V0VHJhbnNsYXRlKG5ld1RyYW5zbGF0ZSk7XG4gICAgICBzd2lwZXIudXBkYXRlQWN0aXZlSW5kZXgoKTtcbiAgICAgIHN3aXBlci51cGRhdGVTbGlkZXNDbGFzc2VzKCk7XG4gICAgfVxuICAgIGxldCB0cmFuc2xhdGVkO1xuICAgIGlmIChwYXJhbXMuZnJlZU1vZGUgJiYgcGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQgJiYgIXBhcmFtcy5jc3NNb2RlKSB7XG4gICAgICBzZXRUcmFuc2xhdGUoKTtcbiAgICAgIGlmIChwYXJhbXMuYXV0b0hlaWdodCkge1xuICAgICAgICBzd2lwZXIudXBkYXRlQXV0b0hlaWdodCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKHBhcmFtcy5zbGlkZXNQZXJWaWV3ID09PSAnYXV0bycgfHwgcGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBzd2lwZXIuaXNFbmQgJiYgIXBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuICAgICAgICBjb25zdCBzbGlkZXMgPSBzd2lwZXIudmlydHVhbCAmJiBwYXJhbXMudmlydHVhbC5lbmFibGVkID8gc3dpcGVyLnZpcnR1YWwuc2xpZGVzIDogc3dpcGVyLnNsaWRlcztcbiAgICAgICAgdHJhbnNsYXRlZCA9IHN3aXBlci5zbGlkZVRvKHNsaWRlcy5sZW5ndGggLSAxLCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2xhdGVkID0gc3dpcGVyLnNsaWRlVG8oc3dpcGVyLmFjdGl2ZUluZGV4LCAwLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRyYW5zbGF0ZWQpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiBzbmFwR3JpZCAhPT0gc3dpcGVyLnNuYXBHcmlkKSB7XG4gICAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgndXBkYXRlJyk7XG4gIH1cbiAgY2hhbmdlRGlyZWN0aW9uKG5ld0RpcmVjdGlvbiwgbmVlZFVwZGF0ZSkge1xuICAgIGlmIChuZWVkVXBkYXRlID09PSB2b2lkIDApIHtcbiAgICAgIG5lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGNvbnN0IGN1cnJlbnREaXJlY3Rpb24gPSBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbjtcbiAgICBpZiAoIW5ld0RpcmVjdGlvbikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBuZXdEaXJlY3Rpb24gPSBjdXJyZW50RGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xuICAgIH1cbiAgICBpZiAobmV3RGlyZWN0aW9uID09PSBjdXJyZW50RGlyZWN0aW9uIHx8IG5ld0RpcmVjdGlvbiAhPT0gJ2hvcml6b250YWwnICYmIG5ld0RpcmVjdGlvbiAhPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgcmV0dXJuIHN3aXBlcjtcbiAgICB9XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5yZW1vdmUoYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7Y3VycmVudERpcmVjdGlvbn1gKTtcbiAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtuZXdEaXJlY3Rpb259YCk7XG4gICAgc3dpcGVyLmVtaXRDb250YWluZXJDbGFzc2VzKCk7XG4gICAgc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPSBuZXdEaXJlY3Rpb247XG4gICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgaWYgKG5ld0RpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBzbGlkZUVsLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZUVsLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN3aXBlci5lbWl0KCdjaGFuZ2VEaXJlY3Rpb24nKTtcbiAgICBpZiAobmVlZFVwZGF0ZSkgc3dpcGVyLnVwZGF0ZSgpO1xuICAgIHJldHVybiBzd2lwZXI7XG4gIH1cbiAgY2hhbmdlTGFuZ3VhZ2VEaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBpZiAoc3dpcGVyLnJ0bCAmJiBkaXJlY3Rpb24gPT09ICdydGwnIHx8ICFzd2lwZXIucnRsICYmIGRpcmVjdGlvbiA9PT0gJ2x0cicpIHJldHVybjtcbiAgICBzd2lwZXIucnRsID0gZGlyZWN0aW9uID09PSAncnRsJztcbiAgICBzd2lwZXIucnRsVHJhbnNsYXRlID0gc3dpcGVyLnBhcmFtcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyAmJiBzd2lwZXIucnRsO1xuICAgIGlmIChzd2lwZXIucnRsKSB7XG4gICAgICBzd2lwZXIuZWwuY2xhc3NMaXN0LmFkZChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9cnRsYCk7XG4gICAgICBzd2lwZXIuZWwuZGlyID0gJ3J0bCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ydGxgKTtcbiAgICAgIHN3aXBlci5lbC5kaXIgPSAnbHRyJztcbiAgICB9XG4gICAgc3dpcGVyLnVwZGF0ZSgpO1xuICB9XG4gIG1vdW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCBzd2lwZXIgPSB0aGlzO1xuICAgIGlmIChzd2lwZXIubW91bnRlZCkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBGaW5kIGVsXG4gICAgbGV0IGVsID0gZWxlbWVudCB8fCBzd2lwZXIucGFyYW1zLmVsO1xuICAgIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgIH1cbiAgICBpZiAoIWVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsLnN3aXBlciA9IHN3aXBlcjtcbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLmhvc3QgJiYgZWwucGFyZW50Tm9kZS5ob3N0Lm5vZGVOYW1lID09PSBzd2lwZXIucGFyYW1zLnN3aXBlckVsZW1lbnROb2RlTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBzd2lwZXIuaXNFbGVtZW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgZ2V0V3JhcHBlclNlbGVjdG9yID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGAuJHsoc3dpcGVyLnBhcmFtcy53cmFwcGVyQ2xhc3MgfHwgJycpLnRyaW0oKS5zcGxpdCgnICcpLmpvaW4oJy4nKX1gO1xuICAgIH07XG4gICAgY29uc3QgZ2V0V3JhcHBlciA9ICgpID0+IHtcbiAgICAgIGlmIChlbCAmJiBlbC5zaGFkb3dSb290ICYmIGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcikge1xuICAgICAgICBjb25zdCByZXMgPSBlbC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoZ2V0V3JhcHBlclNlbGVjdG9yKCkpO1xuICAgICAgICAvLyBDaGlsZHJlbiBuZWVkcyB0byByZXR1cm4gc2xvdCBpdGVtc1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnRDaGlsZHJlbihlbCwgZ2V0V3JhcHBlclNlbGVjdG9yKCkpWzBdO1xuICAgIH07XG4gICAgLy8gRmluZCBXcmFwcGVyXG4gICAgbGV0IHdyYXBwZXJFbCA9IGdldFdyYXBwZXIoKTtcbiAgICBpZiAoIXdyYXBwZXJFbCAmJiBzd2lwZXIucGFyYW1zLmNyZWF0ZUVsZW1lbnRzKSB7XG4gICAgICB3cmFwcGVyRWwgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCBzd2lwZXIucGFyYW1zLndyYXBwZXJDbGFzcyk7XG4gICAgICBlbC5hcHBlbmQod3JhcHBlckVsKTtcbiAgICAgIGVsZW1lbnRDaGlsZHJlbihlbCwgYC4ke3N3aXBlci5wYXJhbXMuc2xpZGVDbGFzc31gKS5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICB3cmFwcGVyRWwuYXBwZW5kKHNsaWRlRWwpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLCB7XG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlc0VsOiBzd2lwZXIuaXNFbGVtZW50ICYmICFlbC5wYXJlbnROb2RlLmhvc3Quc2xpZGVTbG90cyA/IGVsLnBhcmVudE5vZGUuaG9zdCA6IHdyYXBwZXJFbCxcbiAgICAgIGhvc3RFbDogc3dpcGVyLmlzRWxlbWVudCA/IGVsLnBhcmVudE5vZGUuaG9zdCA6IGVsLFxuICAgICAgbW91bnRlZDogdHJ1ZSxcbiAgICAgIC8vIFJUTFxuICAgICAgcnRsOiBlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgZWxlbWVudFN0eWxlKGVsLCAnZGlyZWN0aW9uJykgPT09ICdydGwnLFxuICAgICAgcnRsVHJhbnNsYXRlOiBzd2lwZXIucGFyYW1zLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmIChlbC5kaXIudG9Mb3dlckNhc2UoKSA9PT0gJ3J0bCcgfHwgZWxlbWVudFN0eWxlKGVsLCAnZGlyZWN0aW9uJykgPT09ICdydGwnKSxcbiAgICAgIHdyb25nUlRMOiBlbGVtZW50U3R5bGUod3JhcHBlckVsLCAnZGlzcGxheScpID09PSAnLXdlYmtpdC1ib3gnXG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaW5pdChlbCkge1xuICAgIGNvbnN0IHN3aXBlciA9IHRoaXM7XG4gICAgaWYgKHN3aXBlci5pbml0aWFsaXplZCkgcmV0dXJuIHN3aXBlcjtcbiAgICBjb25zdCBtb3VudGVkID0gc3dpcGVyLm1vdW50KGVsKTtcbiAgICBpZiAobW91bnRlZCA9PT0gZmFsc2UpIHJldHVybiBzd2lwZXI7XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZUluaXQnKTtcblxuICAgIC8vIFNldCBicmVha3BvaW50XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuYnJlYWtwb2ludHMpIHtcbiAgICAgIHN3aXBlci5zZXRCcmVha3BvaW50KCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIENsYXNzZXNcbiAgICBzd2lwZXIuYWRkQ2xhc3NlcygpO1xuXG4gICAgLy8gVXBkYXRlIHNpemVcbiAgICBzd2lwZXIudXBkYXRlU2l6ZSgpO1xuXG4gICAgLy8gVXBkYXRlIHNsaWRlc1xuICAgIHN3aXBlci51cGRhdGVTbGlkZXMoKTtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy53YXRjaE92ZXJmbG93KSB7XG4gICAgICBzd2lwZXIuY2hlY2tPdmVyZmxvdygpO1xuICAgIH1cblxuICAgIC8vIFNldCBHcmFiIEN1cnNvclxuICAgIGlmIChzd2lwZXIucGFyYW1zLmdyYWJDdXJzb3IgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5zZXRHcmFiQ3Vyc29yKCk7XG4gICAgfVxuXG4gICAgLy8gU2xpZGUgVG8gSW5pdGlhbCBTbGlkZVxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3AgJiYgc3dpcGVyLnZpcnR1YWwgJiYgc3dpcGVyLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHtcbiAgICAgIHN3aXBlci5zbGlkZVRvKHN3aXBlci5wYXJhbXMuaW5pdGlhbFNsaWRlICsgc3dpcGVyLnZpcnR1YWwuc2xpZGVzQmVmb3JlLCAwLCBzd2lwZXIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2lwZXIuc2xpZGVUbyhzd2lwZXIucGFyYW1zLmluaXRpYWxTbGlkZSwgMCwgc3dpcGVyLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbG9vcFxuICAgIGlmIChzd2lwZXIucGFyYW1zLmxvb3ApIHtcbiAgICAgIHN3aXBlci5sb29wQ3JlYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gQXR0YWNoIGV2ZW50c1xuICAgIHN3aXBlci5hdHRhY2hFdmVudHMoKTtcbiAgICBjb25zdCBsYXp5RWxlbWVudHMgPSBbLi4uc3dpcGVyLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsb2FkaW5nPVwibGF6eVwiXScpXTtcbiAgICBpZiAoc3dpcGVyLmlzRWxlbWVudCkge1xuICAgICAgbGF6eUVsZW1lbnRzLnB1c2goLi4uc3dpcGVyLmhvc3RFbC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1cImxhenlcIl0nKSk7XG4gICAgfVxuICAgIGxhenlFbGVtZW50cy5mb3JFYWNoKGltYWdlRWwgPT4ge1xuICAgICAgaWYgKGltYWdlRWwuY29tcGxldGUpIHtcbiAgICAgICAgcHJvY2Vzc0xhenlQcmVsb2FkZXIoc3dpcGVyLCBpbWFnZUVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGUgPT4ge1xuICAgICAgICAgIHByb2Nlc3NMYXp5UHJlbG9hZGVyKHN3aXBlciwgZS50YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcmVsb2FkKHN3aXBlcik7XG5cbiAgICAvLyBJbml0IEZsYWdcbiAgICBzd2lwZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHByZWxvYWQoc3dpcGVyKTtcblxuICAgIC8vIEVtaXRcbiAgICBzd2lwZXIuZW1pdCgnaW5pdCcpO1xuICAgIHN3aXBlci5lbWl0KCdhZnRlckluaXQnKTtcbiAgICByZXR1cm4gc3dpcGVyO1xuICB9XG4gIGRlc3Ryb3koZGVsZXRlSW5zdGFuY2UsIGNsZWFuU3R5bGVzKSB7XG4gICAgaWYgKGRlbGV0ZUluc3RhbmNlID09PSB2b2lkIDApIHtcbiAgICAgIGRlbGV0ZUluc3RhbmNlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNsZWFuU3R5bGVzID09PSB2b2lkIDApIHtcbiAgICAgIGNsZWFuU3R5bGVzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3dpcGVyID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBwYXJhbXMsXG4gICAgICBlbCxcbiAgICAgIHdyYXBwZXJFbCxcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgaWYgKHR5cGVvZiBzd2lwZXIucGFyYW1zID09PSAndW5kZWZpbmVkJyB8fCBzd2lwZXIuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3dpcGVyLmVtaXQoJ2JlZm9yZURlc3Ryb3knKTtcblxuICAgIC8vIEluaXQgRmxhZ1xuICAgIHN3aXBlci5pbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgLy8gRGV0YWNoIGV2ZW50c1xuICAgIHN3aXBlci5kZXRhY2hFdmVudHMoKTtcblxuICAgIC8vIERlc3Ryb3kgbG9vcFxuICAgIGlmIChwYXJhbXMubG9vcCkge1xuICAgICAgc3dpcGVyLmxvb3BEZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW51cCBzdHlsZXNcbiAgICBpZiAoY2xlYW5TdHlsZXMpIHtcbiAgICAgIHN3aXBlci5yZW1vdmVDbGFzc2VzKCk7XG4gICAgICBpZiAoZWwgJiYgdHlwZW9mIGVsICE9PSAnc3RyaW5nJykge1xuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBpZiAod3JhcHBlckVsKSB7XG4gICAgICAgIHdyYXBwZXJFbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBpZiAoc2xpZGVzICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgICAgc2xpZGVFbC5jbGFzc0xpc3QucmVtb3ZlKHBhcmFtcy5zbGlkZVZpc2libGVDbGFzcywgcGFyYW1zLnNsaWRlRnVsbHlWaXNpYmxlQ2xhc3MsIHBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzLCBwYXJhbXMuc2xpZGVOZXh0Q2xhc3MsIHBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG4gICAgICAgICAgc2xpZGVFbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgc2xpZGVFbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2lwZXIuZW1pdCgnZGVzdHJveScpO1xuXG4gICAgLy8gRGV0YWNoIGVtaXR0ZXIgZXZlbnRzXG4gICAgT2JqZWN0LmtleXMoc3dpcGVyLmV2ZW50c0xpc3RlbmVycykuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgc3dpcGVyLm9mZihldmVudE5hbWUpO1xuICAgIH0pO1xuICAgIGlmIChkZWxldGVJbnN0YW5jZSAhPT0gZmFsc2UpIHtcbiAgICAgIGlmIChzd2lwZXIuZWwgJiYgdHlwZW9mIHN3aXBlci5lbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3dpcGVyLmVsLnN3aXBlciA9IG51bGw7XG4gICAgICB9XG4gICAgICBkZWxldGVQcm9wcyhzd2lwZXIpO1xuICAgIH1cbiAgICBzd2lwZXIuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzdGF0aWMgZXh0ZW5kRGVmYXVsdHMobmV3RGVmYXVsdHMpIHtcbiAgICBleHRlbmQoZXh0ZW5kZWREZWZhdWx0cywgbmV3RGVmYXVsdHMpO1xuICB9XG4gIHN0YXRpYyBnZXQgZXh0ZW5kZWREZWZhdWx0cygpIHtcbiAgICByZXR1cm4gZXh0ZW5kZWREZWZhdWx0cztcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBkZWZhdWx0cztcbiAgfVxuICBzdGF0aWMgaW5zdGFsbE1vZHVsZShtb2QpIHtcbiAgICBpZiAoIVN3aXBlci5wcm90b3R5cGUuX19tb2R1bGVzX18pIFN3aXBlci5wcm90b3R5cGUuX19tb2R1bGVzX18gPSBbXTtcbiAgICBjb25zdCBtb2R1bGVzID0gU3dpcGVyLnByb3RvdHlwZS5fX21vZHVsZXNfXztcbiAgICBpZiAodHlwZW9mIG1vZCA9PT0gJ2Z1bmN0aW9uJyAmJiBtb2R1bGVzLmluZGV4T2YobW9kKSA8IDApIHtcbiAgICAgIG1vZHVsZXMucHVzaChtb2QpO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgdXNlKG1vZHVsZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG1vZHVsZSkpIHtcbiAgICAgIG1vZHVsZS5mb3JFYWNoKG0gPT4gU3dpcGVyLmluc3RhbGxNb2R1bGUobSkpO1xuICAgICAgcmV0dXJuIFN3aXBlcjtcbiAgICB9XG4gICAgU3dpcGVyLmluc3RhbGxNb2R1bGUobW9kdWxlKTtcbiAgICByZXR1cm4gU3dpcGVyO1xuICB9XG59XG5PYmplY3Qua2V5cyhwcm90b3R5cGVzKS5mb3JFYWNoKHByb3RvdHlwZUdyb3VwID0+IHtcbiAgT2JqZWN0LmtleXMocHJvdG90eXBlc1twcm90b3R5cGVHcm91cF0pLmZvckVhY2gocHJvdG9NZXRob2QgPT4ge1xuICAgIFN3aXBlci5wcm90b3R5cGVbcHJvdG9NZXRob2RdID0gcHJvdG90eXBlc1twcm90b3R5cGVHcm91cF1bcHJvdG9NZXRob2RdO1xuICB9KTtcbn0pO1xuU3dpcGVyLnVzZShbUmVzaXplLCBPYnNlcnZlcl0pO1xuXG5leHBvcnQgeyBTd2lwZXIgYXMgUywgZGVmYXVsdHMgYXMgZCB9O1xuIiwiaW1wb3J0IHsgYyBhcyBjcmVhdGVFbGVtZW50SWZOb3REZWZpbmVkIH0gZnJvbSAnLi4vc2hhcmVkL2NyZWF0ZS1lbGVtZW50LWlmLW5vdC1kZWZpbmVkLm1qcyc7XG5pbXBvcnQgeyBtIGFzIG1ha2VFbGVtZW50c0FycmF5IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIE5hdmlnYXRpb24oX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb24sXG4gICAgZW1pdFxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICBuZXh0RWw6IG51bGwsXG4gICAgICBwcmV2RWw6IG51bGwsXG4gICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgICBkaXNhYmxlZENsYXNzOiAnc3dpcGVyLWJ1dHRvbi1kaXNhYmxlZCcsXG4gICAgICBoaWRkZW5DbGFzczogJ3N3aXBlci1idXR0b24taGlkZGVuJyxcbiAgICAgIGxvY2tDbGFzczogJ3N3aXBlci1idXR0b24tbG9jaycsXG4gICAgICBuYXZpZ2F0aW9uRGlzYWJsZWRDbGFzczogJ3N3aXBlci1uYXZpZ2F0aW9uLWRpc2FibGVkJ1xuICAgIH1cbiAgfSk7XG4gIHN3aXBlci5uYXZpZ2F0aW9uID0ge1xuICAgIG5leHRFbDogbnVsbCxcbiAgICBwcmV2RWw6IG51bGxcbiAgfTtcbiAgZnVuY3Rpb24gZ2V0RWwoZWwpIHtcbiAgICBsZXQgcmVzO1xuICAgIGlmIChlbCAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHN3aXBlci5pc0VsZW1lbnQpIHtcbiAgICAgIHJlcyA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgIGlmIChyZXMpIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChlbCkge1xuICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHJlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKV07XG4gICAgICBpZiAoc3dpcGVyLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiB0eXBlb2YgZWwgPT09ICdzdHJpbmcnICYmIHJlcyAmJiByZXMubGVuZ3RoID4gMSAmJiBzd2lwZXIuZWwucXVlcnlTZWxlY3RvckFsbChlbCkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJlcyA9IHN3aXBlci5lbC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzICYmIHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmVzID0gcmVzWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWwgJiYgIXJlcykgcmV0dXJuIGVsO1xuICAgIC8vIGlmIChBcnJheS5pc0FycmF5KHJlcykgJiYgcmVzLmxlbmd0aCA9PT0gMSkgcmVzID0gcmVzWzBdO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gdG9nZ2xlRWwoZWwsIGRpc2FibGVkKSB7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uO1xuICAgIGVsID0gbWFrZUVsZW1lbnRzQXJyYXkoZWwpO1xuICAgIGVsLmZvckVhY2goc3ViRWwgPT4ge1xuICAgICAgaWYgKHN1YkVsKSB7XG4gICAgICAgIHN1YkVsLmNsYXNzTGlzdFtkaXNhYmxlZCA/ICdhZGQnIDogJ3JlbW92ZSddKC4uLnBhcmFtcy5kaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICBpZiAoc3ViRWwudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHN1YkVsLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIGlmIChzd2lwZXIucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgICAgICBzdWJFbC5jbGFzc0xpc3Rbc3dpcGVyLmlzTG9ja2VkID8gJ2FkZCcgOiAncmVtb3ZlJ10ocGFyYW1zLmxvY2tDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgLy8gVXBkYXRlIE5hdmlnYXRpb24gQnV0dG9uc1xuICAgIGNvbnN0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5sb29wKSB7XG4gICAgICB0b2dnbGVFbChwcmV2RWwsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUVsKG5leHRFbCwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b2dnbGVFbChwcmV2RWwsIHN3aXBlci5pc0JlZ2lubmluZyAmJiAhc3dpcGVyLnBhcmFtcy5yZXdpbmQpO1xuICAgIHRvZ2dsZUVsKG5leHRFbCwgc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLnJld2luZCk7XG4gIH1cbiAgZnVuY3Rpb24gb25QcmV2Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzQmVnaW5uaW5nICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlUHJldigpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25QcmV2Jyk7XG4gIH1cbiAgZnVuY3Rpb24gb25OZXh0Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoc3dpcGVyLmlzRW5kICYmICFzd2lwZXIucGFyYW1zLmxvb3AgJiYgIXN3aXBlci5wYXJhbXMucmV3aW5kKSByZXR1cm47XG4gICAgc3dpcGVyLnNsaWRlTmV4dCgpO1xuICAgIGVtaXQoJ25hdmlnYXRpb25OZXh0Jyk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb247XG4gICAgc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uID0gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIHN3aXBlci5vcmlnaW5hbFBhcmFtcy5uYXZpZ2F0aW9uLCBzd2lwZXIucGFyYW1zLm5hdmlnYXRpb24sIHtcbiAgICAgIG5leHRFbDogJ3N3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICBwcmV2RWw6ICdzd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSk7XG4gICAgaWYgKCEocGFyYW1zLm5leHRFbCB8fCBwYXJhbXMucHJldkVsKSkgcmV0dXJuO1xuICAgIGxldCBuZXh0RWwgPSBnZXRFbChwYXJhbXMubmV4dEVsKTtcbiAgICBsZXQgcHJldkVsID0gZ2V0RWwocGFyYW1zLnByZXZFbCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSk7XG4gICAgbmV4dEVsID0gbWFrZUVsZW1lbnRzQXJyYXkobmV4dEVsKTtcbiAgICBwcmV2RWwgPSBtYWtlRWxlbWVudHNBcnJheShwcmV2RWwpO1xuICAgIGNvbnN0IGluaXRCdXR0b24gPSAoZWwsIGRpcikgPT4ge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3dpcGVyLmVuYWJsZWQgJiYgZWwpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCguLi5wYXJhbXMubG9ja0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgfVxuICAgIH07XG4gICAgbmV4dEVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ25leHQnKSk7XG4gICAgcHJldkVsLmZvckVhY2goZWwgPT4gaW5pdEJ1dHRvbihlbCwgJ3ByZXYnKSk7XG4gIH1cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBjb25zdCBkZXN0cm95QnV0dG9uID0gKGVsLCBkaXIpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlyID09PSAnbmV4dCcgPyBvbk5leHRDbGljayA6IG9uUHJldkNsaWNrKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgfTtcbiAgICBuZXh0RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAnbmV4dCcpKTtcbiAgICBwcmV2RWwuZm9yRWFjaChlbCA9PiBkZXN0cm95QnV0dG9uKGVsLCAncHJldicpKTtcbiAgfVxuICBvbignaW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdCgpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgb24oJ3RvRWRnZSBmcm9tRWRnZSBsb2NrIHVubG9jaycsICgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIG9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIGRlc3Ryb3koKTtcbiAgfSk7XG4gIG9uKCdlbmFibGUgZGlzYWJsZScsICgpID0+IHtcbiAgICBsZXQge1xuICAgICAgbmV4dEVsLFxuICAgICAgcHJldkVsXG4gICAgfSA9IHN3aXBlci5uYXZpZ2F0aW9uO1xuICAgIG5leHRFbCA9IG1ha2VFbGVtZW50c0FycmF5KG5leHRFbCk7XG4gICAgcHJldkVsID0gbWFrZUVsZW1lbnRzQXJyYXkocHJldkVsKTtcbiAgICBpZiAoc3dpcGVyLmVuYWJsZWQpIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBbLi4ubmV4dEVsLCAuLi5wcmV2RWxdLmZpbHRlcihlbCA9PiAhIWVsKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC5hZGQoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcykpO1xuICB9KTtcbiAgb24oJ2NsaWNrJywgKF9zLCBlKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIG5leHRFbCxcbiAgICAgIHByZXZFbFxuICAgIH0gPSBzd2lwZXIubmF2aWdhdGlvbjtcbiAgICBuZXh0RWwgPSBtYWtlRWxlbWVudHNBcnJheShuZXh0RWwpO1xuICAgIHByZXZFbCA9IG1ha2VFbGVtZW50c0FycmF5KHByZXZFbCk7XG4gICAgY29uc3QgdGFyZ2V0RWwgPSBlLnRhcmdldDtcbiAgICBsZXQgdGFyZ2V0SXNCdXR0b24gPSBwcmV2RWwuaW5jbHVkZXModGFyZ2V0RWwpIHx8IG5leHRFbC5pbmNsdWRlcyh0YXJnZXRFbCk7XG4gICAgaWYgKHN3aXBlci5pc0VsZW1lbnQgJiYgIXRhcmdldElzQnV0dG9uKSB7XG4gICAgICBjb25zdCBwYXRoID0gZS5wYXRoIHx8IGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCk7XG4gICAgICBpZiAocGF0aCkge1xuICAgICAgICB0YXJnZXRJc0J1dHRvbiA9IHBhdGguZmluZChwYXRoRWwgPT4gbmV4dEVsLmluY2x1ZGVzKHBhdGhFbCkgfHwgcHJldkVsLmluY2x1ZGVzKHBhdGhFbCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGVPbkNsaWNrICYmICF0YXJnZXRJc0J1dHRvbikge1xuICAgICAgaWYgKHN3aXBlci5wYWdpbmF0aW9uICYmIHN3aXBlci5wYXJhbXMucGFnaW5hdGlvbiAmJiBzd2lwZXIucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlICYmIChzd2lwZXIucGFnaW5hdGlvbi5lbCA9PT0gdGFyZ2V0RWwgfHwgc3dpcGVyLnBhZ2luYXRpb24uZWwuY29udGFpbnModGFyZ2V0RWwpKSkgcmV0dXJuO1xuICAgICAgbGV0IGlzSGlkZGVuO1xuICAgICAgaWYgKG5leHRFbC5sZW5ndGgpIHtcbiAgICAgICAgaXNIaWRkZW4gPSBuZXh0RWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICB9IGVsc2UgaWYgKHByZXZFbC5sZW5ndGgpIHtcbiAgICAgICAgaXNIaWRkZW4gPSBwcmV2RWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKHN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXNIaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgZW1pdCgnbmF2aWdhdGlvblNob3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVtaXQoJ25hdmlnYXRpb25IaWRlJyk7XG4gICAgICB9XG4gICAgICBbLi4ubmV4dEVsLCAuLi5wcmV2RWxdLmZpbHRlcihlbCA9PiAhIWVsKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZW5hYmxlID0gKCkgPT4ge1xuICAgIHN3aXBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKC4uLnN3aXBlci5wYXJhbXMubmF2aWdhdGlvbi5uYXZpZ2F0aW9uRGlzYWJsZWRDbGFzcy5zcGxpdCgnICcpKTtcbiAgICBpbml0KCk7XG4gICAgdXBkYXRlKCk7XG4gIH07XG4gIGNvbnN0IGRpc2FibGUgPSAoKSA9PiB7XG4gICAgc3dpcGVyLmVsLmNsYXNzTGlzdC5hZGQoLi4uc3dpcGVyLnBhcmFtcy5uYXZpZ2F0aW9uLm5hdmlnYXRpb25EaXNhYmxlZENsYXNzLnNwbGl0KCcgJykpO1xuICAgIGRlc3Ryb3koKTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihzd2lwZXIubmF2aWdhdGlvbiwge1xuICAgIGVuYWJsZSxcbiAgICBkaXNhYmxlLFxuICAgIHVwZGF0ZSxcbiAgICBpbml0LFxuICAgIGRlc3Ryb3lcbiAgfSk7XG59XG5cbmV4cG9ydCB7IE5hdmlnYXRpb24gYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgZSBhcyBlbGVtZW50Q2hpbGRyZW4sIGMgYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudElmTm90RGVmaW5lZChzd2lwZXIsIG9yaWdpbmFsUGFyYW1zLCBwYXJhbXMsIGNoZWNrUHJvcHMpIHtcbiAgaWYgKHN3aXBlci5wYXJhbXMuY3JlYXRlRWxlbWVudHMpIHtcbiAgICBPYmplY3Qua2V5cyhjaGVja1Byb3BzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAoIXBhcmFtc1trZXldICYmIHBhcmFtcy5hdXRvID09PSB0cnVlKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZWxlbWVudENoaWxkcmVuKHN3aXBlci5lbCwgYC4ke2NoZWNrUHJvcHNba2V5XX1gKVswXTtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGNoZWNrUHJvcHNba2V5XSk7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjaGVja1Byb3BzW2tleV07XG4gICAgICAgICAgc3dpcGVyLmVsLmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXNba2V5XSA9IGVsZW1lbnQ7XG4gICAgICAgIG9yaWdpbmFsUGFyYW1zW2tleV0gPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUVsZW1lbnRJZk5vdERlZmluZWQgYXMgYyB9O1xuIiwiaW1wb3J0IFN3aXBlciBmcm9tIFwic3dpcGVyXCI7XG5pbXBvcnQgXCJzd2lwZXIvY3NzXCI7XG5pbXBvcnQgeyBOYXZpZ2F0aW9uIH0gZnJvbSBcInN3aXBlci9tb2R1bGVzXCI7XG5cbmNvbnN0IGluaXRTbGlkZXJzID0gKCkgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pdGVtcy1jYXJvdXNlbF9fc3dpcGVyXCIpKSB7XG4gICAgbmV3IFN3aXBlcihcIi5pdGVtcy1jYXJvdXNlbF9fc3dpcGVyXCIsIHtcbiAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uXSxcbiAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICBzcGFjZUJldHdlZW46IDIwMyxcbiAgICB9KTtcbiAgfVxufTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGluaXRTbGlkZXJzKTtcbiIsIi8qIVxuICogbGlnaHRnYWxsZXJ5IHwgMi43LjIgfCBTZXB0ZW1iZXIgMjB0aCAyMDIzXG4gKiBodHRwOi8vd3d3LmxpZ2h0Z2FsbGVyeWpzLmNvbS9cbiAqIENvcHlyaWdodCAoYykgMjAyMCBTYWNoaW4gTmVyYXZhdGg7XG4gKiBAbGljZW5zZSBHUEx2M1xuICovXG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxuXG4vKipcclxuICogTGlzdCBvZiBsaWdodEdhbGxlcnkgZXZlbnRzXHJcbiAqIEFsbCBldmVudHMgc2hvdWxkIGJlIGRvY3VtZW50ZWQgaGVyZVxyXG4gKiBCZWxvdyBpbnRlcmZhY2VzIGFyZSB1c2VkIHRvIGJ1aWxkIHRoZSB3ZWJzaXRlIGRvY3VtZW50YXRpb25zXHJcbiAqICovXHJcbnZhciBsR0V2ZW50cyA9IHtcclxuICAgIGFmdGVyQXBwZW5kU2xpZGU6ICdsZ0FmdGVyQXBwZW5kU2xpZGUnLFxyXG4gICAgaW5pdDogJ2xnSW5pdCcsXHJcbiAgICBoYXNWaWRlbzogJ2xnSGFzVmlkZW8nLFxyXG4gICAgY29udGFpbmVyUmVzaXplOiAnbGdDb250YWluZXJSZXNpemUnLFxyXG4gICAgdXBkYXRlU2xpZGVzOiAnbGdVcGRhdGVTbGlkZXMnLFxyXG4gICAgYWZ0ZXJBcHBlbmRTdWJIdG1sOiAnbGdBZnRlckFwcGVuZFN1Ykh0bWwnLFxyXG4gICAgYmVmb3JlT3BlbjogJ2xnQmVmb3JlT3BlbicsXHJcbiAgICBhZnRlck9wZW46ICdsZ0FmdGVyT3BlbicsXHJcbiAgICBzbGlkZUl0ZW1Mb2FkOiAnbGdTbGlkZUl0ZW1Mb2FkJyxcclxuICAgIGJlZm9yZVNsaWRlOiAnbGdCZWZvcmVTbGlkZScsXHJcbiAgICBhZnRlclNsaWRlOiAnbGdBZnRlclNsaWRlJyxcclxuICAgIHBvc3RlckNsaWNrOiAnbGdQb3N0ZXJDbGljaycsXHJcbiAgICBkcmFnU3RhcnQ6ICdsZ0RyYWdTdGFydCcsXHJcbiAgICBkcmFnTW92ZTogJ2xnRHJhZ01vdmUnLFxyXG4gICAgZHJhZ0VuZDogJ2xnRHJhZ0VuZCcsXHJcbiAgICBiZWZvcmVOZXh0U2xpZGU6ICdsZ0JlZm9yZU5leHRTbGlkZScsXHJcbiAgICBiZWZvcmVQcmV2U2xpZGU6ICdsZ0JlZm9yZVByZXZTbGlkZScsXHJcbiAgICBiZWZvcmVDbG9zZTogJ2xnQmVmb3JlQ2xvc2UnLFxyXG4gICAgYWZ0ZXJDbG9zZTogJ2xnQWZ0ZXJDbG9zZScsXHJcbiAgICByb3RhdGVMZWZ0OiAnbGdSb3RhdGVMZWZ0JyxcclxuICAgIHJvdGF0ZVJpZ2h0OiAnbGdSb3RhdGVSaWdodCcsXHJcbiAgICBmbGlwSG9yaXpvbnRhbDogJ2xnRmxpcEhvcml6b250YWwnLFxyXG4gICAgZmxpcFZlcnRpY2FsOiAnbGdGbGlwVmVydGljYWwnLFxyXG4gICAgYXV0b3BsYXk6ICdsZ0F1dG9wbGF5JyxcclxuICAgIGF1dG9wbGF5U3RhcnQ6ICdsZ0F1dG9wbGF5U3RhcnQnLFxyXG4gICAgYXV0b3BsYXlTdG9wOiAnbGdBdXRvcGxheVN0b3AnLFxyXG59O1xuXG52YXIgbGlnaHRHYWxsZXJ5Q29yZVNldHRpbmdzID0ge1xyXG4gICAgbW9kZTogJ2xnLXNsaWRlJyxcclxuICAgIGVhc2luZzogJ2Vhc2UnLFxyXG4gICAgc3BlZWQ6IDQwMCxcclxuICAgIGxpY2Vuc2VLZXk6ICcwMDAwLTAwMDAtMDAwLTAwMDAnLFxyXG4gICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgYWRkQ2xhc3M6ICcnLFxyXG4gICAgc3RhcnRDbGFzczogJ2xnLXN0YXJ0LXpvb20nLFxyXG4gICAgYmFja2Ryb3BEdXJhdGlvbjogMzAwLFxyXG4gICAgY29udGFpbmVyOiAnJyxcclxuICAgIHN0YXJ0QW5pbWF0aW9uRHVyYXRpb246IDQwMCxcclxuICAgIHpvb21Gcm9tT3JpZ2luOiB0cnVlLFxyXG4gICAgaGlkZUJhcnNEZWxheTogMCxcclxuICAgIHNob3dCYXJzQWZ0ZXI6IDEwMDAwLFxyXG4gICAgc2xpZGVEZWxheTogMCxcclxuICAgIHN1cHBvcnRMZWdhY3lCcm93c2VyOiB0cnVlLFxyXG4gICAgYWxsb3dNZWRpYU92ZXJsYXA6IGZhbHNlLFxyXG4gICAgdmlkZW9NYXhTaXplOiAnMTI4MC03MjAnLFxyXG4gICAgbG9hZFlvdVR1YmVQb3N0ZXI6IHRydWUsXHJcbiAgICBkZWZhdWx0Q2FwdGlvbkhlaWdodDogMCxcclxuICAgIGFyaWFMYWJlbGxlZGJ5OiAnJyxcclxuICAgIGFyaWFEZXNjcmliZWRieTogJycsXHJcbiAgICByZXNldFNjcm9sbFBvc2l0aW9uOiB0cnVlLFxyXG4gICAgaGlkZVNjcm9sbGJhcjogZmFsc2UsXHJcbiAgICBjbG9zYWJsZTogdHJ1ZSxcclxuICAgIHN3aXBlVG9DbG9zZTogdHJ1ZSxcclxuICAgIGNsb3NlT25UYXA6IHRydWUsXHJcbiAgICBzaG93Q2xvc2VJY29uOiB0cnVlLFxyXG4gICAgc2hvd01heGltaXplSWNvbjogZmFsc2UsXHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgZXNjS2V5OiB0cnVlLFxyXG4gICAga2V5UHJlc3M6IHRydWUsXHJcbiAgICB0cmFwRm9jdXM6IHRydWUsXHJcbiAgICBjb250cm9sczogdHJ1ZSxcclxuICAgIHNsaWRlRW5kQW5pbWF0aW9uOiB0cnVlLFxyXG4gICAgaGlkZUNvbnRyb2xPbkVuZDogZmFsc2UsXHJcbiAgICBtb3VzZXdoZWVsOiBmYWxzZSxcclxuICAgIGdldENhcHRpb25Gcm9tVGl0bGVPckFsdDogdHJ1ZSxcclxuICAgIGFwcGVuZFN1Ykh0bWxUbzogJy5sZy1zdWItaHRtbCcsXHJcbiAgICBzdWJIdG1sU2VsZWN0b3JSZWxhdGl2ZTogZmFsc2UsXHJcbiAgICBwcmVsb2FkOiAyLFxyXG4gICAgbnVtYmVyT2ZTbGlkZUl0ZW1zSW5Eb206IDEwLFxyXG4gICAgc2VsZWN0b3I6ICcnLFxyXG4gICAgc2VsZWN0V2l0aGluOiAnJyxcclxuICAgIG5leHRIdG1sOiAnJyxcclxuICAgIHByZXZIdG1sOiAnJyxcclxuICAgIGluZGV4OiAwLFxyXG4gICAgaWZyYW1lV2lkdGg6ICcxMDAlJyxcclxuICAgIGlmcmFtZUhlaWdodDogJzEwMCUnLFxyXG4gICAgaWZyYW1lTWF4V2lkdGg6ICcxMDAlJyxcclxuICAgIGlmcmFtZU1heEhlaWdodDogJzEwMCUnLFxyXG4gICAgZG93bmxvYWQ6IHRydWUsXHJcbiAgICBjb3VudGVyOiB0cnVlLFxyXG4gICAgYXBwZW5kQ291bnRlclRvOiAnLmxnLXRvb2xiYXInLFxyXG4gICAgc3dpcGVUaHJlc2hvbGQ6IDUwLFxyXG4gICAgZW5hYmxlU3dpcGU6IHRydWUsXHJcbiAgICBlbmFibGVEcmFnOiB0cnVlLFxyXG4gICAgZHluYW1pYzogZmFsc2UsXHJcbiAgICBkeW5hbWljRWw6IFtdLFxyXG4gICAgZXh0cmFQcm9wczogW10sXHJcbiAgICBleFRodW1iSW1hZ2U6ICcnLFxyXG4gICAgaXNNb2JpbGU6IHVuZGVmaW5lZCxcclxuICAgIG1vYmlsZVNldHRpbmdzOiB7XHJcbiAgICAgICAgY29udHJvbHM6IGZhbHNlLFxyXG4gICAgICAgIHNob3dDbG9zZUljb246IGZhbHNlLFxyXG4gICAgICAgIGRvd25sb2FkOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICBwbHVnaW5zOiBbXSxcclxuICAgIHN0cmluZ3M6IHtcclxuICAgICAgICBjbG9zZUdhbGxlcnk6ICdDbG9zZSBnYWxsZXJ5JyxcclxuICAgICAgICB0b2dnbGVNYXhpbWl6ZTogJ1RvZ2dsZSBtYXhpbWl6ZScsXHJcbiAgICAgICAgcHJldmlvdXNTbGlkZTogJ1ByZXZpb3VzIHNsaWRlJyxcclxuICAgICAgICBuZXh0U2xpZGU6ICdOZXh0IHNsaWRlJyxcclxuICAgICAgICBkb3dubG9hZDogJ0Rvd25sb2FkJyxcclxuICAgICAgICBwbGF5VmlkZW86ICdQbGF5IHZpZGVvJyxcclxuICAgICAgICBtZWRpYUxvYWRpbmdGYWlsZWQ6ICdPb3BzLi4uIEZhaWxlZCB0byBsb2FkIGNvbnRlbnQuLi4nLFxyXG4gICAgfSxcclxufTtcblxuZnVuY3Rpb24gaW5pdExnUG9seWZpbGxzKCkge1xyXG4gICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMpIHtcclxuICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHtcclxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkZXRhaWw6IG51bGwsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcclxuICAgICAgICAgICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcclxuICAgICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XHJcbiAgICB9KSgpO1xyXG4gICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICAgICAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG59XHJcbnZhciBsZ1F1ZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gbGdRdWVyeShzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuY3NzVmVuZGVyUHJlZml4ZXMgPSBbXHJcbiAgICAgICAgICAgICdUcmFuc2l0aW9uRHVyYXRpb24nLFxyXG4gICAgICAgICAgICAnVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJyxcclxuICAgICAgICAgICAgJ1RyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICdUcmFuc2l0aW9uJyxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSB0aGlzLl9nZXRTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5maXJzdEVsZW1lbnQgPSB0aGlzLl9nZXRGaXJzdEVsKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBsZ1F1ZXJ5LmdlbmVyYXRlVVVJRCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLl9nZXRTZWxlY3RvciA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkge1xyXG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IGRvY3VtZW50OyB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcclxuICAgICAgICB2YXIgZmwgPSBzZWxlY3Rvci5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgaWYgKGZsID09PSAnIycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuX2VhY2ggPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuc2VsZWN0b3IsIGZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZnVuYyh0aGlzLnNlbGVjdG9yLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuX3NldENzc1ZlbmRvclByZWZpeCA9IGZ1bmN0aW9uIChlbCwgY3NzUHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gY3NzUHJvcGVydHkucmVwbGFjZSgvLShbYS16XSkvZ2ksIGZ1bmN0aW9uIChzLCBncm91cDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwMS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmNzc1ZlbmRlclByZWZpeGVzLmluZGV4T2YocHJvcGVydHkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBlbC5zdHlsZVtwcm9wZXJ0eS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBlbC5zdHlsZVsnd2Via2l0JyArIHByb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBlbC5zdHlsZVsnbW96JyArIHByb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBlbC5zdHlsZVsnbXMnICsgcHJvcGVydHldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGVsLnN0eWxlWydvJyArIHByb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLl9nZXRGaXJzdEVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yICYmIHRoaXMuc2VsZWN0b3IubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3JbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RvcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuaXNFdmVudE1hdGNoZWQgPSBmdW5jdGlvbiAoZXZlbnQsIGV2ZW50TmFtZSkge1xyXG4gICAgICAgIHZhciBldmVudE5hbWVzcGFjZSA9IGV2ZW50TmFtZS5zcGxpdCgnLicpO1xyXG4gICAgICAgIHJldHVybiBldmVudFxyXG4gICAgICAgICAgICAuc3BsaXQoJy4nKVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlOyB9KVxyXG4gICAgICAgICAgICAuZXZlcnkoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50TmFtZXNwYWNlLmluZGV4T2YoZSkgIT09IC0xO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmF0dHIgPSBmdW5jdGlvbiAoYXR0ciwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZmlyc3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RFbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuICRMRyh0aGlzLl9nZXRTZWxlY3RvcihzZWxlY3RvciwgdGhpcy5zZWxlY3RvcikpO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yICYmIHRoaXMuc2VsZWN0b3IubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRMRyh0aGlzLnNlbGVjdG9yWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkTEcodGhpcy5zZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuICRMRyh0aGlzLnNlbGVjdG9yW2luZGV4XSk7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkTEcodGhpcy5zZWxlY3Rvci5wYXJlbnRFbGVtZW50KTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEZpcnN0RWwoKTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5yZW1vdmVBdHRyID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICB2YXIgYXR0cnMgPSBhdHRyaWJ1dGVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgYXR0cnMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikgeyByZXR1cm4gZWwucmVtb3ZlQXR0cmlidXRlKGF0dHIpOyB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5maXJzdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgdGhpcy5maXJzdEVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgdGhpcy5maXJzdEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZmlyc3RFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5maXJzdEVsZW1lbnQpO1xyXG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5maXJzdEVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZXMpIHtcclxuICAgICAgICBpZiAoY2xhc3NOYW1lcyA9PT0gdm9pZCAwKSB7IGNsYXNzTmFtZXMgPSAnJzsgfVxyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBtdWx0aXBsZSBhcmd1bWVudHNcclxuICAgICAgICAgICAgY2xhc3NOYW1lcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lcykge1xyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBtdWx0aXBsZSBhcmd1bWVudHNcclxuICAgICAgICAgICAgY2xhc3NOYW1lcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuaGFzQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5oYXNBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0cmlidXRlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0RWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS50b2dnbGVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZmlyc3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5oYXNDbGFzcyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3NldENzc1ZlbmRvclByZWZpeChlbCwgcHJvcGVydHksIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvLyBOZWVkIHRvIHBhc3Mgc2VwYXJhdGUgbmFtZXNwYWNlcyBmb3Igc2VwYXJhdGUgZWxlbWVudHNcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgbGlzdGVuZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxnUXVlcnkuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSkge1xyXG4gICAgICAgICAgICAgICAgbGdRdWVyeS5ldmVudExpc3RlbmVyc1tldmVudF0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZ1F1ZXJ5LmV2ZW50TGlzdGVuZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihldmVudC5zcGxpdCgnLicpWzBdLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLy8gQHRvZG8gLSB0ZXN0IHRoaXNcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLm9uKGV2ZW50LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9mZihldmVudCk7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmtleXMobGdRdWVyeS5ldmVudExpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0V2ZW50TWF0Y2hlZChldmVudCwgZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgbGdRdWVyeS5ldmVudExpc3RlbmVyc1tldmVudE5hbWVdLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUuc3BsaXQoJy4nKVswXSwgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsZ1F1ZXJ5LmV2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGRldGFpbCkge1xyXG4gICAgICAgIGlmICghdGhpcy5maXJzdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudC5zcGxpdCgnLicpWzBdLCB7XHJcbiAgICAgICAgICAgIGRldGFpbDogZGV0YWlsIHx8IG51bGwsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5maXJzdEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLy8gRG9lcyBub3Qgc3VwcG9ydCBJRVxyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGZldGNoKHVybClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLnRleHQoKTsgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0b3IuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICBpZiAoaHRtbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5maXJzdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBodG1sID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBodG1sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGh0bWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIChodG1sKSB7XHJcbiAgICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgaHRtbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2VhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkucHJvdG90eXBlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uIChzY3JvbGxUb3ApIHtcclxuICAgICAgICBpZiAoc2Nyb2xsVG9wICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cucGFnZVlPZmZzZXQgfHxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8XHJcbiAgICAgICAgICAgICAgICAwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuc2Nyb2xsTGVmdCA9IGZ1bmN0aW9uIChzY3JvbGxMZWZ0KSB7XHJcbiAgICAgICAgaWYgKHNjcm9sbExlZnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cucGFnZVhPZmZzZXQgfHxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHxcclxuICAgICAgICAgICAgICAgIDApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmZpcnN0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgYm9keU1hcmdpbkxlZnQgPSAkTEcoJ2JvZHknKS5zdHlsZSgpLm1hcmdpbkxlZnQ7XHJcbiAgICAgICAgLy8gTWludXMgYm9keSBtYXJnaW4gLSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDcxMTU0OC9pcy1nZXRib3VuZGluZ2NsaWVudHJlY3QtbGVmdC1yZXR1cm5pbmctYS13cm9uZy12YWx1ZVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIHBhcnNlRmxvYXQoYm9keU1hcmdpbkxlZnQpICsgdGhpcy5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKyB0aGlzLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgbGdRdWVyeS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpcnN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpcy5maXJzdEVsZW1lbnQuY3VycmVudFN0eWxlIHx8XHJcbiAgICAgICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZmlyc3RFbGVtZW50KSk7XHJcbiAgICB9O1xyXG4gICAgLy8gV2lkdGggd2l0aG91dCBwYWRkaW5nIGFuZCBib3JkZXIgZXZlbiBpZiBib3gtc2l6aW5nIGlzIHVzZWQuXHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlKCk7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmZpcnN0RWxlbWVudC5jbGllbnRXaWR0aCAtXHJcbiAgICAgICAgICAgIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpIC1cclxuICAgICAgICAgICAgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nUmlnaHQpKTtcclxuICAgIH07XHJcbiAgICAvLyBIZWlnaHQgd2l0aG91dCBwYWRkaW5nIGFuZCBib3JkZXIgZXZlbiBpZiBib3gtc2l6aW5nIGlzIHVzZWQuXHJcbiAgICBsZ1F1ZXJ5LnByb3RvdHlwZS5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5zdHlsZSgpO1xyXG4gICAgICAgIHJldHVybiAodGhpcy5maXJzdEVsZW1lbnQuY2xpZW50SGVpZ2h0IC1cclxuICAgICAgICAgICAgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSAtXHJcbiAgICAgICAgICAgIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkpO1xyXG4gICAgfTtcclxuICAgIGxnUXVlcnkuZXZlbnRMaXN0ZW5lcnMgPSB7fTtcclxuICAgIHJldHVybiBsZ1F1ZXJ5O1xyXG59KCkpO1xyXG5mdW5jdGlvbiAkTEcoc2VsZWN0b3IpIHtcclxuICAgIGluaXRMZ1BvbHlmaWxscygpO1xyXG4gICAgcmV0dXJuIG5ldyBsZ1F1ZXJ5KHNlbGVjdG9yKTtcclxufVxuXG52YXIgZGVmYXVsdER5bmFtaWNPcHRpb25zID0gW1xyXG4gICAgJ3NyYycsXHJcbiAgICAnc291cmNlcycsXHJcbiAgICAnc3ViSHRtbCcsXHJcbiAgICAnc3ViSHRtbFVybCcsXHJcbiAgICAnaHRtbCcsXHJcbiAgICAndmlkZW8nLFxyXG4gICAgJ3Bvc3RlcicsXHJcbiAgICAnc2xpZGVOYW1lJyxcclxuICAgICdyZXNwb25zaXZlJyxcclxuICAgICdzcmNzZXQnLFxyXG4gICAgJ3NpemVzJyxcclxuICAgICdpZnJhbWUnLFxyXG4gICAgJ2Rvd25sb2FkVXJsJyxcclxuICAgICdkb3dubG9hZCcsXHJcbiAgICAnd2lkdGgnLFxyXG4gICAgJ2ZhY2Vib29rU2hhcmVVcmwnLFxyXG4gICAgJ3R3ZWV0VGV4dCcsXHJcbiAgICAnaWZyYW1lVGl0bGUnLFxyXG4gICAgJ3R3aXR0ZXJTaGFyZVVybCcsXHJcbiAgICAncGludGVyZXN0U2hhcmVVcmwnLFxyXG4gICAgJ3BpbnRlcmVzdFRleHQnLFxyXG4gICAgJ2ZiSHRtbCcsXHJcbiAgICAnZGlzcXVzSWRlbnRpZmllcicsXHJcbiAgICAnZGlzcXVzVXJsJyxcclxuXTtcclxuLy8gQ29udmVydCBodG1sIGRhdGEtYXR0cmlidXRlIHRvIGNhbWFsY2FzZVxyXG5mdW5jdGlvbiBjb252ZXJ0VG9EYXRhKGF0dHIpIHtcclxuICAgIC8vIEZJbmQgYSB3YXkgZm9yIGxnc2l6ZVxyXG4gICAgaWYgKGF0dHIgPT09ICdocmVmJykge1xyXG4gICAgICAgIHJldHVybiAnc3JjJztcclxuICAgIH1cclxuICAgIGF0dHIgPSBhdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpO1xyXG4gICAgYXR0ciA9IGF0dHIuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBhdHRyLnNsaWNlKDEpO1xyXG4gICAgYXR0ciA9IGF0dHIucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24gKGcpIHsgcmV0dXJuIGdbMV0udG9VcHBlckNhc2UoKTsgfSk7XHJcbiAgICByZXR1cm4gYXR0cjtcclxufVxyXG52YXIgdXRpbHMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIGdldCBwb3NzaWJsZSB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gdGhlIGxnU2l6ZSBhdHRyaWJ1dGUuIFVzZWQgZm9yIFpvb21Gcm9tT3JpZ2luIG9wdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRTaXplOiBmdW5jdGlvbiAoZWwsIGNvbnRhaW5lciwgc3BhY2luZywgZGVmYXVsdExnU2l6ZSkge1xyXG4gICAgICAgIGlmIChzcGFjaW5nID09PSB2b2lkIDApIHsgc3BhY2luZyA9IDA7IH1cclxuICAgICAgICB2YXIgTEdlbCA9ICRMRyhlbCk7XHJcbiAgICAgICAgdmFyIGxnU2l6ZSA9IExHZWwuYXR0cignZGF0YS1sZy1zaXplJykgfHwgZGVmYXVsdExnU2l6ZTtcclxuICAgICAgICBpZiAoIWxnU2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc1Jlc3BvbnNpdmVTaXplcyA9IGxnU2l6ZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgIC8vIGlmIGF0LWxlYXN0IHR3byB2aWV3cG9ydCBzaXplcyBhcmUgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYgKGlzUmVzcG9uc2l2ZVNpemVzWzFdKSB7XHJcbiAgICAgICAgICAgIHZhciB3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc1Jlc3BvbnNpdmVTaXplcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpemVfMSA9IGlzUmVzcG9uc2l2ZVNpemVzW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNpdmVXaWR0aCA9IHBhcnNlSW50KHNpemVfMS5zcGxpdCgnLScpWzJdLCAxMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2l2ZVdpZHRoID4gd1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGdTaXplID0gc2l6ZV8xO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGFrZSBsYXN0IGl0ZW0gYXMgbGFzdCBvcHRpb25cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSBpc1Jlc3BvbnNpdmVTaXplcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGdTaXplID0gc2l6ZV8xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzaXplID0gbGdTaXplLnNwbGl0KCctJyk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VJbnQoc2l6ZVswXSwgMTApO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUludChzaXplWzFdLCAxMCk7XHJcbiAgICAgICAgdmFyIGNXaWR0aCA9IGNvbnRhaW5lci53aWR0aCgpO1xyXG4gICAgICAgIHZhciBjSGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCgpIC0gc3BhY2luZztcclxuICAgICAgICB2YXIgbWF4V2lkdGggPSBNYXRoLm1pbihjV2lkdGgsIHdpZHRoKTtcclxuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5taW4oY0hlaWdodCwgaGVpZ2h0KTtcclxuICAgICAgICB2YXIgcmF0aW8gPSBNYXRoLm1pbihtYXhXaWR0aCAvIHdpZHRoLCBtYXhIZWlnaHQgLyBoZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiB7IHdpZHRoOiB3aWR0aCAqIHJhdGlvLCBoZWlnaHQ6IGhlaWdodCAqIHJhdGlvIH07XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzYyBHZXQgdHJhbnNmb3JtIHZhbHVlIGJhc2VkIG9uIHRoZSBpbWFnZVNpemUuIFVzZWQgZm9yIFpvb21Gcm9tT3JpZ2luIG9wdGlvblxyXG4gICAgICogQHBhcmFtIHtqUXVlcnkgRWxlbWVudH1cclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRyYW5zZm9ybSBDU1Mgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIGdldFRyYW5zZm9ybTogZnVuY3Rpb24gKGVsLCBjb250YWluZXIsIHRvcCwgYm90dG9tLCBpbWFnZVNpemUpIHtcclxuICAgICAgICBpZiAoIWltYWdlU2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBMR2VsID0gJExHKGVsKS5maW5kKCdpbWcnKS5maXJzdCgpO1xyXG4gICAgICAgIGlmICghTEdlbC5nZXQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHZhciB3V2lkdGggPSBjb250YWluZXJSZWN0LndpZHRoO1xyXG4gICAgICAgIC8vIHVzaW5nIGlubmVyV2lkdGggdG8gaW5jbHVkZSBtb2JpbGUgc2FmYXJpIGJvdHRvbSBiYXJcclxuICAgICAgICB2YXIgd0hlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQoKSAtICh0b3AgKyBib3R0b20pO1xyXG4gICAgICAgIHZhciBlbFdpZHRoID0gTEdlbC53aWR0aCgpO1xyXG4gICAgICAgIHZhciBlbEhlaWdodCA9IExHZWwuaGVpZ2h0KCk7XHJcbiAgICAgICAgdmFyIGVsU3R5bGUgPSBMR2VsLnN0eWxlKCk7XHJcbiAgICAgICAgdmFyIHggPSAod1dpZHRoIC0gZWxXaWR0aCkgLyAyIC1cclxuICAgICAgICAgICAgTEdlbC5vZmZzZXQoKS5sZWZ0ICtcclxuICAgICAgICAgICAgKHBhcnNlRmxvYXQoZWxTdHlsZS5wYWRkaW5nTGVmdCkgfHwgMCkgK1xyXG4gICAgICAgICAgICAocGFyc2VGbG9hdChlbFN0eWxlLmJvcmRlckxlZnQpIHx8IDApICtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykuc2Nyb2xsTGVmdCgpICtcclxuICAgICAgICAgICAgY29udGFpbmVyUmVjdC5sZWZ0O1xyXG4gICAgICAgIHZhciB5ID0gKHdIZWlnaHQgLSBlbEhlaWdodCkgLyAyIC1cclxuICAgICAgICAgICAgTEdlbC5vZmZzZXQoKS50b3AgK1xyXG4gICAgICAgICAgICAocGFyc2VGbG9hdChlbFN0eWxlLnBhZGRpbmdUb3ApIHx8IDApICtcclxuICAgICAgICAgICAgKHBhcnNlRmxvYXQoZWxTdHlsZS5ib3JkZXJUb3ApIHx8IDApICtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykuc2Nyb2xsVG9wKCkgK1xyXG4gICAgICAgICAgICB0b3A7XHJcbiAgICAgICAgdmFyIHNjWCA9IGVsV2lkdGggLyBpbWFnZVNpemUud2lkdGg7XHJcbiAgICAgICAgdmFyIHNjWSA9IGVsSGVpZ2h0IC8gaW1hZ2VTaXplLmhlaWdodDtcclxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKCcgK1xyXG4gICAgICAgICAgICAoeCAqPSAtMSkgK1xyXG4gICAgICAgICAgICAncHgsICcgK1xyXG4gICAgICAgICAgICAoeSAqPSAtMSkgK1xyXG4gICAgICAgICAgICAncHgsIDApIHNjYWxlM2QoJyArXHJcbiAgICAgICAgICAgIHNjWCArXHJcbiAgICAgICAgICAgICcsICcgK1xyXG4gICAgICAgICAgICBzY1kgK1xyXG4gICAgICAgICAgICAnLCAxKSc7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcclxuICAgIH0sXHJcbiAgICBnZXRJZnJhbWVNYXJrdXA6IGZ1bmN0aW9uIChpZnJhbWVXaWR0aCwgaWZyYW1lSGVpZ2h0LCBpZnJhbWVNYXhXaWR0aCwgaWZyYW1lTWF4SGVpZ2h0LCBzcmMsIGlmcmFtZVRpdGxlKSB7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gaWZyYW1lVGl0bGUgPyAndGl0bGU9XCInICsgaWZyYW1lVGl0bGUgKyAnXCInIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwibGctdmlkZW8tY29udCBsZy1oYXMtaWZyYW1lXFxcIiBzdHlsZT1cXFwid2lkdGg6XCIgKyBpZnJhbWVXaWR0aCArIFwiOyBtYXgtd2lkdGg6XCIgKyBpZnJhbWVNYXhXaWR0aCArIFwiOyBoZWlnaHQ6IFwiICsgaWZyYW1lSGVpZ2h0ICsgXCI7IG1heC1oZWlnaHQ6XCIgKyBpZnJhbWVNYXhIZWlnaHQgKyBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aWZyYW1lIGNsYXNzPVxcXCJsZy1vYmplY3RcXFwiIGZyYW1lYm9yZGVyPVxcXCIwXFxcIiBcIiArIHRpdGxlICsgXCIgc3JjPVxcXCJcIiArIHNyYyArIFwiXFxcIiAgYWxsb3dmdWxsc2NyZWVuPVxcXCJ0cnVlXFxcIj48L2lmcmFtZT5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XCI7XHJcbiAgICB9LFxyXG4gICAgZ2V0SW1nTWFya3VwOiBmdW5jdGlvbiAoaW5kZXgsIHNyYywgYWx0QXR0ciwgc3Jjc2V0LCBzaXplcywgc291cmNlcykge1xyXG4gICAgICAgIHZhciBzcmNzZXRBdHRyID0gc3Jjc2V0ID8gXCJzcmNzZXQ9XFxcIlwiICsgc3Jjc2V0ICsgXCJcXFwiXCIgOiAnJztcclxuICAgICAgICB2YXIgc2l6ZXNBdHRyID0gc2l6ZXMgPyBcInNpemVzPVxcXCJcIiArIHNpemVzICsgXCJcXFwiXCIgOiAnJztcclxuICAgICAgICB2YXIgaW1nTWFya3VwID0gXCI8aW1nIFwiICsgYWx0QXR0ciArIFwiIFwiICsgc3Jjc2V0QXR0ciArIFwiICBcIiArIHNpemVzQXR0ciArIFwiIGNsYXNzPVxcXCJsZy1vYmplY3QgbGctaW1hZ2VcXFwiIGRhdGEtaW5kZXg9XFxcIlwiICsgaW5kZXggKyBcIlxcXCIgc3JjPVxcXCJcIiArIHNyYyArIFwiXFxcIiAvPlwiO1xyXG4gICAgICAgIHZhciBzb3VyY2VUYWcgPSAnJztcclxuICAgICAgICBpZiAoc291cmNlcykge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlT2JqID0gdHlwZW9mIHNvdXJjZXMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShzb3VyY2VzKSA6IHNvdXJjZXM7XHJcbiAgICAgICAgICAgIHNvdXJjZVRhZyA9IHNvdXJjZU9iai5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gJyc7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCByZW1vdmUgdGhlIGZpcnN0IHNwYWNlIGFzIGl0IGlzIHJlcXVpcmVkIHRvIHNlcGFyYXRlIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMgKz0gXCIgXCIgKyBrZXkgKyBcIj1cXFwiXCIgKyBzb3VyY2Vba2V5XSArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8c291cmNlIFwiICsgYXR0cnMgKyBcIj48L3NvdXJjZT5cIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiICsgc291cmNlVGFnICsgaW1nTWFya3VwO1xyXG4gICAgfSxcclxuICAgIC8vIEdldCBzcmMgZnJvbSByZXNwb25zaXZlIHNyY1xyXG4gICAgZ2V0UmVzcG9uc2l2ZVNyYzogZnVuY3Rpb24gKHNyY0l0bXMpIHtcclxuICAgICAgICB2YXIgcnNXaWR0aCA9IFtdO1xyXG4gICAgICAgIHZhciByc1NyYyA9IFtdO1xyXG4gICAgICAgIHZhciBzcmMgPSAnJztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNyY0l0bXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIF9zcmMgPSBzcmNJdG1zW2ldLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIC8vIE1hbmFnZSBlbXB0eSBzcGFjZVxyXG4gICAgICAgICAgICBpZiAoX3NyY1swXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIF9zcmMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJzU3JjLnB1c2goX3NyY1swXSk7XHJcbiAgICAgICAgICAgIHJzV2lkdGgucHVzaChfc3JjWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnNXaWR0aC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQocnNXaWR0aFtqXSwgMTApID4gd1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzcmMgPSByc1NyY1tqXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcmM7XHJcbiAgICB9LFxyXG4gICAgaXNJbWFnZUxvYWRlZDogZnVuY3Rpb24gKGltZykge1xyXG4gICAgICAgIGlmICghaW1nKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gRHVyaW5nIHRoZSBvbmxvYWQgZXZlbnQsIElFIGNvcnJlY3RseSBpZGVudGlmaWVzIGFueSBpbWFnZXMgdGhhdFxyXG4gICAgICAgIC8vIHdlcmVu4oCZdCBkb3dubG9hZGVkIGFzIG5vdCBjb21wbGV0ZS4gT3RoZXJzIHNob3VsZCB0b28uIEdlY2tvLWJhc2VkXHJcbiAgICAgICAgLy8gYnJvd3NlcnMgYWN0IGxpa2UgTlM0IGluIHRoYXQgdGhleSByZXBvcnQgdGhpcyBpbmNvcnJlY3RseS5cclxuICAgICAgICBpZiAoIWltZy5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhvd2V2ZXIsIHRoZXkgZG8gaGF2ZSB0d28gdmVyeSB1c2VmdWwgcHJvcGVydGllczogbmF0dXJhbFdpZHRoIGFuZFxyXG4gICAgICAgIC8vIG5hdHVyYWxIZWlnaHQuIFRoZXNlIGdpdmUgdGhlIHRydWUgc2l6ZSBvZiB0aGUgaW1hZ2UuIElmIGl0IGZhaWxlZFxyXG4gICAgICAgIC8vIHRvIGxvYWQsIGVpdGhlciBvZiB0aGVzZSBzaG91bGQgYmUgemVyby5cclxuICAgICAgICBpZiAoaW1nLm5hdHVyYWxXaWR0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vIG90aGVyIHdheSBvZiBjaGVja2luZzogYXNzdW1lIGl04oCZcyBvay5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBnZXRWaWRlb1Bvc3Rlck1hcmt1cDogZnVuY3Rpb24gKF9wb3N0ZXIsIGR1bW15SW1nLCB2aWRlb0NvbnRTdHlsZSwgcGxheVZpZGVvU3RyaW5nLCBfaXNWaWRlbykge1xyXG4gICAgICAgIHZhciB2aWRlb0NsYXNzID0gJyc7XHJcbiAgICAgICAgaWYgKF9pc1ZpZGVvICYmIF9pc1ZpZGVvLnlvdXR1YmUpIHtcclxuICAgICAgICAgICAgdmlkZW9DbGFzcyA9ICdsZy1oYXMteW91dHViZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF9pc1ZpZGVvICYmIF9pc1ZpZGVvLnZpbWVvKSB7XHJcbiAgICAgICAgICAgIHZpZGVvQ2xhc3MgPSAnbGctaGFzLXZpbWVvJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvQ2xhc3MgPSAnbGctaGFzLWh0bWw1JztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwibGctdmlkZW8tY29udCBcIiArIHZpZGVvQ2xhc3MgKyBcIlxcXCIgc3R5bGU9XFxcIlwiICsgdmlkZW9Db250U3R5bGUgKyBcIlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktYnV0dG9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHN2Z1xcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cXFwiMCAwIDIwIDIwXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cXFwieE1pZFlNaWRcXFwiXFxuICAgICAgICAgICAgICAgICAgICBmb2N1c2FibGU9XFxcImZhbHNlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVxcXCJcIiArIHBsYXlWaWRlb1N0cmluZyArIFwiXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cXFwiaW1nXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktaWNvblxcXCJcXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgPHRpdGxlPlwiICsgcGxheVZpZGVvU3RyaW5nICsgXCI8L3RpdGxlPlxcbiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktaWNvbi1pbm5lclxcXCIgcG9pbnRzPVxcXCIxLDAgMjAsMTAgMSwyMFxcXCI+PC9wb2x5Z29uPlxcbiAgICAgICAgICAgICAgICA8L3N2Zz5cXG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cXFwibGctdmlkZW8tcGxheS1pY29uLWJnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNTAgNTBcXFwiIGZvY3VzYWJsZT1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cXFwiNTAlXFxcIiBjeT1cXFwiNTAlXFxcIiByPVxcXCIyMFxcXCI+PC9jaXJjbGU+PC9zdmc+XFxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XFxcImxnLXZpZGVvLXBsYXktaWNvbi1jaXJjbGVcXFwiIHZpZXdCb3g9XFxcIjAgMCA1MCA1MFxcXCIgZm9jdXNhYmxlPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVxcXCI1MCVcXFwiIGN5PVxcXCI1MCVcXFwiIHI9XFxcIjIwXFxcIj48L2NpcmNsZT5cXG4gICAgICAgICAgICAgICAgPC9zdmc+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCIgKyAoZHVtbXlJbWcgfHwgJycpICsgXCJcXG4gICAgICAgICAgICA8aW1nIGNsYXNzPVxcXCJsZy1vYmplY3QgbGctdmlkZW8tcG9zdGVyXFxcIiBzcmM9XFxcIlwiICsgX3Bvc3RlciArIFwiXFxcIiAvPlxcbiAgICAgICAgPC9kaXY+XCI7XHJcbiAgICB9LFxyXG4gICAgZ2V0Rm9jdXNhYmxlRWxlbWVudHM6IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXTpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgaW5wdXRbdHlwZT1cInRleHRcIl06bm90KFtkaXNhYmxlZF0pLCBpbnB1dFt0eXBlPVwicmFkaW9cIl06bm90KFtkaXNhYmxlZF0pLCBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pJyk7XHJcbiAgICAgICAgdmFyIHZpc2libGVFbGVtZW50cyA9IFtdLmZpbHRlci5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmRpc3BsYXkgIT09ICdub25lJyAmJiBzdHlsZS52aXNpYmlsaXR5ICE9PSAnaGlkZGVuJztcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdmlzaWJsZUVsZW1lbnRzO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2MgQ3JlYXRlIGR5bmFtaWMgZWxlbWVudHMgYXJyYXkgZnJvbSBnYWxsZXJ5IGl0ZW1zIHdoZW4gZHluYW1pYyBvcHRpb24gaXMgZmFsc2VcclxuICAgICAqIEl0IGhlbHBzIHRvIGF2b2lkIGZyZXF1ZW50IERPTSBpbnRlcmFjdGlvblxyXG4gICAgICogYW5kIGF2b2lkIG11bHRpcGxlIGNoZWNrcyBmb3IgZHluYW1pYyBlbG1lbnRzXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge0FycmF5fSBkeW5hbWljRWxcclxuICAgICAqL1xyXG4gICAgZ2V0RHluYW1pY09wdGlvbnM6IGZ1bmN0aW9uIChpdGVtcywgZXh0cmFQcm9wcywgZ2V0Q2FwdGlvbkZyb21UaXRsZU9yQWx0LCBleFRodW1iSW1hZ2UpIHtcclxuICAgICAgICB2YXIgZHluYW1pY0VsZW1lbnRzID0gW107XHJcbiAgICAgICAgdmFyIGF2YWlsYWJsZUR5bmFtaWNPcHRpb25zID0gX19zcHJlYWRBcnJheXMoZGVmYXVsdER5bmFtaWNPcHRpb25zLCBleHRyYVByb3BzKTtcclxuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBkeW5hbWljRWwgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyID0gaXRlbS5hdHRyaWJ1dGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dHIuc3BlY2lmaWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR5bmFtaWNBdHRyID0gY29udmVydFRvRGF0YShhdHRyLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVEeW5hbWljT3B0aW9ucy5pbmRleE9mKGR5bmFtaWNBdHRyKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gZHluYW1pY0F0dHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljRWxbbGFiZWxdID0gYXR0ci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gJExHKGl0ZW0pO1xyXG4gICAgICAgICAgICB2YXIgYWx0ID0gY3VycmVudEl0ZW0uZmluZCgnaW1nJykuZmlyc3QoKS5hdHRyKCdhbHQnKTtcclxuICAgICAgICAgICAgdmFyIHRpdGxlID0gY3VycmVudEl0ZW0uYXR0cigndGl0bGUnKTtcclxuICAgICAgICAgICAgdmFyIHRodW1iID0gZXhUaHVtYkltYWdlXHJcbiAgICAgICAgICAgICAgICA/IGN1cnJlbnRJdGVtLmF0dHIoZXhUaHVtYkltYWdlKVxyXG4gICAgICAgICAgICAgICAgOiBjdXJyZW50SXRlbS5maW5kKCdpbWcnKS5maXJzdCgpLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgICAgICBkeW5hbWljRWwudGh1bWIgPSB0aHVtYjtcclxuICAgICAgICAgICAgaWYgKGdldENhcHRpb25Gcm9tVGl0bGVPckFsdCAmJiAhZHluYW1pY0VsLnN1Ykh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNFbC5zdWJIdG1sID0gdGl0bGUgfHwgYWx0IHx8ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGR5bmFtaWNFbC5hbHQgPSBhbHQgfHwgdGl0bGUgfHwgJyc7XHJcbiAgICAgICAgICAgIGR5bmFtaWNFbGVtZW50cy5wdXNoKGR5bmFtaWNFbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGR5bmFtaWNFbGVtZW50cztcclxuICAgIH0sXHJcbiAgICBpc01vYmlsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAvaVBob25lfGlQYWR8aVBvZHxBbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjIENoZWNrIHRoZSBnaXZlbiBzcmMgaXMgdmlkZW9cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzcmNcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdmlkZW8gdHlwZVxyXG4gICAgICogRXg6eyB5b3V0dWJlICA6ICBbXCIvL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWMwYXNKZ1N5eGNZXCIsIFwiYzBhc0pnU3l4Y1lcIl0gfVxyXG4gICAgICpcclxuICAgICAqIEB0b2RvIC0gdGhpcyBpbmZvcm1hdGlvbiBjYW4gYmUgbW92ZWQgdG8gZHluYW1pY0VsIHRvIGF2b2lkIGZyZXF1ZW50IGNhbGxzXHJcbiAgICAgKi9cclxuICAgIGlzVmlkZW86IGZ1bmN0aW9uIChzcmMsIGlzSFRNTDVWSWRlbywgaW5kZXgpIHtcclxuICAgICAgICBpZiAoIXNyYykge1xyXG4gICAgICAgICAgICBpZiAoaXNIVE1MNVZJZGVvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw1OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xpZ2h0R2FsbGVyeSA6LSBkYXRhLXNyYyBpcyBub3QgcHJvdmlkZWQgb24gc2xpZGUgaXRlbSAnICtcclxuICAgICAgICAgICAgICAgICAgICAoaW5kZXggKyAxKSArXHJcbiAgICAgICAgICAgICAgICAgICAgJy4gUGxlYXNlIG1ha2Ugc3VyZSB0aGUgc2VsZWN0b3IgcHJvcGVydHkgaXMgcHJvcGVybHkgY29uZmlndXJlZC4gTW9yZSBpbmZvIC0gaHR0cHM6Ly93d3cubGlnaHRnYWxsZXJ5anMuY29tL2RlbW9zL2h0bWwtbWFya3VwLycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB5b3V0dWJlID0gc3JjLm1hdGNoKC9cXC9cXC8oPzp3d3dcXC4pP3lvdXR1KD86XFwuYmV8YmVcXC5jb218YmUtbm9jb29raWVcXC5jb20pXFwvKD86d2F0Y2hcXD92PXxlbWJlZFxcLyk/KFthLXowLTlcXC1cXF9cXCVdKykoW1xcJnw/XVtcXFNdKikqL2kpO1xyXG4gICAgICAgIHZhciB2aW1lbyA9IHNyYy5tYXRjaCgvXFwvXFwvKD86d3d3XFwuKT8oPzpwbGF5ZXJcXC4pP3ZpbWVvLmNvbVxcLyg/OnZpZGVvXFwvKT8oWzAtOWEtelxcLV9dKykoLiopPy9pKTtcclxuICAgICAgICB2YXIgd2lzdGlhID0gc3JjLm1hdGNoKC9odHRwcz86XFwvXFwvKC4rKT8od2lzdGlhXFwuY29tfHdpXFwuc3QpXFwvKG1lZGlhc3xlbWJlZClcXC8oWzAtOWEtelxcLV9dKykoLiopLyk7XHJcbiAgICAgICAgaWYgKHlvdXR1YmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHlvdXR1YmU6IHlvdXR1YmUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZpbWVvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB2aW1lbzogdmltZW8sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHdpc3RpYSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgd2lzdGlhOiB3aXN0aWEsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufTtcblxuLy8gQHJlZiAtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NzE4NDEvaG93LXRvLXJlc2l6ZS1pbWFnZXMtcHJvcG9ydGlvbmFsbHkta2VlcGluZy10aGUtYXNwZWN0LXJhdGlvXHJcbi8vIEByZWYgLSBodHRwczovLzJhbGl0eS5jb20vMjAxNy8wNC9zZXR0aW5nLXVwLW11bHRpLXBsYXRmb3JtLXBhY2thZ2VzLmh0bWxcclxuLy8gVW5pcXVlIGlkIGZvciBlYWNoIGdhbGxlcnlcclxudmFyIGxnSWQgPSAwO1xyXG52YXIgTGlnaHRHYWxsZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTGlnaHRHYWxsZXJ5KGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmxnT3BlbmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgLy8gbGlnaHRHYWxsZXJ5IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnBsdWdpbnMgPSBbXTtcclxuICAgICAgICAvLyBmYWxzZSB3aGVuIGxpZ2h0R2FsbGVyeSBsb2FkIGZpcnN0IHNsaWRlIGNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5sR2FsbGVyeU9uID0gZmFsc2U7XHJcbiAgICAgICAgLy8gVHJ1ZSB3aGVuIGEgc2xpZGUgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzXHJcbiAgICAgICAgdGhpcy5sZ0J1c3kgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc0luRG9tID0gW107XHJcbiAgICAgICAgLy8gU2Nyb2xsIHRvcCB2YWx1ZSBiZWZvcmUgbGlnaHRHYWxsZXJ5IGlzIG9wZW5lZFxyXG4gICAgICAgIHRoaXMucHJldlNjcm9sbFRvcCA9IDA7XHJcbiAgICAgICAgdGhpcy5ib2R5UGFkZGluZ1JpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLmlzRHVtbXlJbWFnZVJlbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRyYWdPclN3aXBlRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxnSWQrKztcclxuICAgICAgICB0aGlzLmxnSWQgPSBsZ0lkO1xyXG4gICAgICAgIHRoaXMuZWwgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMuTEdlbCA9ICRMRyhlbGVtZW50KTtcclxuICAgICAgICB0aGlzLmdlbmVyYXRlU2V0dGluZ3Mob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5idWlsZE1vZHVsZXMoKTtcclxuICAgICAgICAvLyBXaGVuIHVzaW5nIGR5bmFtaWMgbW9kZSwgZW5zdXJlIGR5bmFtaWNFbCBpcyBhbiBhcnJheVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmR5bmFtaWMgJiZcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5keW5hbWljRWwgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAhQXJyYXkuaXNBcnJheSh0aGlzLnNldHRpbmdzLmR5bmFtaWNFbCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgJ1doZW4gdXNpbmcgZHluYW1pYyBtb2RlLCB5b3UgbXVzdCBhbHNvIGRlZmluZSBkeW5hbWljRWwgYXMgYW4gQXJyYXkuJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5SXRlbXMgPSB0aGlzLmdldEl0ZW1zKCk7XHJcbiAgICAgICAgdGhpcy5ub3JtYWxpemVTZXR0aW5ncygpO1xyXG4gICAgICAgIC8vIEdhbGxlcnkgaXRlbXNcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB0aGlzLnZhbGlkYXRlTGljZW5zZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZW5lcmF0ZVNldHRpbmdzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAvLyBsaWdodEdhbGxlcnkgc2V0dGluZ3NcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGxpZ2h0R2FsbGVyeUNvcmVTZXR0aW5ncyksIG9wdGlvbnMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmlzTW9iaWxlICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLnNldHRpbmdzLmlzTW9iaWxlID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgID8gdGhpcy5zZXR0aW5ncy5pc01vYmlsZSgpXHJcbiAgICAgICAgICAgIDogdXRpbHMuaXNNb2JpbGUoKSkge1xyXG4gICAgICAgICAgICB2YXIgbW9iaWxlU2V0dGluZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5zZXR0aW5ncy5tb2JpbGVTZXR0aW5ncyksIHRoaXMuc2V0dGluZ3MubW9iaWxlU2V0dGluZ3MpO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuc2V0dGluZ3MpLCBtb2JpbGVTZXR0aW5ncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUubm9ybWFsaXplU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2xpZGVFbmRBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5oaWRlQ29udHJvbE9uRW5kID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5jbG9zYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnN3aXBlVG9DbG9zZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBbmQgcmVzZXQgaXQgb24gY2xvc2UgdG8gZ2V0IHRoZSBjb3JyZWN0IHZhbHVlIG5leHQgdGltZVxyXG4gICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gPSB0aGlzLnNldHRpbmdzLnpvb21Gcm9tT3JpZ2luO1xyXG4gICAgICAgIC8vIEF0IHRoZSBtb21lbnQsIFpvb20gZnJvbSBpbWFnZSBkb2Vzbid0IHN1cHBvcnQgZHluYW1pYyBvcHRpb25zXHJcbiAgICAgICAgLy8gQHRvZG8gYWRkIHpvb21Gcm9tT3JpZ2luIHN1cHBvcnQgZm9yIGR5bmFtaWMgaW1hZ2VzXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Gcm9tT3JpZ2luID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXR0aW5ncy5wcmVsb2FkIHNob3VsZCBub3QgYmUgZ3JhdGVyIHRoYW4gJGl0ZW0ubGVuZ3RoXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wcmVsb2FkID0gTWF0aC5taW4odGhpcy5zZXR0aW5ncy5wcmVsb2FkLCB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGgpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYWRkU2xpZGVWaWRlb0luZm8odGhpcy5nYWxsZXJ5SXRlbXMpO1xyXG4gICAgICAgIHRoaXMuYnVpbGRTdHJ1Y3R1cmUoKTtcclxuICAgICAgICB0aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5pbml0LCB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmtleVByZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5UHJlc3MoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVuYWJsZURyYWcoKTtcclxuICAgICAgICAgICAgX3RoaXMuZW5hYmxlU3dpcGUoKTtcclxuICAgICAgICAgICAgX3RoaXMudHJpZ2dlclBvc3RlckNsaWNrKCk7XHJcbiAgICAgICAgfSwgNTApO1xyXG4gICAgICAgIHRoaXMuYXJyb3coKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb3VzZXdoZWVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2V3aGVlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5HYWxsZXJ5T25JdGVtQ2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5vcGVuR2FsbGVyeU9uSXRlbUNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzXzEuaXRlbXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkTEcoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIFVzaW5nIGRpZmZlcmVudCBuYW1lc3BhY2UgZm9yIGNsaWNrIGJlY2F1c2UgY2xpY2sgZXZlbnQgc2hvdWxkIG5vdCB1bmJpbmQgaWYgc2VsZWN0b3IgaXMgc2FtZSBvYmplY3QoJ3RoaXMnKVxyXG4gICAgICAgICAgICAvLyBAdG9kbyBtYW5hZ2UgYWxsIGV2ZW50IGxpc3RuZXJzIC0gc2hvdWxkIGhhdmUgbmFtZXNwYWNlIHRoYXQgcmVwcmVzZW50IGVsZW1lbnRcclxuICAgICAgICAgICAgdmFyIHV1aWQgPSBsZ1F1ZXJ5LmdlbmVyYXRlVVVJRCgpO1xyXG4gICAgICAgICAgICAkZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtbGctaWQnLCB1dWlkKVxyXG4gICAgICAgICAgICAgICAgLm9uKFwiY2xpY2subGdjdXN0b20taXRlbS1cIiArIHV1aWQsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEl0ZW1JbmRleCA9IF90aGlzLnNldHRpbmdzLmluZGV4IHx8IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub3BlbkdhbGxlcnkoY3VycmVudEl0ZW1JbmRleCwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgLy8gVXNpbmcgZm9yIGxvb3AgaW5zdGVhZCBvZiB1c2luZyBidWJibGluZyBhcyB0aGUgaXRlbXMgY2FuIGJlIGFueSBodG1sIGVsZW1lbnQuXHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIF9sb29wXzEoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE1vZHVsZSBjb25zdHJ1Y3RvclxyXG4gICAgICogTW9kdWxlcyBhcmUgYnVpbGQgaW5jcmVtZW50YWxseS5cclxuICAgICAqIEdhbGxlcnkgc2hvdWxkIGJlIG9wZW5lZCBvbmx5IG9uY2UgYWxsIHRoZSBtb2R1bGVzIGFyZSBpbml0aWFsaXplZC5cclxuICAgICAqIHVzZSBtb2R1bGVCdWlsZFRpbWVvdXQgdG8gbWFrZSBzdXJlIHRoaXNcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5idWlsZE1vZHVsZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNldHRpbmdzLnBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBsdWdpbnMucHVzaChuZXcgcGx1Z2luKF90aGlzLCAkTEcpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnZhbGlkYXRlTGljZW5zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MubGljZW5zZUtleSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGxpY2Vuc2Uga2V5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MubGljZW5zZUtleSA9PT0gJzAwMDAtMDAwMC0wMDAtMDAwMCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwibGlnaHRHYWxsZXJ5OiBcIiArIHRoaXMuc2V0dGluZ3MubGljZW5zZUtleSArIFwiIGxpY2Vuc2Uga2V5IGlzIG5vdCB2YWxpZCBmb3IgcHJvZHVjdGlvbiB1c2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0U2xpZGVJdGVtID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuICRMRyh0aGlzLmdldFNsaWRlSXRlbUlkKGluZGV4KSk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZXRTbGlkZUl0ZW1JZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBcIiNsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyBpbmRleDtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmdldElkTmFtZSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiBpZCArIFwiLVwiICsgdGhpcy5sZ0lkO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gJExHKFwiI1wiICsgdGhpcy5nZXRJZE5hbWUoaWQpKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1hbmFnZVNpbmdsZVNsaWRlQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLXNpbmdsZS1pdGVtJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1zaW5nbGUtaXRlbScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmJ1aWxkU3RydWN0dXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lciAmJiB0aGlzLiRjb250YWluZXIuZ2V0KCk7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb250cm9scyA9ICcnO1xyXG4gICAgICAgIHZhciBzdWJIdG1sQ29udCA9ICcnO1xyXG4gICAgICAgIC8vIENyZWF0ZSBjb250cm9sc1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNvbnRyb2xzKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xzID0gXCI8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLXByZXYnKSArIFwiXFxcIiBhcmlhLWxhYmVsPVxcXCJcIiArIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1sncHJldmlvdXNTbGlkZSddICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1wcmV2IGxnLWljb25cXFwiPiBcIiArIHRoaXMuc2V0dGluZ3MucHJldkh0bWwgKyBcIiA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1uZXh0JykgKyBcIlxcXCIgYXJpYS1sYWJlbD1cXFwiXCIgKyB0aGlzLnNldHRpbmdzLnN0cmluZ3NbJ25leHRTbGlkZSddICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1uZXh0IGxnLWljb25cXFwiPiBcIiArIHRoaXMuc2V0dGluZ3MubmV4dEh0bWwgKyBcIiA8L2J1dHRvbj5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYXBwZW5kU3ViSHRtbFRvICE9PSAnLmxnLWl0ZW0nKSB7XHJcbiAgICAgICAgICAgIHN1Ykh0bWxDb250ID1cclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibGctc3ViLWh0bWxcIiByb2xlPVwic3RhdHVzXCIgYXJpYS1saXZlPVwicG9saXRlXCI+PC9kaXY+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFkZENsYXNzZXMgPSAnJztcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hbGxvd01lZGlhT3ZlcmxhcCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3QgcmVtb3ZlIHNwYWNlIGJlZm9yZSBsYXN0IHNpbmdsZSBxdW90ZVxyXG4gICAgICAgICAgICBhZGRDbGFzc2VzICs9ICdsZy1tZWRpYS1vdmVybGFwICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhcmlhTGFiZWxsZWRieSA9IHRoaXMuc2V0dGluZ3MuYXJpYUxhYmVsbGVkYnlcclxuICAgICAgICAgICAgPyAnYXJpYS1sYWJlbGxlZGJ5PVwiJyArIHRoaXMuc2V0dGluZ3MuYXJpYUxhYmVsbGVkYnkgKyAnXCInXHJcbiAgICAgICAgICAgIDogJyc7XHJcbiAgICAgICAgdmFyIGFyaWFEZXNjcmliZWRieSA9IHRoaXMuc2V0dGluZ3MuYXJpYURlc2NyaWJlZGJ5XHJcbiAgICAgICAgICAgID8gJ2FyaWEtZGVzY3JpYmVkYnk9XCInICsgdGhpcy5zZXR0aW5ncy5hcmlhRGVzY3JpYmVkYnkgKyAnXCInXHJcbiAgICAgICAgICAgIDogJyc7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lckNsYXNzTmFtZSA9IFwibGctY29udGFpbmVyIFwiICsgdGhpcy5zZXR0aW5ncy5hZGRDbGFzcyArIFwiIFwiICsgKGRvY3VtZW50LmJvZHkgIT09IHRoaXMuc2V0dGluZ3MuY29udGFpbmVyID8gJ2xnLWlubGluZScgOiAnJyk7XHJcbiAgICAgICAgdmFyIGNsb3NlSWNvbiA9IHRoaXMuc2V0dGluZ3MuY2xvc2FibGUgJiYgdGhpcy5zZXR0aW5ncy5zaG93Q2xvc2VJY29uXHJcbiAgICAgICAgICAgID8gXCI8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgYXJpYS1sYWJlbD1cXFwiXCIgKyB0aGlzLnNldHRpbmdzLnN0cmluZ3NbJ2Nsb3NlR2FsbGVyeSddICsgXCJcXFwiIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1jbG9zZScpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1jbG9zZSBsZy1pY29uXFxcIj48L2J1dHRvbj5cIlxyXG4gICAgICAgICAgICA6ICcnO1xyXG4gICAgICAgIHZhciBtYXhpbWl6ZUljb24gPSB0aGlzLnNldHRpbmdzLnNob3dNYXhpbWl6ZUljb25cclxuICAgICAgICAgICAgPyBcIjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBhcmlhLWxhYmVsPVxcXCJcIiArIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1sndG9nZ2xlTWF4aW1pemUnXSArIFwiXFxcIiBpZD1cXFwiXCIgKyB0aGlzLmdldElkTmFtZSgnbGctbWF4aW1pemUnKSArIFwiXFxcIiBjbGFzcz1cXFwibGctbWF4aW1pemUgbGctaWNvblxcXCI+PC9idXR0b24+XCJcclxuICAgICAgICAgICAgOiAnJztcclxuICAgICAgICB2YXIgdGVtcGxhdGUgPSBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiXCIgKyBjb250YWluZXJDbGFzc05hbWUgKyBcIlxcXCIgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWNvbnRhaW5lcicpICsgXCJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgYXJpYS1tb2RhbD1cXFwidHJ1ZVxcXCIgXCIgKyBhcmlhTGFiZWxsZWRieSArIFwiIFwiICsgYXJpYURlc2NyaWJlZGJ5ICsgXCIgcm9sZT1cXFwiZGlhbG9nXFxcIlxcbiAgICAgICAgPlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWJhY2tkcm9wJykgKyBcIlxcXCIgY2xhc3M9XFxcImxnLWJhY2tkcm9wXFxcIj48L2Rpdj5cXG5cXG4gICAgICAgICAgICA8ZGl2IGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1vdXRlcicpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1vdXRlciBsZy11c2UtY3NzMyBsZy1jc3MzIGxnLWhpZGUtaXRlbXMgXCIgKyBhZGRDbGFzc2VzICsgXCIgXFxcIj5cXG5cXG4gICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWNvbnRlbnQnKSArIFwiXFxcIiBjbGFzcz1cXFwibGctY29udGVudFxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLWlubmVyJykgKyBcIlxcXCIgY2xhc3M9XFxcImxnLWlubmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIFwiICsgY29udHJvbHMgKyBcIlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIlwiICsgdGhpcy5nZXRJZE5hbWUoJ2xnLXRvb2xiYXInKSArIFwiXFxcIiBjbGFzcz1cXFwibGctdG9vbGJhciBsZy1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICBcIiArIG1heGltaXplSWNvbiArIFwiXFxuICAgICAgICAgICAgICAgICAgICBcIiArIGNsb3NlSWNvbiArIFwiXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIFwiICsgKHRoaXMuc2V0dGluZ3MuYXBwZW5kU3ViSHRtbFRvID09PSAnLmxnLW91dGVyJ1xyXG4gICAgICAgICAgICA/IHN1Ykh0bWxDb250XHJcbiAgICAgICAgICAgIDogJycpICsgXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiXCIgKyB0aGlzLmdldElkTmFtZSgnbGctY29tcG9uZW50cycpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1jb21wb25lbnRzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIFwiICsgKHRoaXMuc2V0dGluZ3MuYXBwZW5kU3ViSHRtbFRvID09PSAnLmxnLXN1Yi1odG1sJ1xyXG4gICAgICAgICAgICA/IHN1Ykh0bWxDb250XHJcbiAgICAgICAgICAgIDogJycpICsgXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiO1xyXG4gICAgICAgICRMRyh0aGlzLnNldHRpbmdzLmNvbnRhaW5lcikuYXBwZW5kKHRlbXBsYXRlKTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSAhPT0gdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgJExHKHRoaXMuc2V0dGluZ3MuY29udGFpbmVyKS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3V0ZXIgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1vdXRlcicpO1xyXG4gICAgICAgIHRoaXMuJGxnQ29tcG9uZW50cyA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLWNvbXBvbmVudHMnKTtcclxuICAgICAgICB0aGlzLiRiYWNrZHJvcCA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLWJhY2tkcm9wJyk7XHJcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctY29udGFpbmVyJyk7XHJcbiAgICAgICAgdGhpcy4kaW5uZXIgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1pbm5lcicpO1xyXG4gICAgICAgIHRoaXMuJGNvbnRlbnQgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jb250ZW50Jyk7XHJcbiAgICAgICAgdGhpcy4kdG9vbGJhciA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLXRvb2xiYXInKTtcclxuICAgICAgICB0aGlzLiRiYWNrZHJvcC5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24gKyAnbXMnKTtcclxuICAgICAgICB2YXIgb3V0ZXJDbGFzc05hbWVzID0gdGhpcy5zZXR0aW5ncy5tb2RlICsgXCIgXCI7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VTaW5nbGVTbGlkZUNsYXNzTmFtZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZURyYWcpIHtcclxuICAgICAgICAgICAgb3V0ZXJDbGFzc05hbWVzICs9ICdsZy1ncmFiICc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3Mob3V0ZXJDbGFzc05hbWVzKTtcclxuICAgICAgICB0aGlzLiRpbm5lci5jc3MoJ3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJywgdGhpcy5zZXR0aW5ncy5lYXNpbmcpO1xyXG4gICAgICAgIHRoaXMuJGlubmVyLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicsIHRoaXMuc2V0dGluZ3Muc3BlZWQgKyAnbXMnKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLiR0b29sYmFyLmFwcGVuZChcIjxhIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1kb3dubG9hZCcpICsgXCJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiByZWw9XFxcIm5vb3BlbmVyXFxcIiBhcmlhLWxhYmVsPVxcXCJcIiArIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1snZG93bmxvYWQnXSArIFwiXFxcIiBkb3dubG9hZCBjbGFzcz1cXFwibGctZG93bmxvYWQgbGctaWNvblxcXCI+PC9hPlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb3VudGVyKCk7XHJcbiAgICAgICAgJExHKHdpbmRvdykub24oXCJyZXNpemUubGcuZ2xvYmFsXCIgKyB0aGlzLmxnSWQgKyBcIiBvcmllbnRhdGlvbmNoYW5nZS5sZy5nbG9iYWxcIiArIHRoaXMubGdJZCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoT25SZXNpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhpZGVCYXJzKCk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VDbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZU1heGltaXplKCk7XHJcbiAgICAgICAgdGhpcy5pbml0TW9kdWxlcygpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUucmVmcmVzaE9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxnT3BlbmVkKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50R2FsbGVyeUl0ZW0gPSB0aGlzLmdhbGxlcnlJdGVtc1t0aGlzLmluZGV4XTtcclxuICAgICAgICAgICAgdmFyIF9fc2xpZGVWaWRlb0luZm8gPSBjdXJyZW50R2FsbGVyeUl0ZW0uX19zbGlkZVZpZGVvSW5mbztcclxuICAgICAgICAgICAgdGhpcy5tZWRpYUNvbnRhaW5lclBvc2l0aW9uID0gdGhpcy5nZXRNZWRpYUNvbnRhaW5lclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiwgdG9wXzEgPSBfYS50b3AsIGJvdHRvbSA9IF9hLmJvdHRvbTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VTaXplID0gdXRpbHMuZ2V0U2l6ZSh0aGlzLml0ZW1zW3RoaXMuaW5kZXhdLCB0aGlzLm91dGVyLCB0b3BfMSArIGJvdHRvbSwgX19zbGlkZVZpZGVvSW5mbyAmJiB0aGlzLnNldHRpbmdzLnZpZGVvTWF4U2l6ZSk7XHJcbiAgICAgICAgICAgIGlmIChfX3NsaWRlVmlkZW9JbmZvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZVZpZGVvU2xpZGUodGhpcy5pbmRleCwgdGhpcy5jdXJyZW50SW1hZ2VTaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy56b29tRnJvbU9yaWdpbiAmJiAhdGhpcy5pc0R1bW15SW1hZ2VSZW1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nU3R5bGUgPSB0aGlzLmdldER1bW15SW1nU3R5bGVzKHRoaXMuY3VycmVudEltYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1jdXJyZW50IC5sZy1kdW1teS1pbWcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgaW1nU3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmNvbnRhaW5lclJlc2l6ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUucmVzaXplVmlkZW9TbGlkZSA9IGZ1bmN0aW9uIChpbmRleCwgaW1hZ2VTaXplKSB7XHJcbiAgICAgICAgdmFyIGxnVmlkZW9TdHlsZSA9IHRoaXMuZ2V0VmlkZW9Db250U3R5bGUoaW1hZ2VTaXplKTtcclxuICAgICAgICB2YXIgY3VycmVudFNsaWRlID0gdGhpcy5nZXRTbGlkZUl0ZW0oaW5kZXgpO1xyXG4gICAgICAgIGN1cnJlbnRTbGlkZS5maW5kKCcubGctdmlkZW8tY29udCcpLmF0dHIoJ3N0eWxlJywgbGdWaWRlb1N0eWxlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBzbGlkZXMgZHluYW1pY2FsbHkuXHJcbiAgICAgKiBBZGQsIGVkaXQgb3IgZGVsZXRlIHNsaWRlcyBkeW5hbWljYWxseSB3aGVuIGxpZ2h0R2FsbGVyeSBpcyBvcGVuZWQuXHJcbiAgICAgKiBNb2RpZnkgdGhlIGN1cnJlbnQgZ2FsbGVyeSBpdGVtcyBhbmQgcGFzcyBpdCB2aWEgdXBkYXRlU2xpZGVzIG1ldGhvZFxyXG4gICAgICogQG5vdGVcclxuICAgICAqIC0gRG8gbm90IG11dGF0ZSBleGlzdGluZyBsaWdodEdhbGxlcnkgaXRlbXMgZGlyZWN0bHkuXHJcbiAgICAgKiAtIEFsd2F5cyBwYXNzIG5ldyBsaXN0IG9mIGdhbGxlcnkgaXRlbXNcclxuICAgICAqIC0gWW91IG5lZWQgdG8gdGFrZSBjYXJlIG9mIHRodW1ibmFpbHMgb3V0c2lkZSB0aGUgZ2FsbGVyeSBpZiBhbnlcclxuICAgICAqIC0gdXNlciB0aGlzIG1ldGhvZCBvbmx5IGlmIHlvdSB3YW50IHRvIHVwZGF0ZSBzbGlkZXMgd2hlbiB0aGUgZ2FsbGVyeSBpcyBvcGVuZWQuIE90aGVyd2lzZSwgdXNlIGByZWZyZXNoKClgIG1ldGhvZC5cclxuICAgICAqIEBwYXJhbSBpdGVtcyBHYWxsZXJ5IGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggQWZ0ZXIgdGhlIHVwZGF0ZSBvcGVyYXRpb24sIHdoaWNoIHNsaWRlIGdhbGxlcnkgc2hvdWxkIG5hdmlnYXRlIHRvXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogY29uc3QgcGx1Z2luID0gbGlnaHRHYWxsZXJ5KCk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQWRkaW5nIHNsaWRlcyBkeW5hbWljYWxseVxyXG4gICAgICogbGV0IGdhbGxlcnlJdGVtcyA9IFtcclxuICAgICAqIC8vIEFjY2VzcyBleGlzdGluZyBsaWdodEdhbGxlcnkgaXRlbXNcclxuICAgICAqIC8vIGdhbGxlcnlJdGVtcyBhcmUgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgaW50ZXJuYWxseSBmcm9tIHRoZSBnYWxsZXJ5IEhUTUwgbWFya3VwXHJcbiAgICAgKiAvLyBvciBkaXJlY3RseSBmcm9tIGdhbGxlcnlJdGVtcyB3aGVuIGR5bmFtaWMgZ2FsbGVyeSBpcyB1c2VkXHJcbiAgICAgKiAgIC4uLnBsdWdpbi5nYWxsZXJ5SXRlbXMsXHJcbiAgICAgKiAgICAgLi4uW1xyXG4gICAgICogICAgICAge1xyXG4gICAgICogICAgICAgICBzcmM6ICdpbWcvaW1nLTEucG5nJyxcclxuICAgICAqICAgICAgICAgICB0aHVtYjogJ2ltZy90aHVtYjEucG5nJyxcclxuICAgICAqICAgICAgICAgfSxcclxuICAgICAqICAgICBdLFxyXG4gICAgICogICBdO1xyXG4gICAgICogICBwbHVnaW4udXBkYXRlU2xpZGVzKFxyXG4gICAgICogICAgIGdhbGxlcnlJdGVtcyxcclxuICAgICAqICAgICBwbHVnaW4uaW5kZXgsXHJcbiAgICAgKiAgICk7XHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIC8vIFJlbW92ZSBzbGlkZXMgZHluYW1pY2FsbHlcclxuICAgICAqIGdhbGxlcnlJdGVtcyA9IEpTT04ucGFyc2UoXHJcbiAgICAgKiAgIEpTT04uc3RyaW5naWZ5KHVwZGF0ZVNsaWRlSW5zdGFuY2UuZ2FsbGVyeUl0ZW1zKSxcclxuICAgICAqICk7XHJcbiAgICAgKiBnYWxsZXJ5SXRlbXMuc2hpZnQoKTtcclxuICAgICAqIHVwZGF0ZVNsaWRlSW5zdGFuY2UudXBkYXRlU2xpZGVzKGdhbGxlcnlJdGVtcywgMSk7XHJcbiAgICAgKiBAc2VlIDxhIGhyZWY9XCIvZGVtb3MvdXBkYXRlLXNsaWRlcy9cIj5EZW1vPC9hPlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnVwZGF0ZVNsaWRlcyA9IGZ1bmN0aW9uIChpdGVtcywgaW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA+IGl0ZW1zLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IGl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VHYWxsZXJ5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTcmMgPSB0aGlzLmdhbGxlcnlJdGVtc1tpbmRleF0uc3JjO1xyXG4gICAgICAgIHRoaXMuZ2FsbGVyeUl0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb250cm9scygpO1xyXG4gICAgICAgIHRoaXMuJGlubmVyLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNJbkRvbSA9IFtdO1xyXG4gICAgICAgIHZhciBfaW5kZXggPSAwO1xyXG4gICAgICAgIC8vIEZpbmQgdGhlIGN1cnJlbnQgaW5kZXggYmFzZWQgb24gc291cmNlIHZhbHVlIG9mIHRoZSBzbGlkZVxyXG4gICAgICAgIHRoaXMuZ2FsbGVyeUl0ZW1zLnNvbWUoZnVuY3Rpb24gKGdhbGxlcnlJdGVtLCBpdGVtSW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGdhbGxlcnlJdGVtLnNyYyA9PT0gY3VycmVudFNyYykge1xyXG4gICAgICAgICAgICAgICAgX2luZGV4ID0gaXRlbUluZGV4O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEl0ZW1zSW5Eb20gPSB0aGlzLm9yZ2FuaXplU2xpZGVJdGVtcyhfaW5kZXgsIC0xKTtcclxuICAgICAgICB0aGlzLmxvYWRDb250ZW50KF9pbmRleCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5nZXRTbGlkZUl0ZW0oX2luZGV4KS5hZGRDbGFzcygnbGctY3VycmVudCcpO1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBfaW5kZXg7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q291bnRlcihfaW5kZXgpO1xyXG4gICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnVwZGF0ZVNsaWRlcyk7XHJcbiAgICB9O1xyXG4gICAgLy8gR2V0IGdhbGxlcnkgaXRlbXMgYmFzZWQgb24gbXVsdGlwbGUgY29uZGl0aW9uc1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBHYWxsZXJ5IGl0ZW1zXHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5keW5hbWljKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNlbGVjdG9yID09PSAndGhpcycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2VsZWN0V2l0aGluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RXaXRoaW4gPSAkTEcodGhpcy5zZXR0aW5ncy5zZWxlY3RXaXRoaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gc2VsZWN0V2l0aGluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLmVsLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5nZXREeW5hbWljT3B0aW9ucyh0aGlzLml0ZW1zLCB0aGlzLnNldHRpbmdzLmV4dHJhUHJvcHMsIHRoaXMuc2V0dGluZ3MuZ2V0Q2FwdGlvbkZyb21UaXRsZU9yQWx0LCB0aGlzLnNldHRpbmdzLmV4VGh1bWJJbWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5keW5hbWljRWwgfHwgW107XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuc2hvdWxkSGlkZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuc2V0dGluZ3MuaGlkZVNjcm9sbGJhciAmJlxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5ID09PSB0aGlzLnNldHRpbmdzLmNvbnRhaW5lcik7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5oaWRlU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zaG91bGRIaWRlU2Nyb2xsYmFyKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJvZHlQYWRkaW5nUmlnaHQgPSBwYXJzZUZsb2F0KCRMRygnYm9keScpLnN0eWxlKCkucGFkZGluZ1JpZ2h0KTtcclxuICAgICAgICB2YXIgYm9keVJlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBib2R5UmVjdC53aWR0aDtcclxuICAgICAgICAkTEcoZG9jdW1lbnQuYm9keSkuY3NzKCdwYWRkaW5nLXJpZ2h0Jywgc2Nyb2xsYmFyV2lkdGggKyB0aGlzLmJvZHlQYWRkaW5nUmlnaHQgKyAncHgnKTtcclxuICAgICAgICAkTEcoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoJ2xnLW92ZXJsYXktb3BlbicpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUucmVzZXRTY3JvbGxCYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZEhpZGVTY3JvbGxiYXIoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRMRyhkb2N1bWVudC5ib2R5KS5jc3MoJ3BhZGRpbmctcmlnaHQnLCB0aGlzLmJvZHlQYWRkaW5nUmlnaHQgKyAncHgnKTtcclxuICAgICAgICAkTEcoZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoJ2xnLW92ZXJsYXktb3BlbicpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogT3BlbiBsaWdodEdhbGxlcnkuXHJcbiAgICAgKiBPcGVuIGdhbGxlcnkgd2l0aCBzcGVjaWZpYyBzbGlkZSBieSBwYXNzaW5nIGluZGV4IG9mIHRoZSBzbGlkZSBhcyBwYXJhbWV0ZXIuXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggIC0gaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gV2hpY2ggaW1hZ2UgbGlnaHRHYWxsZXJ5IHNob3VsZCB6b29tIGZyb21cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogY29uc3QgJGR5bmFtaWNHYWxsZXJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R5bmFtaWMtZ2FsbGVyeS1kZW1vJyk7XHJcbiAgICAgKiBjb25zdCBkeW5hbWljR2FsbGVyeSA9IGxpZ2h0R2FsbGVyeSgkZHluYW1pY0dhbGxlcnksIHtcclxuICAgICAqICAgICBkeW5hbWljOiB0cnVlLFxyXG4gICAgICogICAgIGR5bmFtaWNFbDogW1xyXG4gICAgICogICAgICAgICB7XHJcbiAgICAgKiAgICAgICAgICAgICAgc3JjOiAnaW1nLzEuanBnJyxcclxuICAgICAqICAgICAgICAgICAgICB0aHVtYjogJ2ltZy90aHVtYi0xLmpwZycsXHJcbiAgICAgKiAgICAgICAgICAgICAgc3ViSHRtbDogJzxoND5JbWFnZSAxIHRpdGxlPC9oND48cD5JbWFnZSAxIGRlc2NyaXB0aW9ucy48L3A+JyxcclxuICAgICAqICAgICAgICAgfSxcclxuICAgICAqICAgICAgICAgLi4uXHJcbiAgICAgKiAgICAgXSxcclxuICAgICAqIH0pO1xyXG4gICAgICogJGR5bmFtaWNHYWxsZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICogICAgIC8vIFN0YXJ0cyB3aXRoIHRoaXJkIGl0ZW0uKE9wdGlvbmFsKS5cclxuICAgICAqICAgICAvLyBUaGlzIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB1c2UgZHluYW1pYyBtb2RlIHdpdGhcclxuICAgICAqICAgICAvLyBjdXN0b20gdGh1bWJuYWlscyAodGh1bWJuYWlscyBvdXRzaWRlIGdhbGxlcnkpLFxyXG4gICAgICogICAgIGR5bmFtaWNHYWxsZXJ5Lm9wZW5HYWxsZXJ5KDIpO1xyXG4gICAgICogfSk7XHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm9wZW5HYWxsZXJ5ID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IHRoaXMuc2V0dGluZ3MuaW5kZXg7IH1cclxuICAgICAgICAvLyBwcmV2ZW50IGFjY2lkZW50YWwgZG91YmxlIGV4ZWN1dGlvblxyXG4gICAgICAgIGlmICh0aGlzLmxnT3BlbmVkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5sZ09wZW5lZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctaGlkZS1pdGVtcycpO1xyXG4gICAgICAgIHRoaXMuaGlkZVNjcm9sbGJhcigpO1xyXG4gICAgICAgIC8vIEFkZCBkaXNwbGF5IGJsb2NrLCBidXQgc3RpbGwgaGFzIG9wYWNpdHkgMFxyXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5hZGRDbGFzcygnbGctc2hvdycpO1xyXG4gICAgICAgIHZhciBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tID0gdGhpcy5nZXRJdGVtc1RvQmVJbnNlcnRlZFRvRG9tKGluZGV4LCBpbmRleCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNJbkRvbSA9IGl0ZW1zVG9CZUluc2VydGVkVG9Eb207XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gJyc7XHJcbiAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMgKyAoXCI8ZGl2IGlkPVxcXCJcIiArIGl0ZW0gKyBcIlxcXCIgY2xhc3M9XFxcImxnLWl0ZW1cXFwiPjwvZGl2PlwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLiRpbm5lci5hcHBlbmQoaXRlbXMpO1xyXG4gICAgICAgIHRoaXMuYWRkSHRtbChpbmRleCk7XHJcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9ICcnO1xyXG4gICAgICAgIHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiA9IHRoaXMuZ2V0TWVkaWFDb250YWluZXJQb3NpdGlvbigpO1xyXG4gICAgICAgIHZhciBfYSA9IHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiwgdG9wID0gX2EudG9wLCBib3R0b20gPSBfYS5ib3R0b207XHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmFsbG93TWVkaWFPdmVybGFwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWVkaWFDb250YWluZXJQb3NpdGlvbih0b3AsIGJvdHRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfX3NsaWRlVmlkZW9JbmZvID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdLl9fc2xpZGVWaWRlb0luZm87XHJcbiAgICAgICAgaWYgKHRoaXMuem9vbUZyb21PcmlnaW4gJiYgZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZVNpemUgPSB1dGlscy5nZXRTaXplKGVsZW1lbnQsIHRoaXMub3V0ZXIsIHRvcCArIGJvdHRvbSwgX19zbGlkZVZpZGVvSW5mbyAmJiB0aGlzLnNldHRpbmdzLnZpZGVvTWF4U2l6ZSk7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IHV0aWxzLmdldFRyYW5zZm9ybShlbGVtZW50LCB0aGlzLm91dGVyLCB0b3AsIGJvdHRvbSwgdGhpcy5jdXJyZW50SW1hZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnpvb21Gcm9tT3JpZ2luIHx8ICF0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN0YXJ0Q2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLmdldFNsaWRlSXRlbShpbmRleCkucmVtb3ZlQ2xhc3MoJ2xnLWNvbXBsZXRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aW1lb3V0ID0gdGhpcy5zZXR0aW5ncy56b29tRnJvbU9yaWdpblxyXG4gICAgICAgICAgICA/IDEwMFxyXG4gICAgICAgICAgICA6IHRoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbjtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWNvbXBvbmVudHMtb3BlbicpO1xyXG4gICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICB0aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5iZWZvcmVPcGVuKTtcclxuICAgICAgICAvLyBhZGQgY2xhc3MgbGctY3VycmVudCB0byByZW1vdmUgaW5pdGlhbCB0cmFuc2l0aW9uXHJcbiAgICAgICAgdGhpcy5nZXRTbGlkZUl0ZW0oaW5kZXgpLmFkZENsYXNzKCdsZy1jdXJyZW50Jyk7XHJcbiAgICAgICAgdGhpcy5sR2FsbGVyeU9uID0gZmFsc2U7XHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgc2Nyb2xsIHRvcCB2YWx1ZSB0byBzY3JvbGwgYmFjayBhZnRlciBjbG9zaW5nIHRoZSBnYWxsZXJ5Li5cclxuICAgICAgICB0aGlzLnByZXZTY3JvbGxUb3AgPSAkTEcod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gTmVlZCB0byBjaGVjayBib3RoIHpvb21Gcm9tT3JpZ2luIGFuZCB0cmFuc2Zvcm0gdmFsdWVzIGFzIHdlIG5lZWQgdG8gc2V0IHNldCB0aGVcclxuICAgICAgICAgICAgLy8gZGVmYXVsdCBvcGVuaW5nIGFuaW1hdGlvbiBpZiB1c2VyIG1pc3NlZCB0byBhZGQgdGhlIGxnLXNpemUgYXR0cmlidXRlXHJcbiAgICAgICAgICAgIGlmIChfdGhpcy56b29tRnJvbU9yaWdpbiAmJiB0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U2xpZGVfMSA9IF90aGlzLmdldFNsaWRlSXRlbShpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVfMS5jc3MoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVfMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2xnLXN0YXJ0LXByb2dyZXNzIGxnLXN0YXJ0LWVuZC1wcm9ncmVzcycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCBfdGhpcy5zZXR0aW5ncy5zdGFydEFuaW1hdGlvbkR1cmF0aW9uICsgJ21zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLXpvb20tZnJvbS1pbWFnZScpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVfMS5jc3MoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLCAwLCAwKScpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIuYWRkQ2xhc3MoJ2xnLXNob3ctaW4nKTtcclxuICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy50cmFwRm9jdXMgJiZcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5ID09PSBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmFwRm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbiArIDUwKTtcclxuICAgICAgICAgICAgLy8gbGctdmlzaWJsZSBjbGFzcyByZXNldHMgZ2FsbGVyeSBvcGFjaXR5IHRvIDFcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy56b29tRnJvbU9yaWdpbiB8fCAhdHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5hZGRDbGFzcygnbGctdmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW5pdGlhdGUgc2xpZGUgZnVuY3Rpb25cclxuICAgICAgICAgICAgX3RoaXMuc2xpZGUoaW5kZXgsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYWZ0ZXJPcGVuKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSA9PT0gdGhpcy5zZXR0aW5ncy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgJExHKCdodG1sJykuYWRkQ2xhc3MoJ2xnLW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTm90ZSAtIENoYW5naW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgbWVkaWEgb24gZXZlcnkgc2xpZGUgdHJhbnNpdGlvbiBjcmVhdGVzIGEgZmxpY2tlcmluZyBlZmZlY3QuXHJcbiAgICAgKiBUaGVyZWZvcmUswqBUaGUgaGVpZ2h0IG9mIHRoZSBjYXB0aW9uIGlzIGNhbGN1bGF0ZWQgZHluYW1pY2FsbHksIG9ubHkgb25jZSBiYXNlZCBvbiB0aGUgZmlyc3Qgc2xpZGUgY2FwdGlvbi5cclxuICAgICAqIGlmIHlvdSBoYXZlIGR5bmFtaWMgY2FwdGlvbnMgZm9yIGVhY2ggbWVkaWEsXHJcbiAgICAgKiB5b3UgY2FuIHByb3ZpZGUgYW4gYXBwcm9wcmlhdGUgaGVpZ2h0IGZvciB0aGUgY2FwdGlvbnMgdmlhIGFsbG93TWVkaWFPdmVybGFwIG9wdGlvblxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmdldE1lZGlhQ29udGFpbmVyUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYWxsb3dNZWRpYU92ZXJsYXApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJHRvb2xiYXIuZ2V0KCkuY2xpZW50SGVpZ2h0IHx8IDA7XHJcbiAgICAgICAgdmFyIHN1Ykh0bWwgPSB0aGlzLm91dGVyLmZpbmQoJy5sZy1jb21wb25lbnRzIC5sZy1zdWItaHRtbCcpLmdldCgpO1xyXG4gICAgICAgIHZhciBjYXB0aW9uSGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5kZWZhdWx0Q2FwdGlvbkhlaWdodCB8fFxyXG4gICAgICAgICAgICAoc3ViSHRtbCAmJiBzdWJIdG1sLmNsaWVudEhlaWdodCkgfHxcclxuICAgICAgICAgICAgMDtcclxuICAgICAgICB2YXIgdGh1bWJDb250YWluZXIgPSB0aGlzLm91dGVyLmZpbmQoJy5sZy10aHVtYi1vdXRlcicpLmdldCgpO1xyXG4gICAgICAgIHZhciB0aHVtYkhlaWdodCA9IHRodW1iQ29udGFpbmVyID8gdGh1bWJDb250YWluZXIuY2xpZW50SGVpZ2h0IDogMDtcclxuICAgICAgICB2YXIgYm90dG9tID0gdGh1bWJIZWlnaHQgKyBjYXB0aW9uSGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcDogdG9wLFxyXG4gICAgICAgICAgICBib3R0b206IGJvdHRvbSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuc2V0TWVkaWFDb250YWluZXJQb3NpdGlvbiA9IGZ1bmN0aW9uICh0b3AsIGJvdHRvbSkge1xyXG4gICAgICAgIGlmICh0b3AgPT09IHZvaWQgMCkgeyB0b3AgPSAwOyB9XHJcbiAgICAgICAgaWYgKGJvdHRvbSA9PT0gdm9pZCAwKSB7IGJvdHRvbSA9IDA7IH1cclxuICAgICAgICB0aGlzLiRjb250ZW50LmNzcygndG9wJywgdG9wICsgJ3B4JykuY3NzKCdib3R0b20nLCBib3R0b20gKyAncHgnKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmhpZGVCYXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gSGlkZSBjb250cm9sbGVycyBpZiBtb3VzZSBkb2Vzbid0IG1vdmUgZm9yIHNvbWUgcGVyaW9kXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1oaWRlLWl0ZW1zJyk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5oaWRlQmFyc0RlbGF5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub3V0ZXIub24oJ21vdXNlbW92ZS5sZyBjbGljay5sZyB0b3VjaHN0YXJ0LmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1oaWRlLWl0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmhpZGVCYXJUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1lb3V0IHdpbGwgYmUgY2xlYXJlZCBvbiBlYWNoIHNsaWRlIG1vdmVtZW50IGFsc29cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlQmFyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5hZGRDbGFzcygnbGctaGlkZS1pdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzLnNldHRpbmdzLmhpZGVCYXJzRGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci50cmlnZ2VyKCdtb3VzZW1vdmUubGcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc2hvd0JhcnNBZnRlcik7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pbml0UGljdHVyZUZpbGwgPSBmdW5jdGlvbiAoJGltZykge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnN1cHBvcnRMZWdhY3lCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBwaWN0dXJlZmlsbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM6IFskaW1nLmdldCgpXSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2xpZ2h0R2FsbGVyeSA6LSBJZiB5b3Ugd2FudCBzcmNzZXQgb3IgcGljdHVyZSB0YWcgdG8gYmUgc3VwcG9ydGVkIGZvciBvbGRlciBicm93c2VyIHBsZWFzZSBpbmNsdWRlIHBpY3R1cmVmaWwgamF2YXNjcmlwdCBsaWJyYXJ5IGluIHlvdXIgZG9jdW1lbnQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiAgQGRlc2MgQ3JlYXRlIGltYWdlIGNvdW50ZXJcclxuICAgICAqICBFeDogMS8xMFxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmNvdW50ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY291bnRlcikge1xyXG4gICAgICAgICAgICB2YXIgY291bnRlckh0bWwgPSBcIjxkaXYgY2xhc3M9XFxcImxnLWNvdW50ZXJcXFwiIHJvbGU9XFxcInN0YXR1c1xcXCIgYXJpYS1saXZlPVxcXCJwb2xpdGVcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cXFwiXCIgKyB0aGlzLmdldElkTmFtZSgnbGctY291bnRlci1jdXJyZW50JykgKyBcIlxcXCIgY2xhc3M9XFxcImxnLWNvdW50ZXItY3VycmVudFxcXCI+XCIgKyAodGhpcy5pbmRleCArIDEpICsgXCIgPC9zcGFuPiAvXFxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPVxcXCJcIiArIHRoaXMuZ2V0SWROYW1lKCdsZy1jb3VudGVyLWFsbCcpICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1jb3VudGVyLWFsbFxcXCI+XCIgKyB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggKyBcIiA8L3NwYW4+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluZCh0aGlzLnNldHRpbmdzLmFwcGVuZENvdW50ZXJUbykuYXBwZW5kKGNvdW50ZXJIdG1sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiAgQGRlc2MgYWRkIHN1Yi1odG1sIGludG8gdGhlIHNsaWRlXHJcbiAgICAgKiAgQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuYWRkSHRtbCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHZhciBzdWJIdG1sO1xyXG4gICAgICAgIHZhciBzdWJIdG1sVXJsO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbGxlcnlJdGVtc1tpbmRleF0uc3ViSHRtbFVybCkge1xyXG4gICAgICAgICAgICBzdWJIdG1sVXJsID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdLnN1Ykh0bWxVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdWJIdG1sID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdLnN1Ykh0bWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghc3ViSHRtbFVybCkge1xyXG4gICAgICAgICAgICBpZiAoc3ViSHRtbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGZpcnN0IGxldHRlciBvZiBzdWItaHRtbFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgZmlyc3QgbGV0dGVyIHN0YXJ0cyB3aXRoIC4gb3IgIyBnZXQgdGhlIGh0bWwgZm9ybSB0aGUgalF1ZXJ5IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgdmFyIGZMID0gc3ViSHRtbC5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZkwgPT09ICcuJyB8fCBmTCA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc3ViSHRtbFNlbGVjdG9yUmVsYXRpdmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJIdG1sID0gJExHKHRoaXMuaXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXEoaW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZChzdWJIdG1sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJIdG1sID0gJExHKHN1Ykh0bWwpLmZpcnN0KCkuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1Ykh0bWwgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hcHBlbmRTdWJIdG1sVG8gIT09ICcubGctaXRlbScpIHtcclxuICAgICAgICAgICAgaWYgKHN1Ykh0bWxVcmwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluZCgnLmxnLXN1Yi1odG1sJykubG9hZChzdWJIdG1sVXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIuZmluZCgnLmxnLXN1Yi1odG1sJykuaHRtbChzdWJIdG1sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTbGlkZSA9ICRMRyh0aGlzLmdldFNsaWRlSXRlbUlkKGluZGV4KSk7XHJcbiAgICAgICAgICAgIGlmIChzdWJIdG1sVXJsKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGUubG9hZChzdWJIdG1sVXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZS5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJsZy1zdWItaHRtbFxcXCI+XCIgKyBzdWJIdG1sICsgXCI8L2Rpdj5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkIGxnLWVtcHR5LWh0bWwgY2xhc3MgaWYgdGl0bGUgZG9lc24ndCBleGlzdFxyXG4gICAgICAgIGlmICh0eXBlb2Ygc3ViSHRtbCAhPT0gJ3VuZGVmaW5lZCcgJiYgc3ViSHRtbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoc3ViSHRtbCA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXJcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCh0aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2xnLWVtcHR5LWh0bWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXJcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCh0aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbylcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLWVtcHR5LWh0bWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5hZnRlckFwcGVuZFN1Ykh0bWwsIHtcclxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogIEBkZXNjIFByZWxvYWQgc2xpZGVzXHJcbiAgICAgKiAgQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKiBAdG9kbyBwcmVsb2FkIG5vdCB3b3JraW5nIGZvciB0aGUgZmlyc3Qgc2xpZGUsIEFsc28sIHNob3VsZCB3b3JrIGZvciB0aGUgZmlyc3QgYW5kIGxhc3Qgc2xpZGUgYXMgd2VsbFxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnByZWxvYWQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSB0aGlzLnNldHRpbmdzLnByZWxvYWQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggLSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sb2FkQ29udGVudChpbmRleCArIGksIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPD0gdGhpcy5zZXR0aW5ncy5wcmVsb2FkOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IC0gaiA8IDApIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubG9hZENvbnRlbnQoaW5kZXggLSBqLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0RHVtbXlJbWdTdHlsZXMgPSBmdW5jdGlvbiAoaW1hZ2VTaXplKSB7XHJcbiAgICAgICAgaWYgKCFpbWFnZVNpemUpXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICByZXR1cm4gXCJ3aWR0aDpcIiArIGltYWdlU2l6ZS53aWR0aCArIFwicHg7XFxuICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtXCIgKyBpbWFnZVNpemUud2lkdGggLyAyICsgXCJweDtcXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogLVwiICsgaW1hZ2VTaXplLmhlaWdodCAvIDIgKyBcInB4O1xcbiAgICAgICAgICAgICAgICBoZWlnaHQ6XCIgKyBpbWFnZVNpemUuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0VmlkZW9Db250U3R5bGUgPSBmdW5jdGlvbiAoaW1hZ2VTaXplKSB7XHJcbiAgICAgICAgaWYgKCFpbWFnZVNpemUpXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICByZXR1cm4gXCJ3aWR0aDpcIiArIGltYWdlU2l6ZS53aWR0aCArIFwicHg7XFxuICAgICAgICAgICAgICAgIGhlaWdodDpcIiArIGltYWdlU2l6ZS5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nZXREdW1teUltYWdlQ29udGVudCA9IGZ1bmN0aW9uICgkY3VycmVudFNsaWRlLCBpbmRleCwgYWx0KSB7XHJcbiAgICAgICAgdmFyICRjdXJyZW50SXRlbTtcclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZHluYW1pYykge1xyXG4gICAgICAgICAgICAkY3VycmVudEl0ZW0gPSAkTEcodGhpcy5pdGVtcykuZXEoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJGN1cnJlbnRJdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBfZHVtbXlJbWdTcmMgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5leFRodW1iSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIF9kdW1teUltZ1NyYyA9ICRjdXJyZW50SXRlbS5maW5kKCdpbWcnKS5maXJzdCgpLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2R1bW15SW1nU3JjID0gJGN1cnJlbnRJdGVtLmF0dHIodGhpcy5zZXR0aW5ncy5leFRodW1iSW1hZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghX2R1bW15SW1nU3JjKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICB2YXIgaW1nU3R5bGUgPSB0aGlzLmdldER1bW15SW1nU3R5bGVzKHRoaXMuY3VycmVudEltYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgIHZhciBkdW1teUltZ0NvbnRlbnQgPSBcIjxpbWcgXCIgKyBhbHQgKyBcIiBzdHlsZT1cXFwiXCIgKyBpbWdTdHlsZSArIFwiXFxcIiBjbGFzcz1cXFwibGctZHVtbXktaW1nXFxcIiBzcmM9XFxcIlwiICsgX2R1bW15SW1nU3JjICsgXCJcXFwiIC8+XCI7XHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuYWRkQ2xhc3MoJ2xnLWZpcnN0LXNsaWRlJyk7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWZpcnN0LXNsaWRlLWxvYWRpbmcnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGR1bW15SW1nQ29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuc2V0SW1nTWFya3VwID0gZnVuY3Rpb24gKHNyYywgJGN1cnJlbnRTbGlkZSwgaW5kZXgpIHtcclxuICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIHZhciBhbHQgPSBjdXJyZW50R2FsbGVyeUl0ZW0uYWx0LCBzcmNzZXQgPSBjdXJyZW50R2FsbGVyeUl0ZW0uc3Jjc2V0LCBzaXplcyA9IGN1cnJlbnRHYWxsZXJ5SXRlbS5zaXplcywgc291cmNlcyA9IGN1cnJlbnRHYWxsZXJ5SXRlbS5zb3VyY2VzO1xyXG4gICAgICAgIC8vIFVzZSB0aGUgdGh1bWJuYWlsIGFzIGR1bW15IGltYWdlIHdoaWNoIHdpbGwgYmUgcmVzaXplZCB0byBhY3R1YWwgaW1hZ2Ugc2l6ZSBhbmRcclxuICAgICAgICAvLyBkaXNwbGF5ZWQgb24gdG9wIG9mIGFjdHVhbCBpbWFnZVxyXG4gICAgICAgIHZhciBpbWdDb250ZW50ID0gJyc7XHJcbiAgICAgICAgdmFyIGFsdEF0dHIgPSBhbHQgPyAnYWx0PVwiJyArIGFsdCArICdcIicgOiAnJztcclxuICAgICAgICBpZiAodGhpcy5pc0ZpcnN0U2xpZGVXaXRoWm9vbUFuaW1hdGlvbigpKSB7XHJcbiAgICAgICAgICAgIGltZ0NvbnRlbnQgPSB0aGlzLmdldER1bW15SW1hZ2VDb250ZW50KCRjdXJyZW50U2xpZGUsIGluZGV4LCBhbHRBdHRyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGltZ0NvbnRlbnQgPSB1dGlscy5nZXRJbWdNYXJrdXAoaW5kZXgsIHNyYywgYWx0QXR0ciwgc3Jjc2V0LCBzaXplcywgc291cmNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbWdNYXJrdXAgPSBcIjxwaWN0dXJlIGNsYXNzPVxcXCJsZy1pbWctd3JhcFxcXCI+IFwiICsgaW1nQ29udGVudCArIFwiPC9waWN0dXJlPlwiO1xyXG4gICAgICAgICRjdXJyZW50U2xpZGUucHJlcGVuZChpbWdNYXJrdXApO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUub25TbGlkZU9iamVjdExvYWQgPSBmdW5jdGlvbiAoJHNsaWRlLCBpc0hUTUw1VmlkZW9XaXRob3V0UG9zdGVyLCBvbkxvYWQsIG9uRXJyb3IpIHtcclxuICAgICAgICB2YXIgbWVkaWFPYmplY3QgPSAkc2xpZGUuZmluZCgnLmxnLW9iamVjdCcpLmZpcnN0KCk7XHJcbiAgICAgICAgaWYgKHV0aWxzLmlzSW1hZ2VMb2FkZWQobWVkaWFPYmplY3QuZ2V0KCkpIHx8XHJcbiAgICAgICAgICAgIGlzSFRNTDVWaWRlb1dpdGhvdXRQb3N0ZXIpIHtcclxuICAgICAgICAgICAgb25Mb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtZWRpYU9iamVjdC5vbignbG9hZC5sZyBlcnJvci5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uTG9hZCAmJiBvbkxvYWQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG1lZGlhT2JqZWN0Lm9uKCdlcnJvci5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICRlbCBDdXJyZW50IHNsaWRlIGl0ZW1cclxuICAgICAqIEBwYXJhbSBpbmRleFxyXG4gICAgICogQHBhcmFtIGRlbGF5IERlbGF5IGlzIDAgZXhjZXB0IGZpcnN0IHRpbWVcclxuICAgICAqIEBwYXJhbSBzcGVlZCBTcGVlZCBpcyBzYW1lIGFzIGRlbGF5LCBleGNlcHQgaXQgaXMgMCBpZiBnYWxsZXJ5IGlzIG9wZW5lZCB2aWEgaGFzaCBwbHVnaW5cclxuICAgICAqIEBwYXJhbSBpc0ZpcnN0U2xpZGVcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5vbkxnT2JqZWN0TG9hZCA9IGZ1bmN0aW9uIChjdXJyZW50U2xpZGUsIGluZGV4LCBkZWxheSwgc3BlZWQsIGlzRmlyc3RTbGlkZSwgaXNIVE1MNVZpZGVvV2l0aG91dFBvc3Rlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5vblNsaWRlT2JqZWN0TG9hZChjdXJyZW50U2xpZGUsIGlzSFRNTDVWaWRlb1dpdGhvdXRQb3N0ZXIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMudHJpZ2dlclNsaWRlSXRlbUxvYWQoY3VycmVudFNsaWRlLCBpbmRleCwgZGVsYXksIHNwZWVkLCBpc0ZpcnN0U2xpZGUpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY3VycmVudFNsaWRlLmFkZENsYXNzKCdsZy1jb21wbGV0ZSBsZy1jb21wbGV0ZV8nKTtcclxuICAgICAgICAgICAgY3VycmVudFNsaWRlLmh0bWwoJzxzcGFuIGNsYXNzPVwibGctZXJyb3ItbXNnXCI+JyArXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5zdHJpbmdzWydtZWRpYUxvYWRpbmdGYWlsZWQnXSArXHJcbiAgICAgICAgICAgICAgICAnPC9zcGFuPicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudHJpZ2dlclNsaWRlSXRlbUxvYWQgPSBmdW5jdGlvbiAoJGN1cnJlbnRTbGlkZSwgaW5kZXgsIGRlbGF5LCBzcGVlZCwgaXNGaXJzdFNsaWRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIC8vIEFkZGluZyBkZWxheSBmb3IgdmlkZW8gc2xpZGVzIHdpdGhvdXQgcG9zdGVyIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UgYW5kIHVzZXIgZXhwZXJpZW5jZVxyXG4gICAgICAgIC8vIFZpZGVvcyBzaG91bGQgc3RhcnQgcGxheWluZyBvbmNlIG9uY2UgdGhlIGdhbGxlcnkgaXMgY29tcGxldGVseSBsb2FkZWRcclxuICAgICAgICB2YXIgX3NwZWVkID0gaXNGaXJzdFNsaWRlICYmXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVUeXBlKGN1cnJlbnRHYWxsZXJ5SXRlbSkgPT09ICd2aWRlbycgJiZcclxuICAgICAgICAgICAgIWN1cnJlbnRHYWxsZXJ5SXRlbS5wb3N0ZXJcclxuICAgICAgICAgICAgPyBzcGVlZFxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuYWRkQ2xhc3MoJ2xnLWNvbXBsZXRlIGxnLWNvbXBsZXRlXycpO1xyXG4gICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuc2xpZGVJdGVtTG9hZCwge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZGVsYXk6IGRlbGF5IHx8IDAsXHJcbiAgICAgICAgICAgICAgICBpc0ZpcnN0U2xpZGU6IGlzRmlyc3RTbGlkZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgX3NwZWVkKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmlzRmlyc3RTbGlkZVdpdGhab29tQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhISghdGhpcy5sR2FsbGVyeU9uICYmXHJcbiAgICAgICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gJiZcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VTaXplKTtcclxuICAgIH07XHJcbiAgICAvLyBBZGQgdmlkZW8gc2xpZGVJbmZvXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmFkZFNsaWRlVmlkZW9JbmZvID0gZnVuY3Rpb24gKGl0ZW1zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICBlbGVtZW50Ll9fc2xpZGVWaWRlb0luZm8gPSB1dGlscy5pc1ZpZGVvKGVsZW1lbnQuc3JjLCAhIWVsZW1lbnQudmlkZW8sIGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuX19zbGlkZVZpZGVvSW5mbyAmJlxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubG9hZFlvdVR1YmVQb3N0ZXIgJiZcclxuICAgICAgICAgICAgICAgICFlbGVtZW50LnBvc3RlciAmJlxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5fX3NsaWRlVmlkZW9JbmZvLnlvdXR1YmUpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucG9zdGVyID0gXCIvL2ltZy55b3V0dWJlLmNvbS92aS9cIiArIGVsZW1lbnQuX19zbGlkZVZpZGVvSW5mby55b3V0dWJlWzFdICsgXCIvbWF4cmVzZGVmYXVsdC5qcGdcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogIExvYWQgc2xpZGUgY29udGVudCBpbnRvIHNsaWRlLlxyXG4gICAgICogIFRoaXMgaXMgdXNlZCB0byBsb2FkIGNvbnRlbnQgaW50byBzbGlkZXMgdGhhdCBpcyBub3QgdmlzaWJsZSB0b29cclxuICAgICAqICBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBpbmRleCBvZiB0aGUgc2xpZGUuXHJcbiAgICAgKiAgQHBhcmFtIHtCb29sZWFufSByZWMgLSBpZiB0cnVlIGNhbGwgbG9hZGNvbnRlbnQoKSBmdW5jdGlvbiBhZ2Fpbi5cclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5sb2FkQ29udGVudCA9IGZ1bmN0aW9uIChpbmRleCwgcmVjKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgIHZhciAkY3VycmVudFNsaWRlID0gJExHKHRoaXMuZ2V0U2xpZGVJdGVtSWQoaW5kZXgpKTtcclxuICAgICAgICB2YXIgcG9zdGVyID0gY3VycmVudEdhbGxlcnlJdGVtLnBvc3Rlciwgc3Jjc2V0ID0gY3VycmVudEdhbGxlcnlJdGVtLnNyY3NldCwgc2l6ZXMgPSBjdXJyZW50R2FsbGVyeUl0ZW0uc2l6ZXMsIHNvdXJjZXMgPSBjdXJyZW50R2FsbGVyeUl0ZW0uc291cmNlcztcclxuICAgICAgICB2YXIgc3JjID0gY3VycmVudEdhbGxlcnlJdGVtLnNyYztcclxuICAgICAgICB2YXIgdmlkZW8gPSBjdXJyZW50R2FsbGVyeUl0ZW0udmlkZW87XHJcbiAgICAgICAgdmFyIF9odG1sNVZpZGVvID0gdmlkZW8gJiYgdHlwZW9mIHZpZGVvID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodmlkZW8pIDogdmlkZW87XHJcbiAgICAgICAgaWYgKGN1cnJlbnRHYWxsZXJ5SXRlbS5yZXNwb25zaXZlKSB7XHJcbiAgICAgICAgICAgIHZhciBzcmNEeUl0bXMgPSBjdXJyZW50R2FsbGVyeUl0ZW0ucmVzcG9uc2l2ZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBzcmMgPSB1dGlscy5nZXRSZXNwb25zaXZlU3JjKHNyY0R5SXRtcykgfHwgc3JjO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmlkZW9JbmZvID0gY3VycmVudEdhbGxlcnlJdGVtLl9fc2xpZGVWaWRlb0luZm87XHJcbiAgICAgICAgdmFyIGxnVmlkZW9TdHlsZSA9ICcnO1xyXG4gICAgICAgIHZhciBpZnJhbWUgPSAhIWN1cnJlbnRHYWxsZXJ5SXRlbS5pZnJhbWU7XHJcbiAgICAgICAgdmFyIGlzRmlyc3RTbGlkZSA9ICF0aGlzLmxHYWxsZXJ5T247XHJcbiAgICAgICAgLy8gZGVsYXkgZm9yIGFkZGluZyBjb21wbGV0ZSBjbGFzcy4gaXQgaXMgMCBleGNlcHQgZmlyc3QgdGltZS5cclxuICAgICAgICB2YXIgZGVsYXkgPSAwO1xyXG4gICAgICAgIGlmIChpc0ZpcnN0U2xpZGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuem9vbUZyb21PcmlnaW4gJiYgdGhpcy5jdXJyZW50SW1hZ2VTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxheSA9IHRoaXMuc2V0dGluZ3Muc3RhcnRBbmltYXRpb25EdXJhdGlvbiArIDEwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVsYXkgPSB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24gKyAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISRjdXJyZW50U2xpZGUuaGFzQ2xhc3MoJ2xnLWxvYWRlZCcpKSB7XHJcbiAgICAgICAgICAgIGlmICh2aWRlb0luZm8pIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSA9IHRoaXMubWVkaWFDb250YWluZXJQb3NpdGlvbiwgdG9wXzIgPSBfYS50b3AsIGJvdHRvbSA9IF9hLmJvdHRvbTtcclxuICAgICAgICAgICAgICAgIHZhciB2aWRlb1NpemUgPSB1dGlscy5nZXRTaXplKHRoaXMuaXRlbXNbaW5kZXhdLCB0aGlzLm91dGVyLCB0b3BfMiArIGJvdHRvbSwgdmlkZW9JbmZvICYmIHRoaXMuc2V0dGluZ3MudmlkZW9NYXhTaXplKTtcclxuICAgICAgICAgICAgICAgIGxnVmlkZW9TdHlsZSA9IHRoaXMuZ2V0VmlkZW9Db250U3R5bGUodmlkZW9TaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaWZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya3VwID0gdXRpbHMuZ2V0SWZyYW1lTWFya3VwKHRoaXMuc2V0dGluZ3MuaWZyYW1lV2lkdGgsIHRoaXMuc2V0dGluZ3MuaWZyYW1lSGVpZ2h0LCB0aGlzLnNldHRpbmdzLmlmcmFtZU1heFdpZHRoLCB0aGlzLnNldHRpbmdzLmlmcmFtZU1heEhlaWdodCwgc3JjLCBjdXJyZW50R2FsbGVyeUl0ZW0uaWZyYW1lVGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgJGN1cnJlbnRTbGlkZS5wcmVwZW5kKG1hcmt1cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocG9zdGVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZHVtbXlJbWcgPSAnJztcclxuICAgICAgICAgICAgICAgIHZhciBoYXNTdGFydEFuaW1hdGlvbiA9IGlzRmlyc3RTbGlkZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZVNpemU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzU3RhcnRBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBkdW1teUltZyA9IHRoaXMuZ2V0RHVtbXlJbWFnZUNvbnRlbnQoJGN1cnJlbnRTbGlkZSwgaW5kZXgsICcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBtYXJrdXAgPSB1dGlscy5nZXRWaWRlb1Bvc3Rlck1hcmt1cChwb3N0ZXIsIGR1bW15SW1nIHx8ICcnLCBsZ1ZpZGVvU3R5bGUsIHRoaXMuc2V0dGluZ3Muc3RyaW5nc1sncGxheVZpZGVvJ10sIHZpZGVvSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlLnByZXBlbmQobWFya3VwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh2aWRlb0luZm8pIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXJrdXAgPSBcIjxkaXYgY2xhc3M9XFxcImxnLXZpZGVvLWNvbnQgXFxcIiBzdHlsZT1cXFwiXCIgKyBsZ1ZpZGVvU3R5bGUgKyBcIlxcXCI+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlLnByZXBlbmQobWFya3VwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1nTWFya3VwKHNyYywgJGN1cnJlbnRTbGlkZSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNyY3NldCB8fCBzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkY3VycmVudFNsaWRlLmZpbmQoJy5sZy1vYmplY3QnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRQaWN0dXJlRmlsbCgkaW1nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocG9zdGVyIHx8IHZpZGVvSW5mbykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuaGFzVmlkZW8sIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBzcmMsXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDVWaWRlbzogX2h0bWw1VmlkZW8sXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzUG9zdGVyOiAhIXBvc3RlcixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmFmdGVyQXBwZW5kU2xpZGUsIHsgaW5kZXg6IGluZGV4IH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sR2FsbGVyeU9uICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbyA9PT0gJy5sZy1pdGVtJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRIdG1sKGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGb3IgZmlyc3QgdGltZSBhZGQgc29tZSBkZWxheSBmb3IgZGlzcGxheWluZyB0aGUgc3RhcnQgYW5pbWF0aW9uLlxyXG4gICAgICAgIHZhciBfc3BlZWQgPSAwO1xyXG4gICAgICAgIC8vIERvIG5vdCBjaGFuZ2UgdGhlIGRlbGF5IHZhbHVlIGJlY2F1c2UgaXQgaXMgcmVxdWlyZWQgZm9yIHpvb20gcGx1Z2luLlxyXG4gICAgICAgIC8vIElmIGdhbGxlcnkgb3BlbmVkIGZyb20gZGlyZWN0IHVybCAoaGFzaCkgc3BlZWQgdmFsdWUgc2hvdWxkIGJlIDBcclxuICAgICAgICBpZiAoZGVsYXkgJiYgISRMRyhkb2N1bWVudC5ib2R5KS5oYXNDbGFzcygnbGctZnJvbS1oYXNoJykpIHtcclxuICAgICAgICAgICAgX3NwZWVkID0gZGVsYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE9ubHkgZm9yIGZpcnN0IHNsaWRlIGFuZCB6b29tRnJvbU9yaWdpbiBpcyBlbmFibGVkXHJcbiAgICAgICAgaWYgKHRoaXMuaXNGaXJzdFNsaWRlV2l0aFpvb21BbmltYXRpb24oKSkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRjdXJyZW50U2xpZGVcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLXN0YXJ0LWVuZC1wcm9ncmVzcyBsZy1zdGFydC1wcm9ncmVzcycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3RhcnRBbmltYXRpb25EdXJhdGlvbiArIDEwMCk7XHJcbiAgICAgICAgICAgIGlmICghJGN1cnJlbnRTbGlkZS5oYXNDbGFzcygnbGctbG9hZGVkJykpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5nZXRTbGlkZVR5cGUoY3VycmVudEdhbGxlcnlJdGVtKSA9PT0gJ2ltYWdlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0ID0gY3VycmVudEdhbGxlcnlJdGVtLmFsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdEF0dHIgPSBhbHQgPyAnYWx0PVwiJyArIGFsdCArICdcIicgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRTbGlkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1pbWctd3JhcCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHV0aWxzLmdldEltZ01hcmt1cChpbmRleCwgc3JjLCBhbHRBdHRyLCBzcmNzZXQsIHNpemVzLCBjdXJyZW50R2FsbGVyeUl0ZW0uc291cmNlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Jjc2V0IHx8IHNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW1nID0gJGN1cnJlbnRTbGlkZS5maW5kKCcubGctb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbml0UGljdHVyZUZpbGwoJGltZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmdldFNsaWRlVHlwZShjdXJyZW50R2FsbGVyeUl0ZW0pID09PSAnaW1hZ2UnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChfdGhpcy5nZXRTbGlkZVR5cGUoY3VycmVudEdhbGxlcnlJdGVtKSA9PT0gJ3ZpZGVvJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkxnT2JqZWN0TG9hZCgkY3VycmVudFNsaWRlLCBpbmRleCwgZGVsYXksIF9zcGVlZCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2FkIHJlbWFpbmluZyBzbGlkZXMgb25jZSB0aGUgc2xpZGUgaXMgY29tcGxldGVseSBsb2FkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25TbGlkZU9iamVjdExvYWQoJGN1cnJlbnRTbGlkZSwgISEodmlkZW9JbmZvICYmIHZpZGVvSW5mby5odG1sNSAmJiAhcG9zdGVyKSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZENvbnRlbnRPbkZpcnN0U2xpZGVMb2FkKGluZGV4LCAkY3VycmVudFNsaWRlLCBfc3BlZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkQ29udGVudE9uRmlyc3RTbGlkZUxvYWQoaW5kZXgsICRjdXJyZW50U2xpZGUsIF9zcGVlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3RhcnRBbmltYXRpb25EdXJhdGlvbiArIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU0xpZGUgY29udGVudCBoYXMgYmVlbiBhZGRlZCB0byBkb21cclxuICAgICAgICAkY3VycmVudFNsaWRlLmFkZENsYXNzKCdsZy1sb2FkZWQnKTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNGaXJzdFNsaWRlV2l0aFpvb21BbmltYXRpb24oKSB8fFxyXG4gICAgICAgICAgICAodGhpcy5nZXRTbGlkZVR5cGUoY3VycmVudEdhbGxlcnlJdGVtKSA9PT0gJ3ZpZGVvJyAmJiAhcG9zdGVyKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTGdPYmplY3RMb2FkKCRjdXJyZW50U2xpZGUsIGluZGV4LCBkZWxheSwgX3NwZWVkLCBpc0ZpcnN0U2xpZGUsICEhKHZpZGVvSW5mbyAmJiB2aWRlb0luZm8uaHRtbDUgJiYgIXBvc3RlcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBXaGVuIGdhbGxlcnkgaXMgb3BlbmVkIG9uY2UgY29udGVudCBpcyBsb2FkZWQgKHNlY29uZCB0aW1lKSBuZWVkIHRvIGFkZCBsZy1jb21wbGV0ZSBjbGFzcyBmb3IgY3NzIHN0eWxpbmdcclxuICAgICAgICBpZiAoKCF0aGlzLnpvb21Gcm9tT3JpZ2luIHx8ICF0aGlzLmN1cnJlbnRJbWFnZVNpemUpICYmXHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuaGFzQ2xhc3MoJ2xnLWNvbXBsZXRlXycpICYmXHJcbiAgICAgICAgICAgICF0aGlzLmxHYWxsZXJ5T24pIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlLmFkZENsYXNzKCdsZy1jb21wbGV0ZScpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDb250ZW50IGxvYWRlZFxyXG4gICAgICAgIC8vIE5lZWQgdG8gc2V0IGxHYWxsZXJ5T24gYmVmb3JlIGNhbGxpbmcgcHJlbG9hZCBmdW5jdGlvblxyXG4gICAgICAgIHRoaXMubEdhbGxlcnlPbiA9IHRydWU7XHJcbiAgICAgICAgaWYgKHJlYyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoISRjdXJyZW50U2xpZGUuaGFzQ2xhc3MoJ2xnLWNvbXBsZXRlXycpKSB7XHJcbiAgICAgICAgICAgICAgICAkY3VycmVudFNsaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1vYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdsb2FkLmxnIGVycm9yLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnByZWxvYWQoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWQoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQGRlc2MgUmVtb3ZlIGR1bW15IGltYWdlIGNvbnRlbnQgYW5kIGxvYWQgbmV4dCBzbGlkZXNcclxuICAgICAqIENhbGxlZCBvbmx5IGZvciB0aGUgZmlyc3QgdGltZSBpZiB6b29tRnJvbU9yaWdpbiBhbmltYXRpb24gaXMgZW5hYmxlZFxyXG4gICAgICogQHBhcmFtIGluZGV4XHJcbiAgICAgKiBAcGFyYW0gJGN1cnJlbnRTbGlkZVxyXG4gICAgICogQHBhcmFtIHNwZWVkXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUubG9hZENvbnRlbnRPbkZpcnN0U2xpZGVMb2FkID0gZnVuY3Rpb24gKGluZGV4LCAkY3VycmVudFNsaWRlLCBzcGVlZCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdXJyZW50U2xpZGUuZmluZCgnLmxnLWR1bW15LWltZycpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkY3VycmVudFNsaWRlLnJlbW92ZUNsYXNzKCdsZy1maXJzdC1zbGlkZScpO1xyXG4gICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctZmlyc3Qtc2xpZGUtbG9hZGluZycpO1xyXG4gICAgICAgICAgICBfdGhpcy5pc0R1bW15SW1hZ2VSZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMucHJlbG9hZChpbmRleCk7XHJcbiAgICAgICAgfSwgc3BlZWQgKyAzMDApO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0SXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbSA9IGZ1bmN0aW9uIChpbmRleCwgcHJldkluZGV4LCBudW1iZXJPZkl0ZW1zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAobnVtYmVyT2ZJdGVtcyA9PT0gdm9pZCAwKSB7IG51bWJlck9mSXRlbXMgPSAwOyB9XHJcbiAgICAgICAgdmFyIGl0ZW1zVG9CZUluc2VydGVkVG9Eb20gPSBbXTtcclxuICAgICAgICAvLyBNaW5pbXVtIDIgaXRlbXMgc2hvdWxkIGJlIHRoZXJlXHJcbiAgICAgICAgdmFyIHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyA9IE1hdGgubWF4KG51bWJlck9mSXRlbXMsIDMpO1xyXG4gICAgICAgIHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyA9IE1hdGgubWluKHBvc3NpYmxlTnVtYmVyT2ZJdGVtcywgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoKTtcclxuICAgICAgICB2YXIgcHJldkluZGV4SXRlbSA9IFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgcHJldkluZGV4O1xyXG4gICAgICAgIGlmICh0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggPD0gMykge1xyXG4gICAgICAgICAgICB0aGlzLmdhbGxlcnlJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChfZWxlbWVudCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zVG9CZUluc2VydGVkVG9Eb20ucHVzaChcImxnLWl0ZW0tXCIgKyBfdGhpcy5sZ0lkICsgXCItXCIgKyBpbmRleCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4IDwgKHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDEpIC8gMikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpZHggPSBpbmRleDsgaWR4ID4gaW5kZXggLSBwb3NzaWJsZU51bWJlck9mSXRlbXMgLyAyICYmIGlkeCA+PSAwOyBpZHgtLSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5wdXNoKFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgaWR4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbnVtYmVyT2ZFeGlzdGluZ0l0ZW1zID0gaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyAtIG51bWJlck9mRXhpc3RpbmdJdGVtczsgaWR4KyspIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zVG9CZUluc2VydGVkVG9Eb20ucHVzaChcImxnLWl0ZW0tXCIgKyB0aGlzLmxnSWQgKyBcIi1cIiArIChpbmRleCArIGlkeCArIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gaW5kZXg7IGlkeCA8PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggLSAxICYmXHJcbiAgICAgICAgICAgICAgICBpZHggPCBpbmRleCArIHBvc3NpYmxlTnVtYmVyT2ZJdGVtcyAvIDI7IGlkeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLnB1c2goXCJsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyBpZHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBudW1iZXJPZkV4aXN0aW5nSXRlbXMgPSBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgcG9zc2libGVOdW1iZXJPZkl0ZW1zIC0gbnVtYmVyT2ZFeGlzdGluZ0l0ZW1zOyBpZHgrKykge1xyXG4gICAgICAgICAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5wdXNoKFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgKGluZGV4IC0gaWR4IC0gMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLnB1c2goXCJsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5wdXNoKFwibGctaXRlbS1cIiArIHRoaXMubGdJZCArIFwiLVwiICsgKHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbS5pbmRleE9mKHByZXZJbmRleEl0ZW0pID09PSAtMSkge1xyXG4gICAgICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLnB1c2goXCJsZy1pdGVtLVwiICsgdGhpcy5sZ0lkICsgXCItXCIgKyBwcmV2SW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm9yZ2FuaXplU2xpZGVJdGVtcyA9IGZ1bmN0aW9uIChpbmRleCwgcHJldkluZGV4KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbSA9IHRoaXMuZ2V0SXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbShpbmRleCwgcHJldkluZGV4LCB0aGlzLnNldHRpbmdzLm51bWJlck9mU2xpZGVJdGVtc0luRG9tKTtcclxuICAgICAgICBpdGVtc1RvQmVJbnNlcnRlZFRvRG9tLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRJdGVtc0luRG9tLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy4kaW5uZXIuYXBwZW5kKFwiPGRpdiBpZD1cXFwiXCIgKyBpdGVtICsgXCJcXFwiIGNsYXNzPVxcXCJsZy1pdGVtXFxcIj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc0luRG9tLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW1zVG9CZUluc2VydGVkVG9Eb20uaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICRMRyhcIiNcIiArIGl0ZW0pLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zVG9CZUluc2VydGVkVG9Eb207XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcHJldmlvdXMgaW5kZXggb2YgdGhlIHNsaWRlXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0UHJldmlvdXNTbGlkZUluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwcmV2SW5kZXggPSAwO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbUlkID0gdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5sZy1jdXJyZW50JylcclxuICAgICAgICAgICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnKTtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gcGFyc2VJbnQoY3VycmVudEl0ZW1JZC5zcGxpdCgnLScpWzNdKSB8fCAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByZXZJbmRleDtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnNldERvd25sb2FkVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kb3dubG9hZCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEdhbGxlcnlJdGVtID0gdGhpcy5nYWxsZXJ5SXRlbXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgaGlkZURvd25sb2FkQnRuID0gY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkVXJsID09PSBmYWxzZSB8fFxyXG4gICAgICAgICAgICAgICAgY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkVXJsID09PSAnZmFsc2UnO1xyXG4gICAgICAgICAgICBpZiAoaGlkZURvd25sb2FkQnRuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dGVyLmFkZENsYXNzKCdsZy1oaWRlLWRvd25sb2FkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGRvd25sb2FkID0gdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctZG93bmxvYWQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLWhpZGUtZG93bmxvYWQnKTtcclxuICAgICAgICAgICAgICAgICRkb3dubG9hZC5hdHRyKCdocmVmJywgY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkVXJsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdhbGxlcnlJdGVtLnNyYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRvd25sb2FkLmF0dHIoJ2Rvd25sb2FkJywgY3VycmVudEdhbGxlcnlJdGVtLmRvd25sb2FkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1ha2VTbGlkZUFuaW1hdGlvbiA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGN1cnJlbnRTbGlkZUl0ZW0sIHByZXZpb3VzU2xpZGVJdGVtKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5sR2FsbGVyeU9uKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU2xpZGVJdGVtLmFkZENsYXNzKCdsZy1zbGlkZS1wcm9ncmVzcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCB0cmFuc2l0aW9uc1xyXG4gICAgICAgICAgICBfdGhpcy5vdXRlci5hZGRDbGFzcygnbGctbm8tdHJhbnMnKTtcclxuICAgICAgICAgICAgX3RoaXMub3V0ZXJcclxuICAgICAgICAgICAgICAgIC5maW5kKCcubGctaXRlbScpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLXByZXYtc2xpZGUgbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcclxuICAgICAgICAgICAgICAgIC8vcHJldnNsaWRlXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVJdGVtLmFkZENsYXNzKCdsZy1wcmV2LXNsaWRlJyk7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NsaWRlSXRlbS5hZGRDbGFzcygnbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbmV4dCBzbGlkZVxyXG4gICAgICAgICAgICAgICAgY3VycmVudFNsaWRlSXRlbS5hZGRDbGFzcygnbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNTbGlkZUl0ZW0uYWRkQ2xhc3MoJ2xnLXByZXYtc2xpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBnaXZlIDUwIG1zIGZvciBicm93c2VyIHRvIGFkZC9yZW1vdmUgY2xhc3NcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5maW5kKCcubGctaXRlbScpLnJlbW92ZUNsYXNzKCdsZy1jdXJyZW50Jyk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVJdGVtLmFkZENsYXNzKCdsZy1jdXJyZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyByZXNldCBhbGwgdHJhbnNpdGlvbnNcclxuICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1uby10cmFucycpO1xyXG4gICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgfSwgdGhpcy5sR2FsbGVyeU9uID8gdGhpcy5zZXR0aW5ncy5zbGlkZURlbGF5IDogMCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHb3RvIGEgc3BlY2lmaWMgc2xpZGUuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBpbmRleCBvZiB0aGUgc2xpZGVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZnJvbVRvdWNoIC0gdHJ1ZSBpZiBzbGlkZSBmdW5jdGlvbiBjYWxsZWQgdmlhIHRvdWNoIGV2ZW50IG9yIG1vdXNlIGRyYWdcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZnJvbVRodW1iIC0gdHJ1ZSBpZiBzbGlkZSBmdW5jdGlvbiBjYWxsZWQgdmlhIHRodW1ibmFpbCBjbGlja1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAtIERpcmVjdGlvbiBvZiB0aGUgc2xpZGUobmV4dC9wcmV2KVxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoKTtcclxuICAgICAqICAvLyB0byBnbyB0byAzcmQgc2xpZGVcclxuICAgICAqICBwbHVnaW4uc2xpZGUoMik7XHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKGluZGV4LCBmcm9tVG91Y2gsIGZyb21UaHVtYiwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgcHJldkluZGV4ID0gdGhpcy5nZXRQcmV2aW91c1NsaWRlSW5kZXgoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc0luRG9tID0gdGhpcy5vcmdhbml6ZVNsaWRlSXRlbXMoaW5kZXgsIHByZXZJbmRleCk7XHJcbiAgICAgICAgLy8gUHJldmVudCBtdWx0aXBsZSBjYWxsLCBSZXF1aXJlZCBmb3IgaHNoIHBsdWdpblxyXG4gICAgICAgIGlmICh0aGlzLmxHYWxsZXJ5T24gJiYgcHJldkluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBudW1iZXJPZkdhbGxlcnlJdGVtcyA9IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICBpZiAoIXRoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudENvdW50ZXIoaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2xpZGVJdGVtID0gdGhpcy5nZXRTbGlkZUl0ZW0oaW5kZXgpO1xyXG4gICAgICAgICAgICB2YXIgcHJldmlvdXNTbGlkZUl0ZW1fMSA9IHRoaXMuZ2V0U2xpZGVJdGVtKHByZXZJbmRleCk7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50R2FsbGVyeUl0ZW0gPSB0aGlzLmdhbGxlcnlJdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIHZhciB2aWRlb0luZm8gPSBjdXJyZW50R2FsbGVyeUl0ZW0uX19zbGlkZVZpZGVvSW5mbztcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5hdHRyKCdkYXRhLWxnLXNsaWRlLXR5cGUnLCB0aGlzLmdldFNsaWRlVHlwZShjdXJyZW50R2FsbGVyeUl0ZW0pKTtcclxuICAgICAgICAgICAgdGhpcy5zZXREb3dubG9hZFZhbHVlKGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKHZpZGVvSW5mbykge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5tZWRpYUNvbnRhaW5lclBvc2l0aW9uLCB0b3BfMyA9IF9hLnRvcCwgYm90dG9tID0gX2EuYm90dG9tO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvU2l6ZSA9IHV0aWxzLmdldFNpemUodGhpcy5pdGVtc1tpbmRleF0sIHRoaXMub3V0ZXIsIHRvcF8zICsgYm90dG9tLCB2aWRlb0luZm8gJiYgdGhpcy5zZXR0aW5ncy52aWRlb01heFNpemUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVWaWRlb1NsaWRlKGluZGV4LCB2aWRlb1NpemUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmJlZm9yZVNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICBwcmV2SW5kZXg6IHByZXZJbmRleCxcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIGZyb21Ub3VjaDogISFmcm9tVG91Y2gsXHJcbiAgICAgICAgICAgICAgICBmcm9tVGh1bWI6ICEhZnJvbVRodW1iLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5sZ0J1c3kgPSB0cnVlO1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlQmFyVGltZW91dCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXJyb3dEaXNhYmxlKGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKCFkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IHByZXZJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdwcmV2JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID4gcHJldkluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ25leHQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZnJvbVRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1ha2VTbGlkZUFuaW1hdGlvbihkaXJlY3Rpb24sIGN1cnJlbnRTbGlkZUl0ZW0sIHByZXZpb3VzU2xpZGVJdGVtXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcubGctaXRlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdsZy1wcmV2LXNsaWRlIGxnLWN1cnJlbnQgbGctbmV4dC1zbGlkZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoUHJldiA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIHZhciB0b3VjaE5leHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtYmVyT2ZHYWxsZXJ5SXRlbXMgPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hQcmV2ID0gaW5kZXggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoTmV4dCA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgcHJldkluZGV4ID09PSBudW1iZXJPZkdhbGxlcnlJdGVtcyAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBzbGlkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaE5leHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaFByZXYgPSBudW1iZXJPZkdhbGxlcnlJdGVtcyAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSBudW1iZXJPZkdhbGxlcnlJdGVtcyAtIDEgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXYgc2xpZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hOZXh0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hQcmV2ID0gbnVtYmVyT2ZHYWxsZXJ5SXRlbXMgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoUHJldiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hOZXh0ID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKHRvdWNoTmV4dCkuYWRkQ2xhc3MoJ2xnLW5leHQtc2xpZGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKHRvdWNoUHJldikuYWRkQ2xhc3MoJ2xnLXByZXYtc2xpZGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZUl0ZW0uYWRkQ2xhc3MoJ2xnLWN1cnJlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEbyBub3QgcHV0IGxvYWQgY29udGVudCBpbiBzZXQgdGltZW91dCBhcyBpdCBuZWVkcyB0byBsb2FkIGltbWVkaWF0ZWx5IHdoZW4gdGhlIGdhbGxlcnkgaXMgb3BlbmVkXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5sR2FsbGVyeU9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRDb250ZW50KGluZGV4LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGl0bGUgaWYgdGhpcy5zZXR0aW5ncy5hcHBlbmRTdWJIdG1sVG8gPT09IGxnLXN1Yi1odG1sXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmFwcGVuZFN1Ykh0bWxUbyAhPT0gJy5sZy1pdGVtJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRIdG1sKGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnNldHRpbmdzLnNwZWVkICsgNTAgKyAoZnJvbVRvdWNoID8gMCA6IHRoaXMuc2V0dGluZ3Muc2xpZGVEZWxheSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGdCdXN5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c1NsaWRlSXRlbV8xLnJlbW92ZUNsYXNzKCdsZy1zbGlkZS1wcm9ncmVzcycpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmFmdGVyU2xpZGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXg6IHByZXZJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRvdWNoOiBmcm9tVG91Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRodW1iOiBmcm9tVGh1bWIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgKHRoaXMubEdhbGxlcnlPbiA/IHRoaXMuc2V0dGluZ3Muc3BlZWQgKyAxMDAgOiAxMDApICsgKGZyb21Ub3VjaCA/IDAgOiB0aGlzLnNldHRpbmdzLnNsaWRlRGVsYXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudXBkYXRlQ3VycmVudENvdW50ZXIgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jb3VudGVyLWN1cnJlbnQnKS5odG1sKGluZGV4ICsgMSArICcnKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLnVwZGF0ZUNvdW50ZXJUb3RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jb3VudGVyLWFsbCcpLmh0bWwodGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoICsgJycpO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZ2V0U2xpZGVUeXBlID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbS5fX3NsaWRlVmlkZW9JbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndmlkZW8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpdGVtLmlmcmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2lmcmFtZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2ltYWdlJztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS50b3VjaE1vdmUgPSBmdW5jdGlvbiAoc3RhcnRDb29yZHMsIGVuZENvb3JkcywgZSkge1xyXG4gICAgICAgIHZhciBkaXN0YW5jZVggPSBlbmRDb29yZHMucGFnZVggLSBzdGFydENvb3Jkcy5wYWdlWDtcclxuICAgICAgICB2YXIgZGlzdGFuY2VZID0gZW5kQ29vcmRzLnBhZ2VZIC0gc3RhcnRDb29yZHMucGFnZVk7XHJcbiAgICAgICAgdmFyIGFsbG93U3dpcGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5zd2lwZURpcmVjdGlvbikge1xyXG4gICAgICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZVgpID4gMTUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpcGVEaXJlY3Rpb24gPSAnaG9yaXpvbnRhbCc7XHJcbiAgICAgICAgICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkaXN0YW5jZVkpID4gMTUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpcGVEaXJlY3Rpb24gPSAndmVydGljYWwnO1xyXG4gICAgICAgICAgICAgICAgYWxsb3dTd2lwZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhbGxvd1N3aXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyICRjdXJyZW50U2xpZGUgPSB0aGlzLmdldFNsaWRlSXRlbSh0aGlzLmluZGV4KTtcclxuICAgICAgICBpZiAodGhpcy5zd2lwZURpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgICAgIGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyByZXNldCBvcGFjaXR5IGFuZCB0cmFuc2l0aW9uIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWRyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgIC8vIG1vdmUgY3VycmVudCBzbGlkZVxyXG4gICAgICAgICAgICB0aGlzLnNldFRyYW5zbGF0ZSgkY3VycmVudFNsaWRlLCBkaXN0YW5jZVgsIDApO1xyXG4gICAgICAgICAgICAvLyBtb3ZlIG5leHQgYW5kIHByZXYgc2xpZGUgd2l0aCBjdXJyZW50IHNsaWRlXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICRjdXJyZW50U2xpZGUuZ2V0KCkub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZVdpZHRoQW1vdW50ID0gKHdpZHRoICogMTUpIC8gMTAwO1xyXG4gICAgICAgICAgICB2YXIgZ3V0dGVyID0gc2xpZGVXaWR0aEFtb3VudCAtIE1hdGguYWJzKChkaXN0YW5jZVggKiAxMCkgLyAxMDApO1xyXG4gICAgICAgICAgICB0aGlzLnNldFRyYW5zbGF0ZSh0aGlzLm91dGVyLmZpbmQoJy5sZy1wcmV2LXNsaWRlJykuZmlyc3QoKSwgLXdpZHRoICsgZGlzdGFuY2VYIC0gZ3V0dGVyLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2xhdGUodGhpcy5vdXRlci5maW5kKCcubGctbmV4dC1zbGlkZScpLmZpcnN0KCksIHdpZHRoICsgZGlzdGFuY2VYICsgZ3V0dGVyLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zd2lwZURpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zd2lwZVRvQ2xvc2UpIHtcclxuICAgICAgICAgICAgICAgIGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFkZENsYXNzKCdsZy1kcmFnZ2luZy12ZXJ0aWNhbCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSAxIC0gTWF0aC5hYnMoZGlzdGFuY2VZKSAvIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGJhY2tkcm9wLmNzcygnb3BhY2l0eScsIG9wYWNpdHkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gMSAtIE1hdGguYWJzKGRpc3RhbmNlWSkgLyAod2luZG93LmlubmVyV2lkdGggKiAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNsYXRlKCRjdXJyZW50U2xpZGUsIDAsIGRpc3RhbmNlWSwgc2NhbGUsIHNjYWxlKTtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaXN0YW5jZVkpID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2xnLWhpZGUtaXRlbXMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLWNvbXBvbmVudHMtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudG91Y2hFbmQgPSBmdW5jdGlvbiAoZW5kQ29vcmRzLCBzdGFydENvb3JkcywgZXZlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkaXN0YW5jZTtcclxuICAgICAgICAvLyBrZWVwIHNsaWRlIGFuaW1hdGlvbiBmb3IgYW55IG1vZGUgd2hpbGUgZHJhZ2cvc3dpcGVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb2RlICE9PSAnbGctc2xpZGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLXNsaWRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCB0cmFuc2l0aW9uIGR1cmF0aW9uXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoJ2xnLWRyYWdnaW5nLXZlcnRpY2FsJyk7XHJcbiAgICAgICAgICAgIF90aGlzLm91dGVyXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2xnLWRyYWdnaW5nIGxnLWhpZGUtaXRlbXMnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdsZy1jb21wb25lbnRzLW9wZW4nKTtcclxuICAgICAgICAgICAgdmFyIHRyaWdnZXJDbGljayA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zd2lwZURpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IGVuZENvb3Jkcy5wYWdlWCAtIHN0YXJ0Q29vcmRzLnBhZ2VYO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlQWJzID0gTWF0aC5hYnMoZW5kQ29vcmRzLnBhZ2VYIC0gc3RhcnRDb29yZHMucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlQWJzID4gX3RoaXMuc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nb1RvTmV4dFNsaWRlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJDbGljayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlzdGFuY2UgPiAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VBYnMgPiBfdGhpcy5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdvVG9QcmV2U2xpZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckNsaWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuc3dpcGVEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoZW5kQ29vcmRzLnBhZ2VZIC0gc3RhcnRDb29yZHMucGFnZVkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmNsb3NhYmxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3Muc3dpcGVUb0Nsb3NlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPiAxMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYmFja2Ryb3AuY3NzKCdvcGFjaXR5JywgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMub3V0ZXIuZmluZCgnLmxnLWl0ZW0nKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgICAgICBpZiAodHJpZ2dlckNsaWNrICYmXHJcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhlbmRDb29yZHMucGFnZVggLSBzdGFydENvb3Jkcy5wYWdlWCkgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGNsaWNrIGlmIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiA1IHBpeFxyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICRMRyhldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzUG9zdGVyRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnBvc3RlckNsaWNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zd2lwZURpcmVjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyByZW1vdmUgc2xpZGUgY2xhc3Mgb25jZSBkcmFnL3N3aXBlIGlzIGNvbXBsZXRlZCBpZiBtb2RlIGlzIG5vdCBzbGlkZVxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLm91dGVyLmhhc0NsYXNzKCdsZy1kcmFnZ2luZycpICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tb2RlICE9PSAnbGctc2xpZGUnKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctc2xpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muc3BlZWQgKyAxMDApO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZW5hYmxlU3dpcGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgc3RhcnRDb29yZHMgPSB7fTtcclxuICAgICAgICB2YXIgZW5kQ29vcmRzID0ge307XHJcbiAgICAgICAgdmFyIGlzTW92ZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNTd2lwaW5nID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlU3dpcGUpIHtcclxuICAgICAgICAgICAgdGhpcy4kaW5uZXIub24oJ3RvdWNoc3RhcnQubGcnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhZ09yU3dpcGVFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9IF90aGlzLmdldFNsaWRlSXRlbShfdGhpcy5pbmRleCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKCRMRyhlLnRhcmdldCkuaGFzQ2xhc3MoJ2xnLWl0ZW0nKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICRpdGVtLmdldCgpLmNvbnRhaW5zKGUudGFyZ2V0KSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAhX3RoaXMub3V0ZXIuaGFzQ2xhc3MoJ2xnLXpvb21lZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIV90aGlzLmxnQnVzeSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGUudG91Y2hlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoQWN0aW9uID0gJ3N3aXBlJztcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tYW5hZ2VTd2lwZUNsYXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb29yZHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiBlLnRvdWNoZXNbMF0ucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZOiBlLnRvdWNoZXNbMF0ucGFnZVksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGlubmVyLm9uKCd0b3VjaG1vdmUubGcnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU3dpcGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoQWN0aW9uID09PSAnc3dpcGUnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZENvb3JkcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVg6IGUudG91Y2hlc1swXS5wYWdlWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVk6IGUudG91Y2hlc1swXS5wYWdlWSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoTW92ZShzdGFydENvb3JkcywgZW5kQ29vcmRzLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICBpc01vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGlubmVyLm9uKCd0b3VjaGVuZC5sZycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnRvdWNoQWN0aW9uID09PSAnc3dpcGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaEVuZChlbmRDb29yZHMsIHN0YXJ0Q29vcmRzLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzU3dpcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJExHKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1Bvc3RlckVsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnBvc3RlckNsaWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaEFjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZW5hYmxlRHJhZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IHt9O1xyXG4gICAgICAgIHZhciBlbmRDb29yZHMgPSB7fTtcclxuICAgICAgICB2YXIgaXNEcmFnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzTW92ZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVEcmFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIub24oJ21vdXNlZG93bi5sZycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmFnT3JTd2lwZUVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyICRpdGVtID0gX3RoaXMuZ2V0U2xpZGVJdGVtKF90aGlzLmluZGV4KTtcclxuICAgICAgICAgICAgICAgIGlmICgkTEcoZS50YXJnZXQpLmhhc0NsYXNzKCdsZy1pdGVtJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAkaXRlbS5nZXQoKS5jb250YWlucyhlLnRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLm91dGVyLmhhc0NsYXNzKCdsZy16b29tZWQnKSAmJiAhX3RoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5sZ0J1c3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hbmFnZVN3aXBlQ2xhc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29vcmRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiBlLnBhZ2VYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZOiBlLnBhZ2VZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqKiBGaXggZm9yIHdlYmtpdCBjdXJzb3IgaXNzdWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI2NzIzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5nZXQoKS5zY3JvbGxMZWZ0ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5nZXQoKS5zY3JvbGxMZWZ0IC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnbGctZ3JhYicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdsZy1ncmFiYmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmRyYWdTdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkTEcod2luZG93KS5vbihcIm1vdXNlbW92ZS5sZy5nbG9iYWxcIiArIHRoaXMubGdJZCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0RyYWdpbmcgJiYgX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc01vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBlbmRDb29yZHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VYOiBlLnBhZ2VYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlWTogZS5wYWdlWSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoTW92ZShzdGFydENvb3JkcywgZW5kQ29vcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuZHJhZ01vdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykub24oXCJtb3VzZXVwLmxnLmdsb2JhbFwiICsgdGhpcy5sZ0lkLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJExHKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzTW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaEVuZChlbmRDb29yZHMsIHN0YXJ0Q29vcmRzLCBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmRyYWdFbmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuaXNQb3N0ZXJFbGVtZW50KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMucG9zdGVyQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBleGVjdXRpb24gb24gY2xpY2tcclxuICAgICAgICAgICAgICAgIGlmIChpc0RyYWdpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0RyYWdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctZ3JhYmJpbmcnKS5hZGRDbGFzcygnbGctZ3JhYicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS50cmlnZ2VyUG9zdGVyQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLiRpbm5lci5vbignY2xpY2subGcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5kcmFnT3JTd2lwZUVuYWJsZWQgJiZcclxuICAgICAgICAgICAgICAgIF90aGlzLmlzUG9zdGVyRWxlbWVudCgkTEcoZXZlbnQudGFyZ2V0KSkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5wb3N0ZXJDbGljayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1hbmFnZVN3aXBlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90b3VjaE5leHQgPSB0aGlzLmluZGV4ICsgMTtcclxuICAgICAgICB2YXIgX3RvdWNoUHJldiA9IHRoaXMuaW5kZXggLSAxO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvb3AgJiYgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgX3RvdWNoUHJldiA9IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgX3RvdWNoTmV4dCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vdXRlci5maW5kKCcubGctaXRlbScpLnJlbW92ZUNsYXNzKCdsZy1uZXh0LXNsaWRlIGxnLXByZXYtc2xpZGUnKTtcclxuICAgICAgICBpZiAoX3RvdWNoUHJldiA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKF90b3VjaFByZXYpLmFkZENsYXNzKCdsZy1wcmV2LXNsaWRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0U2xpZGVJdGVtKF90b3VjaE5leHQpLmFkZENsYXNzKCdsZy1uZXh0LXNsaWRlJyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHbyB0byBuZXh0IHNsaWRlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZyb21Ub3VjaCAtIHRydWUgaWYgc2xpZGUgZnVuY3Rpb24gY2FsbGVkIHZpYSB0b3VjaCBldmVudFxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoKTtcclxuICAgICAqICBwbHVnaW4uZ29Ub05leHRTbGlkZSgpO1xyXG4gICAgICogQHNlZSA8YSBocmVmPVwiL2RlbW9zL21ldGhvZHMvXCI+RGVtbzwvYT5cclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nb1RvTmV4dFNsaWRlID0gZnVuY3Rpb24gKGZyb21Ub3VjaCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9sb29wID0gdGhpcy5zZXR0aW5ncy5sb29wO1xyXG4gICAgICAgIGlmIChmcm9tVG91Y2ggJiYgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICBfbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ICsgMSA8IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlTmV4dFNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGUodGhpcy5pbmRleCwgISFmcm9tVG91Y2gsIGZhbHNlLCAnbmV4dCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9sb29wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlTmV4dFNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGUodGhpcy5pbmRleCwgISFmcm9tVG91Y2gsIGZhbHNlLCAnbmV4dCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5zbGlkZUVuZEFuaW1hdGlvbiAmJiAhZnJvbVRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRlci5hZGRDbGFzcygnbGctcmlnaHQtZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1yaWdodC1lbmQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA0MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR28gdG8gcHJldmlvdXMgc2xpZGVzXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZyb21Ub3VjaCAtIHRydWUgaWYgc2xpZGUgZnVuY3Rpb24gY2FsbGVkIHZpYSB0b3VjaCBldmVudFxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoe30pO1xyXG4gICAgICogIHBsdWdpbi5nb1RvUHJldlNsaWRlKCk7XHJcbiAgICAgKiBAc2VlIDxhIGhyZWY9XCIvZGVtb3MvbWV0aG9kcy9cIj5EZW1vPC9hPlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5nb1RvUHJldlNsaWRlID0gZnVuY3Rpb24gKGZyb21Ub3VjaCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIF9sb29wID0gdGhpcy5zZXR0aW5ncy5sb29wO1xyXG4gICAgICAgIGlmIChmcm9tVG91Y2ggJiYgdGhpcy5nYWxsZXJ5SXRlbXMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICBfbG9vcCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMubGdCdXN5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlUHJldlNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRvdWNoOiBmcm9tVG91Y2gsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGUodGhpcy5pbmRleCwgISFmcm9tVG91Y2gsIGZhbHNlLCAncHJldicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9sb29wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5MR2VsLnRyaWdnZXIobEdFdmVudHMuYmVmb3JlUHJldlNsaWRlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tVG91Y2g6IGZyb21Ub3VjaCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlKHRoaXMuaW5kZXgsICEhZnJvbVRvdWNoLCBmYWxzZSwgJ3ByZXYnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3Muc2xpZGVFbmRBbmltYXRpb24gJiYgIWZyb21Ub3VjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWxlZnQtZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy1sZWZ0LWVuZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5rZXlQcmVzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICRMRyh3aW5kb3cpLm9uKFwia2V5ZG93bi5sZy5nbG9iYWxcIiArIHRoaXMubGdJZCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmxnT3BlbmVkICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5lc2NLZXkgPT09IHRydWUgJiZcclxuICAgICAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gMjcpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5hbGxvd01lZGlhT3ZlcmxhcCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLmhhc0NsYXNzKCdsZy1jYW4tdG9nZ2xlJykgJiZcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5oYXNDbGFzcygnbGctY29tcG9uZW50cy1vcGVuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctY29tcG9uZW50cy1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMubGdPcGVuZWQgJiYgX3RoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdvVG9QcmV2U2xpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdvVG9OZXh0U2xpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1wcmV2Jykub24oJ2NsaWNrLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5nb1RvUHJldlNsaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctbmV4dCcpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuZ29Ub05leHRTbGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuYXJyb3dEaXNhYmxlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgLy8gRGlzYWJsZSBhcnJvd3MgaWYgc2V0dGluZ3MuaGlkZUNvbnRyb2xPbkVuZCBpcyB0cnVlXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmxvb3AgJiYgdGhpcy5zZXR0aW5ncy5oaWRlQ29udHJvbE9uRW5kKSB7XHJcbiAgICAgICAgICAgIHZhciAkcHJldiA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLXByZXYnKTtcclxuICAgICAgICAgICAgdmFyICRuZXh0ID0gdGhpcy5nZXRFbGVtZW50QnlJZCgnbGctbmV4dCcpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSB0aGlzLmdhbGxlcnlJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRuZXh0LmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkbmV4dC5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJHByZXYuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRwcmV2LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5zZXRUcmFuc2xhdGUgPSBmdW5jdGlvbiAoJGVsLCB4VmFsdWUsIHlWYWx1ZSwgc2NhbGVYLCBzY2FsZVkpIHtcclxuICAgICAgICBpZiAoc2NhbGVYID09PSB2b2lkIDApIHsgc2NhbGVYID0gMTsgfVxyXG4gICAgICAgIGlmIChzY2FsZVkgPT09IHZvaWQgMCkgeyBzY2FsZVkgPSAxOyB9XHJcbiAgICAgICAgJGVsLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgK1xyXG4gICAgICAgICAgICB4VmFsdWUgK1xyXG4gICAgICAgICAgICAncHgsICcgK1xyXG4gICAgICAgICAgICB5VmFsdWUgK1xyXG4gICAgICAgICAgICAncHgsIDBweCkgc2NhbGUzZCgnICtcclxuICAgICAgICAgICAgc2NhbGVYICtcclxuICAgICAgICAgICAgJywgJyArXHJcbiAgICAgICAgICAgIHNjYWxlWSArXHJcbiAgICAgICAgICAgICcsIDEpJyk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5tb3VzZXdoZWVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGxhc3RDYWxsID0gMDtcclxuICAgICAgICB0aGlzLm91dGVyLm9uKCd3aGVlbC5sZycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZS5kZWx0YVkgfHwgX3RoaXMuZ2FsbGVyeUl0ZW1zLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgaWYgKG5vdyAtIGxhc3RDYWxsIDwgMTAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhc3RDYWxsID0gbm93O1xyXG4gICAgICAgICAgICBpZiAoZS5kZWx0YVkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nb1RvTmV4dFNsaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZS5kZWx0YVkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nb1RvUHJldlNsaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmlzU2xpZGVFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiAodGFyZ2V0Lmhhc0NsYXNzKCdsZy1vdXRlcicpIHx8XHJcbiAgICAgICAgICAgIHRhcmdldC5oYXNDbGFzcygnbGctaXRlbScpIHx8XHJcbiAgICAgICAgICAgIHRhcmdldC5oYXNDbGFzcygnbGctaW1nLXdyYXAnKSk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pc1Bvc3RlckVsZW1lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIHBsYXlCdXR0b24gPSB0aGlzLmdldFNsaWRlSXRlbSh0aGlzLmluZGV4KVxyXG4gICAgICAgICAgICAuZmluZCgnLmxnLXZpZGVvLXBsYXktYnV0dG9uJylcclxuICAgICAgICAgICAgLmdldCgpO1xyXG4gICAgICAgIHJldHVybiAodGFyZ2V0Lmhhc0NsYXNzKCdsZy12aWRlby1wb3N0ZXInKSB8fFxyXG4gICAgICAgICAgICB0YXJnZXQuaGFzQ2xhc3MoJ2xnLXZpZGVvLXBsYXktYnV0dG9uJykgfHxcclxuICAgICAgICAgICAgKHBsYXlCdXR0b24gJiYgcGxheUJ1dHRvbi5jb250YWlucyh0YXJnZXQuZ2V0KCkpKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXhpbWl6ZSBtaW5pbWl6ZSBpbmxpbmUgZ2FsbGVyeS5cclxuICAgICAqIEBjYXRlZ29yeSBsR1B1YmxpY01ldGhvZHNcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS50b2dnbGVNYXhpbWl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudEJ5SWQoJ2xnLW1heGltaXplJykub24oJ2NsaWNrLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLnRvZ2dsZUNsYXNzKCdsZy1pbmxpbmUnKTtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaE9uUmVzaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlSXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5pdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICRMRyhlbGVtZW50KTtcclxuICAgICAgICAgICAgJGVsZW1lbnQub2ZmKFwiY2xpY2subGdjdXN0b20taXRlbS1cIiArICRlbGVtZW50LmF0dHIoJ2RhdGEtbGctaWQnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUudHJhcEZvY3VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmdldCgpLmZvY3VzKHtcclxuICAgICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAkTEcod2luZG93KS5vbihcImtleWRvd24ubGcuZ2xvYmFsXCIgKyB0aGlzLmxnSWQsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaXNUYWJQcmVzc2VkID0gZS5rZXkgPT09ICdUYWInIHx8IGUua2V5Q29kZSA9PT0gOTtcclxuICAgICAgICAgICAgaWYgKCFpc1RhYlByZXNzZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZm9jdXNhYmxlRWxzID0gdXRpbHMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoX3RoaXMuJGNvbnRhaW5lci5nZXQoKSk7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdEZvY3VzYWJsZUVsID0gZm9jdXNhYmxlRWxzWzBdO1xyXG4gICAgICAgICAgICB2YXIgbGFzdEZvY3VzYWJsZUVsID0gZm9jdXNhYmxlRWxzW2ZvY3VzYWJsZUVscy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEZvY3VzYWJsZUVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZvY3VzYWJsZUVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RGb2N1c2FibGVFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Rm9jdXNhYmxlRWwuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLm1hbmFnZUNsb3NlR2FsbGVyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5jbG9zYWJsZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBtb3VzZWRvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUlkKCdsZy1jbG9zZScpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY2xvc2VHYWxsZXJ5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2xvc2VPblRhcCkge1xyXG4gICAgICAgICAgICAvLyBJZiB5b3UgZHJhZyB0aGUgc2xpZGUgYW5kIHJlbGVhc2Ugb3V0c2lkZSBnYWxsZXJ5IGdldHMgY2xvc2Ugb24gY2hyb21lXHJcbiAgICAgICAgICAgIC8vIGZvciBwcmV2ZW50aW5nIHRoaXMgY2hlY2sgbW91c2Vkb3duIGFuZCBtb3VzZXVwIGhhcHBlbmVkIG9uIC5sZy1pdGVtIG9yIGxnLW91dGVyXHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIub24oJ21vdXNlZG93bi5sZycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJExHKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1NsaWRlRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5vbignbW91c2Vtb3ZlLmxnJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm91dGVyLm9uKCdtb3VzZXVwLmxnJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkTEcoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzU2xpZGVFbGVtZW50KHRhcmdldCkgJiYgbW91c2Vkb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5vdXRlci5oYXNDbGFzcygnbGctZHJhZ2dpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsb3NlIGxpZ2h0R2FsbGVyeSBpZiBpdCBpcyBvcGVuZWQuXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIElmIGNsb3NhYmxlIGlzIGZhbHNlIGluIHRoZSBzZXR0aW5ncywgeW91IG5lZWQgdG8gcGFzcyB0cnVlIHZpYSBjbG9zZUdhbGxlcnkgbWV0aG9kIHRvIGZvcmNlIGNsb3NlIGdhbGxlcnlcclxuICAgICAqIEByZXR1cm4gcmV0dXJucyB0aGUgZXN0aW1hdGVkIHRpbWUgdG8gY2xvc2UgZ2FsbGVyeSBjb21wbGV0ZWx5IGluY2x1ZGluZyB0aGUgY2xvc2UgYW5pbWF0aW9uIGR1cmF0aW9uXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogIGNvbnN0IHBsdWdpbiA9IGxpZ2h0R2FsbGVyeSgpO1xyXG4gICAgICogIHBsdWdpbi5jbG9zZUdhbGxlcnkoKTtcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuY2xvc2VHYWxsZXJ5ID0gZnVuY3Rpb24gKGZvcmNlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMubGdPcGVuZWQgfHwgKCF0aGlzLnNldHRpbmdzLmNsb3NhYmxlICYmICFmb3JjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLmJlZm9yZUNsb3NlKTtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNldFNjcm9sbFBvc2l0aW9uICYmICF0aGlzLnNldHRpbmdzLmhpZGVTY3JvbGxiYXIpIHtcclxuICAgICAgICAgICAgJExHKHdpbmRvdykuc2Nyb2xsVG9wKHRoaXMucHJldlNjcm9sbFRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXJyZW50SXRlbSA9IHRoaXMuaXRlbXNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcclxuICAgICAgICBpZiAodGhpcy56b29tRnJvbU9yaWdpbiAmJiBjdXJyZW50SXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLm1lZGlhQ29udGFpbmVyUG9zaXRpb24sIHRvcF80ID0gX2EudG9wLCBib3R0b20gPSBfYS5ib3R0b207XHJcbiAgICAgICAgICAgIHZhciBfYiA9IHRoaXMuZ2FsbGVyeUl0ZW1zW3RoaXMuaW5kZXhdLCBfX3NsaWRlVmlkZW9JbmZvID0gX2IuX19zbGlkZVZpZGVvSW5mbywgcG9zdGVyID0gX2IucG9zdGVyO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VTaXplID0gdXRpbHMuZ2V0U2l6ZShjdXJyZW50SXRlbSwgdGhpcy5vdXRlciwgdG9wXzQgKyBib3R0b20sIF9fc2xpZGVWaWRlb0luZm8gJiYgcG9zdGVyICYmIHRoaXMuc2V0dGluZ3MudmlkZW9NYXhTaXplKTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtID0gdXRpbHMuZ2V0VHJhbnNmb3JtKGN1cnJlbnRJdGVtLCB0aGlzLm91dGVyLCB0b3BfNCwgYm90dG9tLCBpbWFnZVNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy56b29tRnJvbU9yaWdpbiAmJiB0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgdGhpcy5vdXRlci5hZGRDbGFzcygnbGctY2xvc2luZyBsZy16b29tLWZyb20taW1hZ2UnKTtcclxuICAgICAgICAgICAgdGhpcy5nZXRTbGlkZUl0ZW0odGhpcy5pbmRleClcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnbGctc3RhcnQtZW5kLXByb2dyZXNzJylcclxuICAgICAgICAgICAgICAgIC5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCB0aGlzLnNldHRpbmdzLnN0YXJ0QW5pbWF0aW9uRHVyYXRpb24gKyAnbXMnKVxyXG4gICAgICAgICAgICAgICAgLmNzcygndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0ZXIuYWRkQ2xhc3MoJ2xnLWhpZGUtaXRlbXMnKTtcclxuICAgICAgICAgICAgLy8gbGctem9vbS1mcm9tLWltYWdlIGlzIHVzZWQgZm9yIHNldHRpbmcgdGhlIG9wYWNpdHkgdG8gMSBpZiB6b29tRnJvbU9yaWdpbiBpcyB0cnVlXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBjbG9zaW5nIGl0ZW0gZG9lc24ndCBoYXZlIHRoZSBsZy1zaXplIGF0dHJpYnV0ZSwgcmVtb3ZlIHRoaXMgY2xhc3MgdG8gYXZvaWQgdGhlIGNsb3NpbmcgY3NzIGNvbmZsaWN0c1xyXG4gICAgICAgICAgICB0aGlzLm91dGVyLnJlbW92ZUNsYXNzKCdsZy16b29tLWZyb20taW1hZ2UnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVW5iaW5kIGFsbCBldmVudHMgYWRkZWQgYnkgbGlnaHRHYWxsZXJ5XHJcbiAgICAgICAgLy8gQHRvZG9cclxuICAgICAgICAvL3RoaXMuJGVsLm9mZignLmxnLnRtJyk7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95TW9kdWxlcygpO1xyXG4gICAgICAgIHRoaXMubEdhbGxlcnlPbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNEdW1teUltYWdlUmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuem9vbUZyb21PcmlnaW4gPSB0aGlzLnNldHRpbmdzLnpvb21Gcm9tT3JpZ2luO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVCYXJUaW1lb3V0KTtcclxuICAgICAgICB0aGlzLmhpZGVCYXJUaW1lb3V0ID0gZmFsc2U7XHJcbiAgICAgICAgJExHKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2xnLW9uJyk7XHJcbiAgICAgICAgdGhpcy5vdXRlci5yZW1vdmVDbGFzcygnbGctdmlzaWJsZSBsZy1jb21wb25lbnRzLW9wZW4nKTtcclxuICAgICAgICAvLyBSZXNldHRpbmcgb3BhY2l0eSB0byAwIGlzZCByZXF1aXJlZCBhcyAgdmVydGljYWwgc3dpcGUgdG8gY2xvc2UgZnVuY3Rpb24gYWRkcyBpbmxpbmUgb3BhY2l0eS5cclxuICAgICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKS5jc3MoJ29wYWNpdHknLCAwKTtcclxuICAgICAgICB2YXIgcmVtb3ZlVGltZW91dCA9IHRoaXMuem9vbUZyb21PcmlnaW4gJiYgdHJhbnNmb3JtXHJcbiAgICAgICAgICAgID8gTWF0aC5tYXgodGhpcy5zZXR0aW5ncy5zdGFydEFuaW1hdGlvbkR1cmF0aW9uLCB0aGlzLnNldHRpbmdzLmJhY2tkcm9wRHVyYXRpb24pXHJcbiAgICAgICAgICAgIDogdGhpcy5zZXR0aW5ncy5iYWNrZHJvcER1cmF0aW9uO1xyXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5yZW1vdmVDbGFzcygnbGctc2hvdy1pbicpO1xyXG4gICAgICAgIC8vIE9uY2UgdGhlIGNsb3NpZ24gYW5pbWF0aW9uIGlzIGNvbXBsZXRlZCBhbmQgZ2FsbGVyeSBpcyBpbnZpc2libGVcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnpvb21Gcm9tT3JpZ2luICYmIHRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLXpvb20tZnJvbS1pbWFnZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoJ2xnLXNob3cnKTtcclxuICAgICAgICAgICAgLy8gUmVzZXQgc2Nyb2xsYmFyXHJcbiAgICAgICAgICAgIF90aGlzLnJlc2V0U2Nyb2xsQmFyKCk7XHJcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gcmVtb3ZlIGlubGluZSBvcGFjaXR5IGFzIGl0IGlzIHVzZWQgaW4gdGhlIHN0eWxlc2hlZXQgYXMgd2VsbFxyXG4gICAgICAgICAgICBfdGhpcy4kYmFja2Ryb3BcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzdHlsZScpXHJcbiAgICAgICAgICAgICAgICAuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJywgX3RoaXMuc2V0dGluZ3MuYmFja2Ryb3BEdXJhdGlvbiArICdtcycpO1xyXG4gICAgICAgICAgICBfdGhpcy5vdXRlci5yZW1vdmVDbGFzcyhcImxnLWNsb3NpbmcgXCIgKyBfdGhpcy5zZXR0aW5ncy5zdGFydENsYXNzKTtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0U2xpZGVJdGVtKF90aGlzLmluZGV4KS5yZW1vdmVDbGFzcygnbGctc3RhcnQtZW5kLXByb2dyZXNzJyk7XHJcbiAgICAgICAgICAgIF90aGlzLiRpbm5lci5lbXB0eSgpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMubGdPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLkxHZWwudHJpZ2dlcihsR0V2ZW50cy5hZnRlckNsb3NlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IF90aGlzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLiRjb250YWluZXIuZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIuZ2V0KCkuYmx1cigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmxnT3BlbmVkID0gZmFsc2U7XHJcbiAgICAgICAgfSwgcmVtb3ZlVGltZW91dCArIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIHJlbW92ZVRpbWVvdXQgKyAxMDA7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5pbml0TW9kdWxlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUuaW5pdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImxpZ2h0R2FsbGVyeTotIG1ha2Ugc3VyZSBsaWdodEdhbGxlcnkgbW9kdWxlIGlzIHByb3Blcmx5IGluaXRpYXRlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIExpZ2h0R2FsbGVyeS5wcm90b3R5cGUuZGVzdHJveU1vZHVsZXMgPSBmdW5jdGlvbiAoZGVzdHJveSkge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXN0cm95KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS5jbG9zZUdhbGxlcnkgJiYgbW9kdWxlLmNsb3NlR2FsbGVyeSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImxpZ2h0R2FsbGVyeTotIG1ha2Ugc3VyZSBsaWdodEdhbGxlcnkgbW9kdWxlIGlzIHByb3Blcmx5IGRlc3Ryb3llZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVmcmVzaCBsaWdodEdhbGxlcnkgd2l0aCBuZXcgc2V0IG9mIGNoaWxkcmVuLlxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzIGlzIHVzZWZ1bCB0byB1cGRhdGUgdGhlIGdhbGxlcnkgd2hlbiB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGNoYW5nZWQgd2l0aG91dCBjYWxsaW5nIGRlc3Ryb3kgbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSBhcmUgdXNpbmcgZHluYW1pYyBtb2RlLCB5b3UgY2FuIHBhc3MgdGhlIG1vZGlmaWVkIGFycmF5IG9mIGR5bmFtaWNFbCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHJlZnJlc2ggdGhlIGR5bmFtaWMgZ2FsbGVyeVxyXG4gICAgICogQHNlZSA8YSBocmVmPVwiL2RlbW9zL2R5bmFtaWMtbW9kZS9cIj5EZW1vPC9hPlxyXG4gICAgICogQGNhdGVnb3J5IGxHUHVibGljTWV0aG9kc1xyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICBjb25zdCBwbHVnaW4gPSBsaWdodEdhbGxlcnkoKTtcclxuICAgICAqICAvLyBEZWxldGUgb3IgYWRkIGNoaWxkcmVuLCB0aGVuIGNhbGxcclxuICAgICAqICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKGdhbGxlcnlJdGVtcykge1xyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5keW5hbWljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZUl0ZW1zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChnYWxsZXJ5SXRlbXMpIHtcclxuICAgICAgICAgICAgdGhpcy5nYWxsZXJ5SXRlbXMgPSBnYWxsZXJ5SXRlbXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdhbGxlcnlJdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb250cm9scygpO1xyXG4gICAgICAgIHRoaXMub3BlbkdhbGxlcnlPbkl0ZW1DbGljaygpO1xyXG4gICAgICAgIHRoaXMuTEdlbC50cmlnZ2VyKGxHRXZlbnRzLnVwZGF0ZVNsaWRlcyk7XHJcbiAgICB9O1xyXG4gICAgTGlnaHRHYWxsZXJ5LnByb3RvdHlwZS51cGRhdGVDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmFkZFNsaWRlVmlkZW9JbmZvKHRoaXMuZ2FsbGVyeUl0ZW1zKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNvdW50ZXJUb3RhbCgpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlU2luZ2xlU2xpZGVDbGFzc05hbWUoKTtcclxuICAgIH07XHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmRlc3Ryb3lHYWxsZXJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveU1vZHVsZXModHJ1ZSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmR5bmFtaWMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlSXRlbXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJExHKHdpbmRvdykub2ZmKFwiLmxnLmdsb2JhbFwiICsgdGhpcy5sZ0lkKTtcclxuICAgICAgICB0aGlzLkxHZWwub2ZmKCcubGcnKTtcclxuICAgICAgICB0aGlzLiRjb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGxpZ2h0R2FsbGVyeS5cclxuICAgICAqIERlc3Ryb3kgbGlnaHRHYWxsZXJ5IGFuZCBpdHMgcGx1Z2luIGluc3RhbmNlcyBjb21wbGV0ZWx5XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgbWV0aG9kIGFsc28gY2FsbHMgQ2xvc2VHYWxsZXJ5IGZ1bmN0aW9uIGludGVybmFsbHkuIFJldHVybnMgdGhlIHRpbWUgdGFrZXMgdG8gY29tcGxldGVseSBjbG9zZSBhbmQgZGVzdHJveSB0aGUgaW5zdGFuY2UuXHJcbiAgICAgKiBJbiBjYXNlIGlmIHlvdSB3YW50IHRvIHJlLWluaXRpYWxpemUgbGlnaHRHYWxsZXJ5IHJpZ2h0IGFmdGVyIGRlc3Ryb3lpbmcgaXQsIGluaXRpYWxpemUgaXQgb25seSBvbmNlIHRoZSBkZXN0cm95IHByb2Nlc3MgaXMgY29tcGxldGVkLlxyXG4gICAgICogWW91IGNhbiB1c2UgcmVmcmVzaCBtZXRob2QgbW9zdCBvZiB0aGUgdGltZXMuXHJcbiAgICAgKiBAY2F0ZWdvcnkgbEdQdWJsaWNNZXRob2RzXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogIGNvbnN0IHBsdWdpbiA9IGxpZ2h0R2FsbGVyeSgpO1xyXG4gICAgICogIHBsdWdpbi5kZXN0cm95KCk7XHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBMaWdodEdhbGxlcnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNsb3NlVGltZW91dCA9IHRoaXMuY2xvc2VHYWxsZXJ5KHRydWUpO1xyXG4gICAgICAgIGlmIChjbG9zZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlc3Ryb3lHYWxsZXJ5LmJpbmQodGhpcyksIGNsb3NlVGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lHYWxsZXJ5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9zZVRpbWVvdXQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIExpZ2h0R2FsbGVyeTtcclxufSgpKTtcblxuZnVuY3Rpb24gbGlnaHRHYWxsZXJ5KGVsLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IExpZ2h0R2FsbGVyeShlbCwgb3B0aW9ucyk7XHJcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGlnaHRHYWxsZXJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlnaHRnYWxsZXJ5LmVzNS5qcy5tYXBcbiIsImltcG9ydCBsaWdodEdhbGxlcnkgZnJvbSBcImxpZ2h0Z2FsbGVyeVwiO1xuaW1wb3J0IFwiQHNjc3MvbGliL2xpZ2h0Z2FsbGVyeS9saWdodGdhbGxlcnkuc2Nzc1wiO1xuXG5jb25zdCBpbml0TGlnaHRHYWxsZXJ5ID0gKCkgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWxpZ2h0Z2FsbGVyeV1cIikubGVuZ3RoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWxpZ2h0Z2FsbGVyeV1cIikuZm9yRWFjaCgoZ2FsbGVyeSkgPT4ge1xuICAgICAgY29uc3QgdGV4dCA9IGdhbGxlcnkucXVlcnlTZWxlY3RvcihcIi5tZWRpYV9fdGV4dFwiKTtcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZ2FsbGVyeS5xdWVyeVNlbGVjdG9yKFwiLm1lZGlhX19kZXNjcmlwdGlvblwiKTtcblxuICAgICAgY29uc3QgbGcgPSBsaWdodEdhbGxlcnkoZ2FsbGVyeSwge1xuICAgICAgICBzcGVlZDogNTAwLFxuICAgICAgICBsaWNlbnNlS2V5OiBcIjdFQzQ1MkE5LTBDRkQ0NDFDLUJEOTg0QzdDLTE3Qzg0NTZFXCIsXG4gICAgICAgIGFwcGVuZENvdW50ZXJUbzogXCIubGctY29udGVudFwiLFxuICAgICAgICBzZWxlY3RvcjogXCIubWVkaWFfX2ltYWdlLXdyYXBcIixcbiAgICAgIH0pO1xuICAgICAgZ2FsbGVyeS5hZGRFdmVudExpc3RlbmVyKFwibGdCZWZvcmVPcGVuXCIsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGxnLiRjb250YWluZXIuZmlyc3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGctb3V0ZXJcIik7XG5cbiAgICAgICAgdGV4dCAmJiBjb250YWluZXIuYXBwZW5kKHRleHQpO1xuICAgICAgICBkZXNjcmlwdGlvbiAmJiBjb250YWluZXIuYXBwZW5kKGRlc2NyaXB0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59O1xuaW5pdExpZ2h0R2FsbGVyeSgpO1xuIiwiLyoqXG4gKiBzZXQgaGFzaCB0byB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRIYXNoID0gKGhhc2gpID0+IHtcbiAgaGFzaCA9IGhhc2ggPyBgIyR7aGFzaH1gIDogd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCIjXCIpWzBdO1xuICBoaXN0b3J5LnB1c2hTdGF0ZShcIlwiLCBcIlwiLCBoYXNoKTtcbn07XG5cbi8qKlxuICogZ2V0IGhhc2ggZnJvbSB1cmxcbiAqIEByZXR1cm5zIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgZ2V0SGFzaCA9ICgpID0+IHtcbiAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcbiAgICByZXR1cm4gbG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcbiAgfVxufTtcblxuLy8gYm9keSBsb2NrXG5leHBvcnQgbGV0IGJvZHlMb2NrU3RhdHVzID0gdHJ1ZTtcbi8qKlxuICogdG9nZ2xlcyBib2R5IGxvY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICovXG5leHBvcnQgY29uc3QgYm9keUxvY2tUb2dnbGUgPSAoZGVsYXkgPSA1MDApID0+IHtcbiAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJsb2NrXCIpKSB7XG4gICAgYm9keVVubG9jayhkZWxheSk7XG4gIH0gZWxzZSB7XG4gICAgYm9keUxvY2soZGVsYXkpO1xuICB9XG59O1xuLyoqXG4gKiB1bmxvY2tzIGJvZHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICovXG5leHBvcnQgY29uc3QgYm9keVVubG9jayA9IChkZWxheSA9IDUwMCkgPT4ge1xuICBpZiAoYm9keUxvY2tTdGF0dXMpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibG9ja1wiKTtcbiAgICB9LCBkZWxheSk7XG4gICAgYm9keUxvY2tTdGF0dXMgPSBmYWxzZTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGJvZHlMb2NrU3RhdHVzID0gdHJ1ZTtcbiAgICB9LCBkZWxheSk7XG4gIH1cbn07XG4vKipcbiAqIGxvY2tzIGJvZHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICovXG5leHBvcnQgY29uc3QgYm9keUxvY2sgPSAoZGVsYXkgPSA1MDApID0+IHtcbiAgaWYgKGJvZHlMb2NrU3RhdHVzKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJsb2NrXCIpO1xuXG4gICAgYm9keUxvY2tTdGF0dXMgPSBmYWxzZTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGJvZHlMb2NrU3RhdHVzID0gdHJ1ZTtcbiAgICB9LCBkZWxheSk7XG4gIH1cbn07XG5cbi8qKlxuICogbWFrZSB0aGUgYXJyYXkgdW5pcXVlXG4gKiBAcGFyYW0ge2FycmF5fSBhcnJheVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuaXF1ZUFycmF5KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBzZWxmKSB7XG4gICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gaW5kZXg7XG4gIH0pO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IGRhdGFTZXRWYWx1ZVxuICogcHJvY2VzcyBtZWRpYSByZXF1ZXN0cyBmcm9tIGF0dHJpYnV0ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGRhdGFNZWRpYVF1ZXJpZXMgPSAoYXJyYXksIGRhdGFTZXRWYWx1ZSkgPT4ge1xuICAvLyBnZXQgb2JqZWN0cyB3aXRoIG1lZGlhIHF1ZXJpZXNcbiAgY29uc3QgbWVkaWEgPSBBcnJheS5mcm9tKGFycmF5KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBzZWxmKSB7XG4gICAgaWYgKGl0ZW0uZGF0YXNldFtkYXRhU2V0VmFsdWVdKSB7XG4gICAgICByZXR1cm4gaXRlbS5kYXRhc2V0W2RhdGFTZXRWYWx1ZV0uc3BsaXQoXCIsXCIpWzBdO1xuICAgIH1cbiAgfSk7XG4gIC8vIG9iamVjdHMgd2l0aCBtZWRpYSBxdWVyaWVzIGluaXRpYWxpemF0aW9uXG4gIGlmIChtZWRpYS5sZW5ndGgpIHtcbiAgICBjb25zdCBicmVha3BvaW50c0FycmF5ID0gW107XG4gICAgbWVkaWEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gaXRlbS5kYXRhc2V0W2RhdGFTZXRWYWx1ZV07XG4gICAgICBjb25zdCBicmVha3BvaW50ID0ge307XG4gICAgICBjb25zdCBwYXJhbXNBcnJheSA9IHBhcmFtcy5zcGxpdChcIixcIik7XG4gICAgICBicmVha3BvaW50LnZhbHVlID0gcGFyYW1zQXJyYXlbMF07XG4gICAgICBicmVha3BvaW50LnR5cGUgPSBwYXJhbXNBcnJheVsxXSA/IHBhcmFtc0FycmF5WzFdLnRyaW0oKSA6IFwibWF4XCI7XG4gICAgICBicmVha3BvaW50Lml0ZW0gPSBpdGVtO1xuICAgICAgYnJlYWtwb2ludHNBcnJheS5wdXNoKGJyZWFrcG9pbnQpO1xuICAgIH0pO1xuICAgIC8vIGdldCB1bmlxdWUgYnJlYWtwb2ludHNcbiAgICBsZXQgbWRRdWVyaWVzID0gYnJlYWtwb2ludHNBcnJheS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwiKFwiICtcbiAgICAgICAgaXRlbS50eXBlICtcbiAgICAgICAgXCItd2lkdGg6IFwiICtcbiAgICAgICAgaXRlbS52YWx1ZSArXG4gICAgICAgIFwicHgpLFwiICtcbiAgICAgICAgaXRlbS52YWx1ZSArXG4gICAgICAgIFwiLFwiICtcbiAgICAgICAgaXRlbS50eXBlXG4gICAgICApO1xuICAgIH0pO1xuICAgIG1kUXVlcmllcyA9IHVuaXF1ZUFycmF5KG1kUXVlcmllcyk7XG4gICAgY29uc3QgbWRRdWVyaWVzQXJyYXkgPSBbXTtcblxuICAgIGlmIChtZFF1ZXJpZXMubGVuZ3RoKSB7XG4gICAgICAvLyB3b3JrIHdpdGggZXZlcnkgYnJlYWtwb2ludFxuICAgICAgbWRRdWVyaWVzLmZvckVhY2goKGJyZWFrcG9pbnQpID0+IHtcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXkgPSBicmVha3BvaW50LnNwbGl0KFwiLFwiKTtcbiAgICAgICAgY29uc3QgbWVkaWFCcmVha3BvaW50ID0gcGFyYW1zQXJyYXlbMV07XG4gICAgICAgIGNvbnN0IG1lZGlhVHlwZSA9IHBhcmFtc0FycmF5WzJdO1xuICAgICAgICBjb25zdCBtYXRjaE1lZGlhID0gd2luZG93Lm1hdGNoTWVkaWEocGFyYW1zQXJyYXlbMF0pO1xuICAgICAgICAvLyBvYmplY3RzIHdpdGggY29uZGl0aW9uc1xuICAgICAgICBjb25zdCBpdGVtc0FycmF5ID0gYnJlYWtwb2ludHNBcnJheS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gbWVkaWFCcmVha3BvaW50ICYmIGl0ZW0udHlwZSA9PT0gbWVkaWFUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZFF1ZXJpZXNBcnJheS5wdXNoKHtcbiAgICAgICAgICBpdGVtc0FycmF5LFxuICAgICAgICAgIG1hdGNoTWVkaWEsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWRRdWVyaWVzQXJyYXk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIHNtb290aGx5IHNsaWRlcyB1cFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvd21vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IF9zbGlkZVVwID0gKHRhcmdldCwgZHVyYXRpb24gPSA1MDAsIHNob3dtb3JlID0gMCkgPT4ge1xuICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJfc2xpZGVcIikpIHtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcIl9zbGlkZVwiKTtcbiAgICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJoZWlnaHQsIG1hcmdpbiwgcGFkZGluZ1wiO1xuICAgIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArIFwibXNcIjtcbiAgICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gYCR7dGFyZ2V0Lm9mZnNldEhlaWdodH1weGA7XG4gICAgdGFyZ2V0Lm9mZnNldEhlaWdodDtcbiAgICB0YXJnZXQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIHRhcmdldC5zdHlsZS5oZWlnaHQgPSBzaG93bW9yZSA/IGAke3Nob3dtb3JlfXJlbWAgOiBgMGA7XG4gICAgdGFyZ2V0LnN0eWxlLnBhZGRpbmdUb3AgPSAwO1xuICAgIHRhcmdldC5zdHlsZS5wYWRkaW5nQm90dG9tID0gMDtcbiAgICB0YXJnZXQuc3R5bGUubWFyZ2luVG9wID0gMDtcbiAgICB0YXJnZXQuc3R5bGUubWFyZ2luQm90dG9tID0gMDtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0YXJnZXQuaGlkZGVuID0gIXNob3dtb3JlID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgIXNob3dtb3JlID8gdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpIDogbnVsbDtcbiAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInBhZGRpbmctdG9wXCIpO1xuICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwicGFkZGluZy1ib3R0b21cIik7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJtYXJnaW4tdG9wXCIpO1xuICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibWFyZ2luLWJvdHRvbVwiKTtcbiAgICAgICFzaG93bW9yZSA/IHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcIm92ZXJmbG93XCIpIDogbnVsbDtcbiAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRyYW5zaXRpb24tZHVyYXRpb25cIik7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCIpO1xuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJfc2xpZGVcIik7XG4gICAgICAvLyBjcmVhdGUgZXZlbnRcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBDdXN0b21FdmVudChcInNsaWRlVXBEb25lXCIsIHtcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9LCBkdXJhdGlvbik7XG4gIH1cbn07XG5cbi8qKlxuICogc21vb3RobHkgc2xpZGVzIGRvd25cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dtb3JlXG4gKi9cbmV4cG9ydCBjb25zdCBfc2xpZGVEb3duID0gKHRhcmdldCwgZHVyYXRpb24gPSA1MDAsIHNob3dtb3JlID0gMCkgPT4ge1xuICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJfc2xpZGVcIikpIHtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcIl9zbGlkZVwiKTtcbiAgICB0YXJnZXQuaGlkZGVuID0gdGFyZ2V0LmhpZGRlbiA/IGZhbHNlIDogbnVsbDtcbiAgICBzaG93bW9yZSA/IHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKSA6IG51bGw7XG4gICAgbGV0IGhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQ7XG4gICAgdGFyZ2V0LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gc2hvd21vcmUgPyBgJHtzaG93bW9yZX1yZW1gIDogYDBgO1xuICAgIHRhcmdldC5zdHlsZS5wYWRkaW5nVG9wID0gMDtcbiAgICB0YXJnZXQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDA7XG4gICAgdGFyZ2V0LnN0eWxlLm1hcmdpblRvcCA9IDA7XG4gICAgdGFyZ2V0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDA7XG4gICAgdGFyZ2V0Lm9mZnNldEhlaWdodDtcbiAgICB0YXJnZXQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJoZWlnaHQsIG1hcmdpbiwgcGFkZGluZ1wiO1xuICAgIHRhcmdldC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBkdXJhdGlvbiArIFwibXNcIjtcbiAgICB0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInBhZGRpbmctdG9wXCIpO1xuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInBhZGRpbmctYm90dG9tXCIpO1xuICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcIm1hcmdpbi10b3BcIik7XG4gICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibWFyZ2luLWJvdHRvbVwiKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJoZWlnaHRcIik7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJvdmVyZmxvd1wiKTtcbiAgICAgIHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRyYW5zaXRpb24tZHVyYXRpb25cIik7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCIpO1xuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJfc2xpZGVcIik7XG4gICAgICAvLyBjcmVhdGUgZXZlbnRcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBDdXN0b21FdmVudChcInNsaWRlRG93bkRvbmVcIiwge1xuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0sIGR1cmF0aW9uKTtcbiAgfVxufTtcblxuLyoqXG4gKiB0b2dnbGVzIHNtb290aCBzbGlkZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cbiAqIEByZXR1cm5zIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBfc2xpZGVUb2dnbGUgPSAodGFyZ2V0LCBkdXJhdGlvbiA9IDUwMCkgPT4ge1xuICBpZiAodGFyZ2V0LmhpZGRlbikge1xuICAgIHJldHVybiBfc2xpZGVEb3duKHRhcmdldCwgZHVyYXRpb24pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfc2xpZGVVcCh0YXJnZXQsIGR1cmF0aW9uKTtcbiAgfVxufTtcblxuLyoqXG4gKiBjb252ZXJ0cyByZW0gdG8gcGl4ZWxzXG4gKiBAcGFyYW0ge251bWJlcn0gcmVtVmFsdWVcbiAqIEByZXR1cm5zIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtVG9QeChyZW1WYWx1ZSkge1xuICBjb25zdCBodG1sRm9udFNpemUgPSBwYXJzZUZsb2F0KFxuICAgIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5mb250U2l6ZSxcbiAgKTtcblxuICBjb25zdCBweFZhbHVlID0gcmVtVmFsdWUgKiBodG1sRm9udFNpemU7XG5cbiAgcmV0dXJuIE1hdGgucm91bmQocHhWYWx1ZSkgKyBcInB4XCI7XG59XG5cbi8vIHJlbW92ZSBjbGFzcyBmcm9tIGFsbCBhcnJheSBlbGVtZW50c1xuZXhwb3J0IGNvbnN0IHJlbW92ZUNsYXNzZXMgPSAoYXJyYXksIGNsYXNzTmFtZSkgPT4ge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgYXJyYXlbaV0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9XG59O1xuXG4vKipcbiAqIHNldCBjdXJyZW50IHllYXJcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEN1cnJlbnRZZWFyID0gKCkgPT4ge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50WWVhclwiKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudFllYXJcIikuaW5uZXJIVE1MID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgYm9keUxvY2ssIGJvZHlMb2NrVG9nZ2xlLCBib2R5VW5sb2NrIH0gZnJvbSBcIkBqcy91dGlscy91dGlsc1wiO1xuXG5jb25zdCB0bSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNjQuMDVlbSlcIik7XG5jb25zdCBtbSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNDhlbSlcIik7XG5jb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcblxuY29uc3QgY2xvc2VDYXJ0V2lkZ2V0ID0gKCkgPT4ge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIl9zaG93LWNhcnQtd2lkZ2V0XCIpO1xuICBib2R5VW5sb2NrKCk7XG59O1xuXG5jb25zdCBjbG9zZUhlYWRlck1lbnUgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiX3Nob3ctaGVhZGVyLW1lbnVcIik7XG4gIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwiX2RhcmstdGhlbWVcIik7XG4gIGJvZHlVbmxvY2soKTtcbn07XG5cbmNvbnN0IGluaXRIYW1idXJnZXJNZW51ID0gKCkgPT4ge1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcIl9zaG93LWhlYWRlci1tZW51XCIpO1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLl9zaG93LWhlYWRlci1tZW51XCIpKSB7XG4gICAgYm9keUxvY2soKTtcbiAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcIl9kYXJrLXRoZW1lXCIpO1xuICB9IGVsc2Uge1xuICAgIGNsb3NlSGVhZGVyTWVudSgpO1xuICB9XG59O1xuXG5jb25zdCBpbml0Q2FydFdpZGdldCA9ICgpID0+IHtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJfc2hvdy1oZWFkZXItbWVudVwiKTtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJfc2hvdy1jYXJ0LXdpZGdldFwiKTtcblxuICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5Ll9saWdodC10aGVtZVwiKSkge1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLl9zaG93LWNhcnQtd2lkZ2V0XCIpKSB7XG4gICAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcIl9kYXJrLXRoZW1lXCIpO1xuICAgICAgbW0ubWF0Y2hlcyA/IGJvZHlMb2NrKCkgOiBib2R5VW5sb2NrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvZHlVbmxvY2soKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJfZGFyay10aGVtZVwiKTtcbiAgICBib2R5VW5sb2NrKCk7XG4gIH1cbn07XG5cbmNvbnN0IG9uQ2xpY2tIYW5kbGVyID0gKGUpID0+IHtcbiAgY29uc3QgeyB0YXJnZXQgfSA9IGU7XG5cbiAgaWYgKHRhcmdldC5jbG9zZXN0KFwiLmhlYWRlcl9faGFtYnVyZ2VyXCIpKSB7XG4gICAgaW5pdEhhbWJ1cmdlck1lbnUoKTtcbiAgfVxuXG4gIGlmICh0bS5tYXRjaGVzKSB7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KFwiLmFjdGlvbnMtaGVhZGVyX19pdGVtX2NhcnQgLmFjdGlvbnMtaGVhZGVyX190eHRcIikpIHtcbiAgICAgIGluaXRDYXJ0V2lkZ2V0KCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuX3Nob3ctY2FydC13aWRnZXRcIikgJiZcbiAgICAgICghdGFyZ2V0LmNsb3Nlc3QoXCIuYWN0aW9ucy1oZWFkZXJfX2l0ZW1fY2FydFwiKSB8fFxuICAgICAgICB0YXJnZXQuY2xvc2VzdChcIi5jYXJ0LXdpZGdldF9fY2xvc2UtYnRuXCIpKVxuICAgICkge1xuICAgICAgY2xvc2VDYXJ0V2lkZ2V0KCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBvbk1hdGNoTWVkaWFDaGFuZ2VIYW5kbGVyID0gKCkgPT4ge1xuICBpZiAoIXRtLm1hdGNoZXMgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5fc2hvdy1oZWFkZXItbWVudVwiKSkge1xuICAgIGNsb3NlSGVhZGVyTWVudSgpO1xuICB9XG5cbiAgaWYgKCFtbS5tYXRjaGVzICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuX3Nob3ctY2FydC13aWRnZXRcIikpIHtcbiAgICBjbG9zZUNhcnRXaWRnZXQoKTtcbiAgfVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xpY2tIYW5kbGVyKTtcbnRtLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgb25NYXRjaE1lZGlhQ2hhbmdlSGFuZGxlcik7XG4iXSwibmFtZXMiOlsiRHluYW1pY0FkYXB0IiwidHlwZSIsInRoaXMiLCJwcm90b3R5cGUiLCJpbml0IiwiX3RoaXMiLCLQvmJqZWN0cyIsImRhQ2xhc3NuYW1lIiwibm9kZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwibm9kZSIsImRhdGFBcnJheSIsImRhdGFzZXQiLCJkYSIsInRyaW0iLCJzcGxpdCIsItC+YmplY3QiLCJlbGVtZW50IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImRlc3RpbmF0aW9uIiwicXVlcnlTZWxlY3RvciIsImJyZWFrcG9pbnQiLCJwbGFjZSIsImluZGV4IiwiaW5kZXhJblBhcmVudCIsInB1c2giLCJhcnJheVNvcnQiLCJtZWRpYVF1ZXJpZXMiLCJBcnJheSIsIm1hcCIsImNhbGwiLCJpdGVtIiwiZmlsdGVyIiwic2VsZiIsImluZGV4T2YiLCJtZWRpYSIsIm1lZGlhU3BsaXQiLCJTdHJpbmciLCJtYXRjaE1lZGlhIiwid2luZG93IiwibWVkaWFCcmVha3BvaW50Iiwi0L5iamVjdHNGaWx0ZXIiLCJhZGRMaXN0ZW5lciIsIm1lZGlhSGFuZGxlciIsIm1hdGNoZXMiLCJtb3ZlVG8iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIm1vdmVCYWNrIiwiYWRkIiwiY2hpbGRyZW4iLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJyZW1vdmUiLCJ1bmRlZmluZWQiLCJhcnJheSIsInNsaWNlIiwiYXJyIiwic29ydCIsImEiLCJiIiwib25JbnB1dEZvY3VzSW5IYW5kbGVyIiwiZSIsInRhcmdldCIsImZvckVhY2giLCJmb3JtIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uRm9ybVN1Ym1pdEhhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwidmFsdWUiLCJzdWJtaXQiLCJlbCIsIm1pbnVzQnRuIiwiYWRkQnRuIiwicXR5TWluIiwicGFyc2VJbnQiLCJtaW4iLCJxdHlNYXgiLCJtYXgiLCJxdHkiLCJpc05hTiIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNsb3Nlc3QiLCJvcGVyYXRvciIsImFjdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwib2JqIiwiY29uc3RydWN0b3IiLCJPYmplY3QiLCJleHRlbmQiLCJzcmMiLCJrZXlzIiwia2V5Iiwic3NyRG9jdW1lbnQiLCJib2R5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFjdGl2ZUVsZW1lbnQiLCJibHVyIiwibm9kZU5hbWUiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiY3JlYXRlRWxlbWVudCIsImNoaWxkTm9kZXMiLCJzdHlsZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY3JlYXRlRWxlbWVudE5TIiwiaW1wb3J0Tm9kZSIsImxvY2F0aW9uIiwiaGFzaCIsImhvc3QiLCJob3N0bmFtZSIsImhyZWYiLCJvcmlnaW4iLCJwYXRobmFtZSIsInByb3RvY29sIiwic2VhcmNoIiwiZG9jIiwic3NyV2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInB1c2hTdGF0ZSIsImdvIiwiYmFjayIsIkN1c3RvbUV2ZW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJJbWFnZSIsIkRhdGUiLCJzY3JlZW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImlkIiwid2luIiwiZGVsYXkiLCJub3ciLCJheGlzIiwibWF0cml4IiwiY3VyVHJhbnNmb3JtIiwidHJhbnNmb3JtTWF0cml4IiwiY3VyU3R5bGUiLCJjdXJyZW50U3R5bGUiLCJXZWJLaXRDU1NNYXRyaXgiLCJ0cmFuc2Zvcm0iLCJ3ZWJraXRUcmFuc2Zvcm0iLCJyZXBsYWNlIiwiam9pbiIsIk1velRyYW5zZm9ybSIsIk9UcmFuc2Zvcm0iLCJNc1RyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwidG9TdHJpbmciLCJtNDEiLCJwYXJzZUZsb2F0IiwibTQyIiwibyIsInRvIiwiYXJndW1lbnRzIiwibm9FeHRlbmQiLCJuZXh0U291cmNlIiwiSFRNTEVsZW1lbnQiLCJub2RlVHlwZSIsImtleXNBcnJheSIsIm5leHRJbmRleCIsImxlbiIsIm5leHRLZXkiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsIl9fc3dpcGVyX18iLCJ2YXJOYW1lIiwidmFyVmFsdWUiLCJzZXRQcm9wZXJ0eSIsImFuaW1hdGVDU1NNb2RlU2Nyb2xsIiwiX3JlZiIsInN3aXBlciIsInRhcmdldFBvc2l0aW9uIiwic2lkZSIsInN0YXJ0UG9zaXRpb24iLCJ0cmFuc2xhdGUiLCJ0aW1lIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwYXJhbXMiLCJzcGVlZCIsIndyYXBwZXJFbCIsInNjcm9sbFNuYXBUeXBlIiwiY3NzTW9kZUZyYW1lSUQiLCJkaXIiLCJpc091dE9mQm91bmQiLCJjdXJyZW50IiwiYW5pbWF0ZSIsImdldFRpbWUiLCJwcm9ncmVzcyIsIk1hdGgiLCJlYXNlUHJvZ3Jlc3MiLCJjb3MiLCJQSSIsImN1cnJlbnRQb3NpdGlvbiIsInNjcm9sbFRvIiwib3ZlcmZsb3ciLCJzZWxlY3RvciIsInNob3dXYXJuaW5nIiwidGV4dCIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyIiwidGFnIiwiY2xhc3NlcyIsImlzQXJyYXkiLCJjIiwiZWxlbWVudFN0eWxlIiwicHJvcCIsImNoaWxkIiwicHJldmlvdXNTaWJsaW5nIiwic2l6ZSIsImluY2x1ZGVNYXJnaW5zIiwib2Zmc2V0V2lkdGgiLCJzdXBwb3J0IiwiZGV2aWNlQ2FjaGVkIiwiYnJvd3NlciIsImdldFN1cHBvcnQiLCJzbW9vdGhTY3JvbGwiLCJkb2N1bWVudEVsZW1lbnQiLCJ0b3VjaCIsIkRvY3VtZW50VG91Y2giLCJjYWxjU3VwcG9ydCIsImdldERldmljZSIsIm92ZXJyaWRlcyIsIl90ZW1wIiwicGxhdGZvcm0iLCJ1YSIsImRldmljZSIsImlvcyIsImFuZHJvaWQiLCJzY3JlZW5XaWR0aCIsIndpZHRoIiwic2NyZWVuSGVpZ2h0IiwiaGVpZ2h0IiwibWF0Y2giLCJpcGFkIiwiaXBvZCIsImlwaG9uZSIsIndpbmRvd3MiLCJtYWNvcyIsIm9zIiwiY2FsY0RldmljZSIsImdldEJyb3dzZXIiLCJuZWVkUGVyc3BlY3RpdmVGaXgiLCJpc1NhZmFyaSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJtYWpvciIsIm1pbm9yIiwibnVtIiwiTnVtYmVyIiwiaXNXZWJWaWV3IiwidGVzdCIsImlzU2FmYXJpQnJvd3NlciIsIm5lZWQzZEZpeCIsImNhbGNCcm93c2VyIiwiZXZlbnRzRW1pdHRlciIsIm9uIiwiZXZlbnRzIiwiaGFuZGxlciIsInByaW9yaXR5IiwiZXZlbnRzTGlzdGVuZXJzIiwiZGVzdHJveWVkIiwibWV0aG9kIiwiZXZlbnQiLCJvbmNlIiwib25jZUhhbmRsZXIiLCJvZmYiLCJfX2VtaXR0ZXJQcm94eSIsIl9sZW4iLCJhcmdzIiwiX2tleSIsImFwcGx5Iiwib25BbnkiLCJldmVudHNBbnlMaXN0ZW5lcnMiLCJvZmZBbnkiLCJzcGxpY2UiLCJldmVudEhhbmRsZXIiLCJlbWl0IiwiZGF0YSIsImNvbnRleHQiLCJfbGVuMiIsIl9rZXkyIiwidW5zaGlmdCIsInRvZ2dsZVNsaWRlQ2xhc3NlcyQxIiwic2xpZGVFbCIsImNvbmRpdGlvbiIsImNsYXNzTmFtZSIsInRvZ2dsZVNsaWRlQ2xhc3NlcyIsInByb2Nlc3NMYXp5UHJlbG9hZGVyIiwiaW1hZ2VFbCIsImlzRWxlbWVudCIsInNsaWRlQ2xhc3MiLCJsYXp5RWwiLCJsYXp5UHJlbG9hZGVyQ2xhc3MiLCJzaGFkb3dSb290IiwidW5sYXp5Iiwic2xpZGVzIiwicHJlbG9hZCIsImFtb3VudCIsImxhenlQcmVsb2FkUHJldk5leHQiLCJzbGlkZXNQZXJWaWV3Iiwic2xpZGVzUGVyVmlld0R5bmFtaWMiLCJjZWlsIiwiYWN0aXZlSW5kZXgiLCJncmlkIiwicm93cyIsImFjdGl2ZUNvbHVtbiIsInByZWxvYWRDb2x1bW5zIiwiZnJvbSIsIl8iLCJjb2x1bW4iLCJzbGlkZUluZGV4TGFzdEluVmlldyIsInJld2luZCIsImxvb3AiLCJyZWFsSW5kZXgiLCJ1cGRhdGUiLCJ1cGRhdGVTaXplIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJpc0hvcml6b250YWwiLCJpc1ZlcnRpY2FsIiwiYXNzaWduIiwidXBkYXRlU2xpZGVzIiwiZ2V0RGlyZWN0aW9uUHJvcGVydHlWYWx1ZSIsImxhYmVsIiwiZ2V0RGlyZWN0aW9uTGFiZWwiLCJzbGlkZXNFbCIsInN3aXBlclNpemUiLCJydGxUcmFuc2xhdGUiLCJydGwiLCJ3cm9uZ1JUTCIsImlzVmlydHVhbCIsInZpcnR1YWwiLCJlbmFibGVkIiwicHJldmlvdXNTbGlkZXNMZW5ndGgiLCJzbGlkZXNMZW5ndGgiLCJzbmFwR3JpZCIsInNsaWRlc0dyaWQiLCJzbGlkZXNTaXplc0dyaWQiLCJvZmZzZXRCZWZvcmUiLCJzbGlkZXNPZmZzZXRCZWZvcmUiLCJvZmZzZXRBZnRlciIsInNsaWRlc09mZnNldEFmdGVyIiwicHJldmlvdXNTbmFwR3JpZExlbmd0aCIsInByZXZpb3VzU2xpZGVzR3JpZExlbmd0aCIsInNwYWNlQmV0d2VlbiIsInNsaWRlUG9zaXRpb24iLCJwcmV2U2xpZGVTaXplIiwidmlydHVhbFNpemUiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5Ub3AiLCJjZW50ZXJlZFNsaWRlcyIsImNzc01vZGUiLCJncmlkRW5hYmxlZCIsInNsaWRlU2l6ZSIsImluaXRTbGlkZXMiLCJ1bnNldFNsaWRlcyIsInNob3VsZFJlc2V0U2xpZGVTaXplIiwiYnJlYWtwb2ludHMiLCJzbGlkZSIsInVwZGF0ZVNsaWRlIiwic2xpZGVTdHlsZXMiLCJjdXJyZW50VHJhbnNmb3JtIiwiY3VycmVudFdlYktpdFRyYW5zZm9ybSIsInJvdW5kTGVuZ3RocyIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiYm94U2l6aW5nIiwiZmxvb3IiLCJzd2lwZXJTbGlkZVNpemUiLCJhYnMiLCJzbGlkZXNQZXJHcm91cCIsInNsaWRlc1Blckdyb3VwU2tpcCIsImVmZmVjdCIsInNldFdyYXBwZXJTaXplIiwidXBkYXRlV3JhcHBlclNpemUiLCJuZXdTbGlkZXNHcmlkIiwic2xpZGVzR3JpZEl0ZW0iLCJncm91cHMiLCJzbGlkZXNCZWZvcmUiLCJzbGlkZXNBZnRlciIsImdyb3VwU2l6ZSIsInNsaWRlSW5kZXgiLCJjZW50ZXJlZFNsaWRlc0JvdW5kcyIsImFsbFNsaWRlc1NpemUiLCJzbGlkZVNpemVWYWx1ZSIsIm1heFNuYXAiLCJzbmFwIiwiY2VudGVySW5zdWZmaWNpZW50U2xpZGVzIiwib2Zmc2V0U2l6ZSIsImFsbFNsaWRlc09mZnNldCIsInNuYXBJbmRleCIsImFkZFRvU25hcEdyaWQiLCJhZGRUb1NsaWRlc0dyaWQiLCJ2Iiwid2F0Y2hPdmVyZmxvdyIsImNoZWNrT3ZlcmZsb3ciLCJ3YXRjaFNsaWRlc1Byb2dyZXNzIiwidXBkYXRlU2xpZGVzT2Zmc2V0IiwiYmFja0ZhY2VIaWRkZW5DbGFzcyIsImNvbnRhaW5lck1vZGlmaWVyQ2xhc3MiLCJoYXNDbGFzc0JhY2tmYWNlQ2xhc3NBZGRlZCIsIm1heEJhY2tmYWNlSGlkZGVuU2xpZGVzIiwidXBkYXRlQXV0b0hlaWdodCIsImFjdGl2ZVNsaWRlcyIsIm5ld0hlaWdodCIsInNldFRyYW5zaXRpb24iLCJnZXRTbGlkZUJ5SW5kZXgiLCJnZXRTbGlkZUluZGV4QnlEYXRhIiwidmlzaWJsZVNsaWRlcyIsIm9mZnNldEhlaWdodCIsIm1pbnVzT2Zmc2V0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsInN3aXBlclNsaWRlT2Zmc2V0IiwiY3NzT3ZlcmZsb3dBZGp1c3RtZW50IiwidXBkYXRlU2xpZGVzUHJvZ3Jlc3MiLCJvZmZzZXRDZW50ZXIiLCJ2aXNpYmxlU2xpZGVzSW5kZXhlcyIsInNsaWRlT2Zmc2V0Iiwic2xpZGVQcm9ncmVzcyIsIm1pblRyYW5zbGF0ZSIsIm9yaWdpbmFsU2xpZGVQcm9ncmVzcyIsInNsaWRlQmVmb3JlIiwic2xpZGVBZnRlciIsImlzRnVsbHlWaXNpYmxlIiwiaXNWaXNpYmxlIiwic2xpZGVWaXNpYmxlQ2xhc3MiLCJzbGlkZUZ1bGx5VmlzaWJsZUNsYXNzIiwib3JpZ2luYWxQcm9ncmVzcyIsInVwZGF0ZVByb2dyZXNzIiwibXVsdGlwbGllciIsInRyYW5zbGF0ZXNEaWZmIiwibWF4VHJhbnNsYXRlIiwiaXNCZWdpbm5pbmciLCJpc0VuZCIsInByb2dyZXNzTG9vcCIsIndhc0JlZ2lubmluZyIsIndhc0VuZCIsImlzQmVnaW5uaW5nUm91bmRlZCIsImlzRW5kUm91bmRlZCIsImZpcnN0U2xpZGVJbmRleCIsImxhc3RTbGlkZUluZGV4IiwiZmlyc3RTbGlkZVRyYW5zbGF0ZSIsImxhc3RTbGlkZVRyYW5zbGF0ZSIsInRyYW5zbGF0ZU1heCIsInRyYW5zbGF0ZUFicyIsImF1dG9IZWlnaHQiLCJ1cGRhdGVTbGlkZXNDbGFzc2VzIiwiZ2V0RmlsdGVyZWRTbGlkZSIsImFjdGl2ZVNsaWRlIiwicHJldlNsaWRlIiwibmV4dFNsaWRlIiwibmV4dEVscyIsIm5leHRFbGVtZW50U2libGluZyIsIm5leHQiLCJlbGVtZW50TmV4dEFsbCIsInByZXZFbHMiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwicHJldiIsImVsZW1lbnRQcmV2QWxsIiwic2xpZGVBY3RpdmVDbGFzcyIsInNsaWRlTmV4dENsYXNzIiwic2xpZGVQcmV2Q2xhc3MiLCJlbWl0U2xpZGVzQ2xhc3NlcyIsInVwZGF0ZUFjdGl2ZUluZGV4IiwibmV3QWN0aXZlSW5kZXgiLCJwcmV2aW91c0luZGV4IiwicHJldmlvdXNSZWFsSW5kZXgiLCJwcmV2aW91c1NuYXBJbmRleCIsImdldFZpcnR1YWxSZWFsSW5kZXgiLCJhSW5kZXgiLCJub3JtYWxpemVTbGlkZUluZGV4IiwiZ2V0QWN0aXZlSW5kZXhCeVRyYW5zbGF0ZSIsInNraXAiLCJmaXJzdFNsaWRlSW5Db2x1bW4iLCJhY3RpdmVTbGlkZUluZGV4IiwiZ2V0QXR0cmlidXRlIiwiaW5pdGlhbGl6ZWQiLCJydW5DYWxsYmFja3NPbkluaXQiLCJ1cGRhdGVDbGlja2VkU2xpZGUiLCJwYXRoIiwicGF0aEVsIiwic2xpZGVGb3VuZCIsImNsaWNrZWRTbGlkZSIsImNsaWNrZWRJbmRleCIsInNsaWRlVG9DbGlja2VkU2xpZGUiLCJnZXRUcmFuc2xhdGUiLCJ2aXJ0dWFsVHJhbnNsYXRlIiwiY3VycmVudFRyYW5zbGF0ZSIsInNldFRyYW5zbGF0ZSIsImJ5Q29udHJvbGxlciIsIm5ld1Byb2dyZXNzIiwieCIsInkiLCJwcmV2aW91c1RyYW5zbGF0ZSIsInRyYW5zbGF0ZVRvIiwicnVuQ2FsbGJhY2tzIiwidHJhbnNsYXRlQm91bmRzIiwiaW50ZXJuYWwiLCJhbmltYXRpbmciLCJwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24iLCJuZXdUcmFuc2xhdGUiLCJpc0giLCJiZWhhdmlvciIsIm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCIsInRyYW5zaXRpb25FbWl0IiwiZGlyZWN0aW9uIiwic3RlcCIsInNsaWRlVG8iLCJpbml0aWFsIiwibm9ybWFsaXplZFRyYW5zbGF0ZSIsIm5vcm1hbGl6ZWRHcmlkIiwibm9ybWFsaXplZEdyaWROZXh0IiwiYWxsb3dTbGlkZU5leHQiLCJhbGxvd1NsaWRlUHJldiIsInRyYW5zaXRpb25TdGFydCIsInRyYW5zaXRpb25FbmQiLCJ0IiwiX2ltbWVkaWF0ZVZpcnR1YWwiLCJfY3NzTW9kZVZpcnR1YWxJbml0aWFsU2V0IiwiaW5pdGlhbFNsaWRlIiwib25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQiLCJzbGlkZVRvTG9vcCIsIm5ld0luZGV4IiwidGFyZ2V0U2xpZGVJbmRleCIsImNvbHMiLCJuZWVkTG9vcEZpeCIsImxvb3BGaXgiLCJzbGlkZVJlYWxJbmRleCIsInNsaWRlTmV4dCIsInBlckdyb3VwIiwic2xpZGVzUGVyR3JvdXBBdXRvIiwiaW5jcmVtZW50IiwibG9vcFByZXZlbnRzU2xpZGluZyIsIl9jbGllbnRMZWZ0IiwiY2xpZW50TGVmdCIsInNsaWRlUHJldiIsIm5vcm1hbGl6ZSIsInZhbCIsIm5vcm1hbGl6ZWRTbmFwR3JpZCIsInByZXZTbmFwIiwicHJldlNuYXBJbmRleCIsInByZXZJbmRleCIsImxhc3RJbmRleCIsInNsaWRlUmVzZXQiLCJzbGlkZVRvQ2xvc2VzdCIsInRocmVzaG9sZCIsImN1cnJlbnRTbmFwIiwic2xpZGVUb0luZGV4Iiwic2xpZGVTZWxlY3RvciIsImxvb3BlZFNsaWRlcyIsImdldFNsaWRlSW5kZXgiLCJsb29wQ3JlYXRlIiwic2hvdWxkRmlsbEdyb3VwIiwic2hvdWxkRmlsbEdyaWQiLCJhZGRCbGFua1NsaWRlcyIsImFtb3VudE9mU2xpZGVzIiwic2xpZGVCbGFua0NsYXNzIiwiYXBwZW5kIiwibG9vcEFkZEJsYW5rU2xpZGVzIiwicmVjYWxjU2xpZGVzIiwiYnlNb3VzZXdoZWVsIiwibG9vcEFkZGl0aW9uYWxTbGlkZXMiLCJmaWxsIiwicHJlcGVuZFNsaWRlc0luZGV4ZXMiLCJhcHBlbmRTbGlkZXNJbmRleGVzIiwiaXNOZXh0IiwiaXNQcmV2Iiwic2xpZGVzUHJlcGVuZGVkIiwic2xpZGVzQXBwZW5kZWQiLCJhY3RpdmVDb2xJbmRleFdpdGhTaGlmdCIsImNvbEluZGV4VG9QcmVwZW5kIiwiX19wcmV2ZW50T2JzZXJ2ZXJfXyIsInN3aXBlckxvb3BNb3ZlRE9NIiwicHJlcGVuZCIsImN1cnJlbnRTbGlkZVRyYW5zbGF0ZSIsImRpZmYiLCJ0b3VjaEV2ZW50c0RhdGEiLCJzdGFydFRyYW5zbGF0ZSIsInNoaWZ0IiwiY29udHJvbGxlciIsImNvbnRyb2wiLCJsb29wUGFyYW1zIiwibG9vcERlc3Ryb3kiLCJuZXdTbGlkZXNPcmRlciIsInN3aXBlclNsaWRlSW5kZXgiLCJwcmV2ZW50RWRnZVN3aXBlIiwic3RhcnRYIiwiZWRnZVN3aXBlRGV0ZWN0aW9uIiwiZWRnZVN3aXBlVGhyZXNob2xkIiwiaW5uZXJXaWR0aCIsIm9uVG91Y2hTdGFydCIsIm9yaWdpbmFsRXZlbnQiLCJwb2ludGVySWQiLCJ0YXJnZXRUb3VjaGVzIiwidG91Y2hJZCIsImlkZW50aWZpZXIiLCJwYWdlWCIsInRvdWNoZXMiLCJzaW11bGF0ZVRvdWNoIiwicG9pbnRlclR5cGUiLCJ0YXJnZXRFbCIsInRvdWNoRXZlbnRzVGFyZ2V0Iiwid2hpY2giLCJidXR0b24iLCJpc1RvdWNoZWQiLCJpc01vdmVkIiwic3dpcGluZ0NsYXNzSGFzVmFsdWUiLCJub1N3aXBpbmdDbGFzcyIsImV2ZW50UGF0aCIsImNvbXBvc2VkUGF0aCIsIm5vU3dpcGluZ1NlbGVjdG9yIiwiaXNUYXJnZXRTaGFkb3ciLCJub1N3aXBpbmciLCJiYXNlIiwiX19jbG9zZXN0RnJvbSIsImFzc2lnbmVkU2xvdCIsImZvdW5kIiwiZ2V0Um9vdE5vZGUiLCJjbG9zZXN0RWxlbWVudCIsImFsbG93Q2xpY2siLCJzd2lwZUhhbmRsZXIiLCJjdXJyZW50WCIsImN1cnJlbnRZIiwicGFnZVkiLCJzdGFydFkiLCJhbGxvd1RvdWNoQ2FsbGJhY2tzIiwiaXNTY3JvbGxpbmciLCJzdGFydE1vdmluZyIsInRvdWNoU3RhcnRUaW1lIiwic3dpcGVEaXJlY3Rpb24iLCJhbGxvd1RocmVzaG9sZE1vdmUiLCJmb2N1c2FibGVFbGVtZW50cyIsInNob3VsZFByZXZlbnREZWZhdWx0IiwiYWxsb3dUb3VjaE1vdmUiLCJ0b3VjaFN0YXJ0UHJldmVudERlZmF1bHQiLCJ0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCIsImlzQ29udGVudEVkaXRhYmxlIiwiZnJlZU1vZGUiLCJvblRvdWNoTW92ZSIsInRhcmdldFRvdWNoIiwiY2hhbmdlZFRvdWNoZXMiLCJwcmV2ZW50ZWRCeU5lc3RlZFN3aXBlciIsInRvdWNoUmVsZWFzZU9uRWRnZXMiLCJwcmV2aW91c1giLCJwcmV2aW91c1kiLCJkaWZmWCIsImRpZmZZIiwic3FydCIsInRvdWNoQW5nbGUiLCJhdGFuMiIsInByZXZlbnRUb3VjaE1vdmVGcm9tUG9pbnRlck1vdmUiLCJjYW5jZWxhYmxlIiwidG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uIiwibmVzdGVkIiwic3RvcFByb3BhZ2F0aW9uIiwidG91Y2hlc0RpZmYiLCJvbmVXYXlNb3ZlbWVudCIsInRvdWNoUmF0aW8iLCJwcmV2VG91Y2hlc0RpcmVjdGlvbiIsInRvdWNoZXNEaXJlY3Rpb24iLCJpc0xvb3AiLCJhbGxvd0xvb3BGaXgiLCJldnQiLCJidWJibGVzIiwiZGV0YWlsIiwiYnlTd2lwZXJUb3VjaE1vdmUiLCJkaXNwYXRjaEV2ZW50IiwiYWxsb3dNb21lbnR1bUJvdW5jZSIsImdyYWJDdXJzb3IiLCJzZXRHcmFiQ3Vyc29yIiwibG9vcFN3YXBSZXNldCIsImRpc2FibGVQYXJlbnRTd2lwZXIiLCJyZXNpc3RhbmNlUmF0aW8iLCJyZXNpc3RhbmNlIiwiZm9sbG93RmluZ2VyIiwib25Ub3VjaEVuZCIsInRvdWNoRW5kVGltZSIsInRpbWVEaWZmIiwicGF0aFRyZWUiLCJsYXN0Q2xpY2tUaW1lIiwiY3VycmVudFBvcyIsInN3aXBlVG9MYXN0Iiwic3RvcEluZGV4IiwicmV3aW5kRmlyc3RJbmRleCIsInJld2luZExhc3RJbmRleCIsInJhdGlvIiwibG9uZ1N3aXBlc01zIiwibG9uZ1N3aXBlcyIsImxvbmdTd2lwZXNSYXRpbyIsInNob3J0U3dpcGVzIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIm9uUmVzaXplIiwic2V0QnJlYWtwb2ludCIsImlzVmlydHVhbExvb3AiLCJhdXRvcGxheSIsInJ1bm5pbmciLCJwYXVzZWQiLCJyZXNpemVUaW1lb3V0IiwicmVzdW1lIiwib25DbGljayIsInByZXZlbnRDbGlja3MiLCJwcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvblNjcm9sbCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJvbkxvYWQiLCJvbkRvY3VtZW50VG91Y2hTdGFydCIsImRvY3VtZW50VG91Y2hIYW5kbGVyUHJvY2VlZGVkIiwidG91Y2hBY3Rpb24iLCJjYXB0dXJlIiwiZG9tTWV0aG9kIiwic3dpcGVyTWV0aG9kIiwicGFzc2l2ZSIsInVwZGF0ZU9uV2luZG93UmVzaXplIiwiaXNHcmlkRW5hYmxlZCIsImRlZmF1bHRzIiwic3dpcGVyRWxlbWVudE5vZGVOYW1lIiwicmVzaXplT2JzZXJ2ZXIiLCJjcmVhdGVFbGVtZW50cyIsImV2ZW50c1ByZWZpeCIsInVybCIsImJyZWFrcG9pbnRzQmFzZSIsInVuaXF1ZU5hdkVsZW1lbnRzIiwicGFzc2l2ZUxpc3RlbmVycyIsIndyYXBwZXJDbGFzcyIsIl9lbWl0Q2xhc3NlcyIsIm1vZHVsZUV4dGVuZFBhcmFtcyIsImFsbE1vZHVsZXNQYXJhbXMiLCJtb2R1bGVQYXJhbU5hbWUiLCJtb2R1bGVQYXJhbXMiLCJhdXRvIiwicHJvdG90eXBlcyIsInRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uRGVsYXkiLCJtb3ZpbmciLCJpc0xvY2tlZCIsImN1cnNvciIsInVuc2V0R3JhYkN1cnNvciIsImF0dGFjaEV2ZW50cyIsImJpbmQiLCJkZXRhY2hFdmVudHMiLCJnZXRCcmVha3BvaW50IiwiY3VycmVudEJyZWFrcG9pbnQiLCJicmVha3BvaW50UGFyYW1zIiwib3JpZ2luYWxQYXJhbXMiLCJ3YXNNdWx0aVJvdyIsImlzTXVsdGlSb3ciLCJ3YXNHcmFiQ3Vyc29yIiwiaXNHcmFiQ3Vyc29yIiwid2FzRW5hYmxlZCIsImVtaXRDb250YWluZXJDbGFzc2VzIiwid2FzTW9kdWxlRW5hYmxlZCIsImlzTW9kdWxlRW5hYmxlZCIsImRpc2FibGUiLCJlbmFibGUiLCJkaXJlY3Rpb25DaGFuZ2VkIiwibmVlZHNSZUxvb3AiLCJ3YXNMb29wIiwiY2hhbmdlRGlyZWN0aW9uIiwiaXNFbmFibGVkIiwiaGFzTG9vcCIsImNvbnRhaW5lckVsIiwiY3VycmVudEhlaWdodCIsImlubmVySGVpZ2h0IiwicG9pbnRzIiwicG9pbnQiLCJtaW5SYXRpbyIsInN1YnN0ciIsIndhc0xvY2tlZCIsImxhc3RTbGlkZVJpZ2h0RWRnZSIsImFkZENsYXNzZXMiLCJjbGFzc05hbWVzIiwic3VmZml4ZXMiLCJlbnRyaWVzIiwicHJlZml4IiwicmVzdWx0Q2xhc3NlcyIsInByZXBhcmVDbGFzc2VzIiwicmVtb3ZlQ2xhc3NlcyIsImV4dGVuZGVkRGVmYXVsdHMiLCJTd2lwZXIiLCJzd2lwZXJzIiwibmV3UGFyYW1zIiwibW9kdWxlcyIsIl9fbW9kdWxlc19fIiwibW9kIiwiZXh0ZW5kUGFyYW1zIiwic3dpcGVyUGFyYW1zIiwicGFzc2VkUGFyYW1zIiwiZXZlbnROYW1lIiwidmVsb2NpdHkiLCJ0cnVuYyIsImNsaWNrVGltZW91dCIsInZlbG9jaXRpZXMiLCJpbWFnZXNUb0xvYWQiLCJpbWFnZXNMb2FkZWQiLCJwcm9wZXJ0eSIsInNldFByb2dyZXNzIiwiY2xzIiwiZ2V0U2xpZGVDbGFzc2VzIiwidXBkYXRlcyIsInZpZXciLCJleGFjdCIsInNwdiIsImJyZWFrTG9vcCIsInRyYW5zbGF0ZVZhbHVlIiwidHJhbnNsYXRlZCIsImNvbXBsZXRlIiwibmV3RGlyZWN0aW9uIiwibmVlZFVwZGF0ZSIsImN1cnJlbnREaXJlY3Rpb24iLCJjaGFuZ2VMYW5ndWFnZURpcmVjdGlvbiIsIm1vdW50IiwibW91bnRlZCIsInRvVXBwZXJDYXNlIiwiZ2V0V3JhcHBlclNlbGVjdG9yIiwiZ2V0V3JhcHBlciIsInNsaWRlU2xvdHMiLCJob3N0RWwiLCJsYXp5RWxlbWVudHMiLCJkZXN0cm95IiwiZGVsZXRlSW5zdGFuY2UiLCJjbGVhblN0eWxlcyIsIm9iamVjdCIsImRlbGV0ZVByb3BzIiwiZXh0ZW5kRGVmYXVsdHMiLCJuZXdEZWZhdWx0cyIsImluc3RhbGxNb2R1bGUiLCJ1c2UiLCJtIiwiTmF2aWdhdGlvbiIsImdldEVsIiwicmVzIiwidG9nZ2xlRWwiLCJkaXNhYmxlZCIsInN1YkVsIiwiZGlzYWJsZWRDbGFzcyIsInRhZ05hbWUiLCJsb2NrQ2xhc3MiLCJvblByZXZDbGljayIsIm9uTmV4dENsaWNrIiwiY2hlY2tQcm9wcyIsImluaXRCdXR0b24iLCJkZXN0cm95QnV0dG9uIiwiaGlkZU9uQ2xpY2siLCJoaWRkZW5DbGFzcyIsIm5hdmlnYXRpb25EaXNhYmxlZENsYXNzIiwiX3MiLCJ0YXJnZXRJc0J1dHRvbiIsImZpbmQiLCJwYWdpbmF0aW9uIiwiY2xpY2thYmxlIiwiaXNIaWRkZW4iLCJ0b2dnbGUiLCJwcm90b3R5cGVHcm91cCIsInByb3RvTWV0aG9kIiwib2JzZXJ2ZXIiLCJhbmltYXRpb25GcmFtZSIsInJlc2l6ZUhhbmRsZXIiLCJvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIiLCJSZXNpemVPYnNlcnZlciIsIm5ld1dpZHRoIiwiX3JlZjIiLCJjb250ZW50Qm94U2l6ZSIsImNvbnRlbnRSZWN0IiwiaW5saW5lU2l6ZSIsImJsb2NrU2l6ZSIsIm9ic2VydmUiLCJ1bm9ic2VydmUiLCJvYnNlcnZlcnMiLCJhdHRhY2giLCJvcHRpb25zIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYmtpdE11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJvYnNlcnZlclVwZGF0ZSIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJjaGFyYWN0ZXJEYXRhIiwib2JzZXJ2ZVBhcmVudHMiLCJvYnNlcnZlU2xpZGVDaGlsZHJlbiIsImNvbnRhaW5lclBhcmVudHMiLCJwYXJlbnRzIiwicGFyZW50RWxlbWVudCIsImRpc2Nvbm5lY3QiLCJpbml0U2xpZGVycyIsIl9fYXNzaWduIiwicyIsIm4iLCJwIiwiaGFzT3duUHJvcGVydHkiLCJsR0V2ZW50cyIsImxpZ2h0R2FsbGVyeUNvcmVTZXR0aW5ncyIsIm1vZGUiLCJlYXNpbmciLCJsaWNlbnNlS2V5IiwiYWRkQ2xhc3MiLCJzdGFydENsYXNzIiwiYmFja2Ryb3BEdXJhdGlvbiIsImNvbnRhaW5lciIsInN0YXJ0QW5pbWF0aW9uRHVyYXRpb24iLCJ6b29tRnJvbU9yaWdpbiIsImhpZGVCYXJzRGVsYXkiLCJzaG93QmFyc0FmdGVyIiwic2xpZGVEZWxheSIsInN1cHBvcnRMZWdhY3lCcm93c2VyIiwiYWxsb3dNZWRpYU92ZXJsYXAiLCJ2aWRlb01heFNpemUiLCJsb2FkWW91VHViZVBvc3RlciIsImRlZmF1bHRDYXB0aW9uSGVpZ2h0IiwiYXJpYUxhYmVsbGVkYnkiLCJhcmlhRGVzY3JpYmVkYnkiLCJyZXNldFNjcm9sbFBvc2l0aW9uIiwiaGlkZVNjcm9sbGJhciIsImNsb3NhYmxlIiwic3dpcGVUb0Nsb3NlIiwiY2xvc2VPblRhcCIsInNob3dDbG9zZUljb24iLCJzaG93TWF4aW1pemVJY29uIiwiZXNjS2V5Iiwia2V5UHJlc3MiLCJ0cmFwRm9jdXMiLCJjb250cm9scyIsInNsaWRlRW5kQW5pbWF0aW9uIiwiaGlkZUNvbnRyb2xPbkVuZCIsIm1vdXNld2hlZWwiLCJnZXRDYXB0aW9uRnJvbVRpdGxlT3JBbHQiLCJhcHBlbmRTdWJIdG1sVG8iLCJzdWJIdG1sU2VsZWN0b3JSZWxhdGl2ZSIsIm51bWJlck9mU2xpZGVJdGVtc0luRG9tIiwic2VsZWN0V2l0aGluIiwibmV4dEh0bWwiLCJwcmV2SHRtbCIsImlmcmFtZVdpZHRoIiwiaWZyYW1lSGVpZ2h0IiwiaWZyYW1lTWF4V2lkdGgiLCJpZnJhbWVNYXhIZWlnaHQiLCJkb3dubG9hZCIsImNvdW50ZXIiLCJhcHBlbmRDb3VudGVyVG8iLCJzd2lwZVRocmVzaG9sZCIsImVuYWJsZVN3aXBlIiwiZW5hYmxlRHJhZyIsImR5bmFtaWMiLCJkeW5hbWljRWwiLCJleHRyYVByb3BzIiwiZXhUaHVtYkltYWdlIiwiaXNNb2JpbGUiLCJtb2JpbGVTZXR0aW5ncyIsInBsdWdpbnMiLCJzdHJpbmdzIiwiY2xvc2VHYWxsZXJ5IiwidG9nZ2xlTWF4aW1pemUiLCJwcmV2aW91c1NsaWRlIiwicGxheVZpZGVvIiwibWVkaWFMb2FkaW5nRmFpbGVkIiwibGdRdWVyeSIsImNzc1ZlbmRlclByZWZpeGVzIiwiX2dldFNlbGVjdG9yIiwiZmlyc3RFbGVtZW50IiwiX2dldEZpcnN0RWwiLCJnZW5lcmF0ZVVVSUQiLCJyIiwicmFuZG9tIiwic3Vic3RyaW5nIiwiX2VhY2giLCJmdW5jIiwiX3NldENzc1ZlbmRvclByZWZpeCIsImNzc1Byb3BlcnR5IiwiZ3JvdXAxIiwiY2hhckF0IiwiaXNFdmVudE1hdGNoZWQiLCJldmVudE5hbWVzcGFjZSIsImV2ZXJ5IiwiYXR0ciIsIiRMRyIsImZpcnN0IiwiZXEiLCJnZXQiLCJyZW1vdmVBdHRyIiwiYXR0cnMiLCJ3cmFwIiwid3JhcHBlciIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwiaGFzQXR0cmlidXRlIiwiYXR0cmlidXRlIiwidG9nZ2xlQ2xhc3MiLCJjc3MiLCJsaXN0ZW5lciIsImV2ZW50TGlzdGVuZXJzIiwidHJpZ2dlciIsImN1c3RvbUV2ZW50IiwibG9hZCIsImZldGNoIiwidGhlbiIsImh0bWwiLCJpbm5lckhUTUwiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJlbXB0eSIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJvZmZzZXQiLCJsZWZ0IiwidG9wIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvZHlNYXJnaW5MZWZ0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJpbml0Q3VzdG9tRXZlbnQiLCJFbGVtZW50IiwibXNNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJkZWZhdWx0RHluYW1pY09wdGlvbnMiLCJjb252ZXJ0VG9EYXRhIiwiZyIsInV0aWxzIiwic3BhY2luZyIsImRlZmF1bHRMZ1NpemUiLCJsZ1NpemUiLCJpc1Jlc3BvbnNpdmVTaXplcyIsIndXaWR0aCIsInNpemVfMSIsImNXaWR0aCIsImNIZWlnaHQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsImJvdHRvbSIsImltYWdlU2l6ZSIsIkxHZWwiLCJjb250YWluZXJSZWN0Iiwid0hlaWdodCIsImVsV2lkdGgiLCJlbEhlaWdodCIsImVsU3R5bGUiLCJib3JkZXJMZWZ0IiwiYm9yZGVyVG9wIiwiaWZyYW1lVGl0bGUiLCJhbHRBdHRyIiwic3Jjc2V0Iiwic2l6ZXMiLCJzb3VyY2VzIiwiaW1nTWFya3VwIiwic291cmNlVGFnIiwiSlNPTiIsInBhcnNlIiwic291cmNlIiwic3JjSXRtcyIsInJzV2lkdGgiLCJyc1NyYyIsIl9zcmMiLCJqIiwiaW1nIiwibmF0dXJhbFdpZHRoIiwiX3Bvc3RlciIsImR1bW15SW1nIiwidmlkZW9Db250U3R5bGUiLCJwbGF5VmlkZW9TdHJpbmciLCJfaXNWaWRlbyIsInlvdXR1YmUiLCJ2aW1lbyIsImVsZW1lbnRzIiwiZGlzcGxheSIsInZpc2liaWxpdHkiLCJpdGVtcyIsImR5bmFtaWNFbGVtZW50cyIsImF2YWlsYWJsZUR5bmFtaWNPcHRpb25zIiwiaWwiLCJrIiwiamwiLCJfX3NwcmVhZEFycmF5cyIsInNwZWNpZmllZCIsImR5bmFtaWNBdHRyIiwibmFtZSIsImN1cnJlbnRJdGVtIiwiYWx0IiwidGl0bGUiLCJ0aHVtYiIsInN1Ykh0bWwiLCJpc0hUTUw1VklkZW8iLCJodG1sNSIsImVycm9yIiwid2lzdGlhIiwibGdJZCIsIkxpZ2h0R2FsbGVyeSIsImxnT3BlbmVkIiwibEdhbGxlcnlPbiIsImxnQnVzeSIsImN1cnJlbnRJdGVtc0luRG9tIiwicHJldlNjcm9sbFRvcCIsImJvZHlQYWRkaW5nUmlnaHQiLCJpc0R1bW15SW1hZ2VSZW1vdmVkIiwiZHJhZ09yU3dpcGVFbmFibGVkIiwibWVkaWFDb250YWluZXJQb3NpdGlvbiIsImdlbmVyYXRlU2V0dGluZ3MiLCJidWlsZE1vZHVsZXMiLCJzZXR0aW5ncyIsImdhbGxlcnlJdGVtcyIsImdldEl0ZW1zIiwibm9ybWFsaXplU2V0dGluZ3MiLCJ2YWxpZGF0ZUxpY2Vuc2UiLCJhZGRTbGlkZVZpZGVvSW5mbyIsImJ1aWxkU3RydWN0dXJlIiwiaW5zdGFuY2UiLCJ0cmlnZ2VyUG9zdGVyQ2xpY2siLCJhcnJvdyIsIm9wZW5HYWxsZXJ5T25JdGVtQ2xpY2siLCJfbG9vcF8xIiwidGhpc18xIiwiJGVsZW1lbnQiLCJ1dWlkIiwiY3VycmVudEl0ZW1JbmRleCIsIm9wZW5HYWxsZXJ5IiwicGx1Z2luIiwiZ2V0U2xpZGVJdGVtIiwiZ2V0U2xpZGVJdGVtSWQiLCJnZXRJZE5hbWUiLCJtYW5hZ2VTaW5nbGVTbGlkZUNsYXNzTmFtZSIsIm91dGVyIiwiJGNvbnRhaW5lciIsInN1Ykh0bWxDb250IiwiY29udGFpbmVyQ2xhc3NOYW1lIiwiY2xvc2VJY29uIiwibWF4aW1pemVJY29uIiwidGVtcGxhdGUiLCIkbGdDb21wb25lbnRzIiwiJGJhY2tkcm9wIiwiJGlubmVyIiwiJGNvbnRlbnQiLCIkdG9vbGJhciIsIm91dGVyQ2xhc3NOYW1lcyIsInJlZnJlc2hPblJlc2l6ZSIsImhpZGVCYXJzIiwibWFuYWdlQ2xvc2VHYWxsZXJ5IiwiaW5pdE1vZHVsZXMiLCJfX3NsaWRlVmlkZW9JbmZvIiwiZ2V0TWVkaWFDb250YWluZXJQb3NpdGlvbiIsIl9hIiwidG9wXzEiLCJjdXJyZW50SW1hZ2VTaXplIiwicmVzaXplVmlkZW9TbGlkZSIsImltZ1N0eWxlIiwiZ2V0RHVtbXlJbWdTdHlsZXMiLCJsZ1ZpZGVvU3R5bGUiLCJnZXRWaWRlb0NvbnRTdHlsZSIsImN1cnJlbnRTcmMiLCJ1cGRhdGVDb250cm9scyIsIl9pbmRleCIsInNvbWUiLCJnYWxsZXJ5SXRlbSIsIml0ZW1JbmRleCIsIm9yZ2FuaXplU2xpZGVJdGVtcyIsImxvYWRDb250ZW50IiwidXBkYXRlQ3VycmVudENvdW50ZXIiLCJzaG91bGRIaWRlU2Nyb2xsYmFyIiwiYm9keVJlY3QiLCJzY3JvbGxiYXJXaWR0aCIsInJlc2V0U2Nyb2xsQmFyIiwiaXRlbXNUb0JlSW5zZXJ0ZWRUb0RvbSIsImdldEl0ZW1zVG9CZUluc2VydGVkVG9Eb20iLCJhZGRIdG1sIiwic2V0TWVkaWFDb250YWluZXJQb3NpdGlvbiIsInRpbWVvdXQiLCJjdXJyZW50U2xpZGVfMSIsImNhcHRpb25IZWlnaHQiLCJ0aHVtYkNvbnRhaW5lciIsImhpZGVCYXJUaW1lb3V0IiwiaW5pdFBpY3R1cmVGaWxsIiwiJGltZyIsInBpY3R1cmVmaWxsIiwiY291bnRlckh0bWwiLCJzdWJIdG1sVXJsIiwiZkwiLCJjdXJyZW50U2xpZGUiLCJnZXREdW1teUltYWdlQ29udGVudCIsIiRjdXJyZW50U2xpZGUiLCIkY3VycmVudEl0ZW0iLCJfZHVtbXlJbWdTcmMiLCJkdW1teUltZ0NvbnRlbnQiLCJzZXRJbWdNYXJrdXAiLCJjdXJyZW50R2FsbGVyeUl0ZW0iLCJpc0ZpcnN0U2xpZGVXaXRoWm9vbUFuaW1hdGlvbiIsIm9uU2xpZGVPYmplY3RMb2FkIiwiJHNsaWRlIiwiaXNIVE1MNVZpZGVvV2l0aG91dFBvc3RlciIsIm9uRXJyb3IiLCJtZWRpYU9iamVjdCIsIm9uTGdPYmplY3RMb2FkIiwiaXNGaXJzdFNsaWRlIiwidHJpZ2dlclNsaWRlSXRlbUxvYWQiLCJfc3BlZWQiLCJnZXRTbGlkZVR5cGUiLCJwb3N0ZXIiLCJ2aWRlbyIsInJlYyIsIl9odG1sNVZpZGVvIiwicmVzcG9uc2l2ZSIsInNyY0R5SXRtcyIsInZpZGVvSW5mbyIsImlmcmFtZSIsInRvcF8yIiwidmlkZW9TaXplIiwibWFya3VwIiwiaHRtbDVWaWRlbyIsImhhc1Bvc3RlciIsImxvYWRDb250ZW50T25GaXJzdFNsaWRlTG9hZCIsIm51bWJlck9mSXRlbXMiLCJwb3NzaWJsZU51bWJlck9mSXRlbXMiLCJwcmV2SW5kZXhJdGVtIiwiX2VsZW1lbnQiLCJpZHgiLCJudW1iZXJPZkV4aXN0aW5nSXRlbXMiLCJnZXRQcmV2aW91c1NsaWRlSW5kZXgiLCJjdXJyZW50SXRlbUlkIiwic2V0RG93bmxvYWRWYWx1ZSIsImRvd25sb2FkVXJsIiwiJGRvd25sb2FkIiwibWFrZVNsaWRlQW5pbWF0aW9uIiwiY3VycmVudFNsaWRlSXRlbSIsInByZXZpb3VzU2xpZGVJdGVtIiwiZnJvbVRvdWNoIiwiZnJvbVRodW1iIiwibnVtYmVyT2ZHYWxsZXJ5SXRlbXMiLCJwcmV2aW91c1NsaWRlSXRlbV8xIiwidG9wXzMiLCJhcnJvd0Rpc2FibGUiLCJ0b3VjaFByZXYiLCJ0b3VjaE5leHQiLCJ1cGRhdGVDb3VudGVyVG90YWwiLCJ0b3VjaE1vdmUiLCJzdGFydENvb3JkcyIsImVuZENvb3JkcyIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsImFsbG93U3dpcGUiLCJndXR0ZXIiLCJvcGFjaXR5Iiwic2NhbGUiLCJ0b3VjaEVuZCIsImRpc3RhbmNlIiwidHJpZ2dlckNsaWNrIiwiZGlzdGFuY2VBYnMiLCJnb1RvTmV4dFNsaWRlIiwiZ29Ub1ByZXZTbGlkZSIsImlzUG9zdGVyRWxlbWVudCIsImlzU3dpcGluZyIsIiRpdGVtIiwibWFuYWdlU3dpcGVDbGFzcyIsImlzRHJhZ2luZyIsIl90b3VjaE5leHQiLCJfdG91Y2hQcmV2IiwiX2xvb3AiLCJrZXlDb2RlIiwiJHByZXYiLCIkbmV4dCIsIiRlbCIsInhWYWx1ZSIsInlWYWx1ZSIsInNjYWxlWCIsInNjYWxlWSIsImxhc3RDYWxsIiwiZGVsdGFZIiwiaXNTbGlkZUVsZW1lbnQiLCJwbGF5QnV0dG9uIiwiaW52YWxpZGF0ZUl0ZW1zIiwiZm9jdXMiLCJwcmV2ZW50U2Nyb2xsIiwiZm9jdXNhYmxlRWxzIiwiZmlyc3RGb2N1c2FibGVFbCIsImxhc3RGb2N1c2FibGVFbCIsInNoaWZ0S2V5IiwibW91c2Vkb3duIiwiZm9yY2UiLCJ0b3BfNCIsIl9iIiwiZGVzdHJveU1vZHVsZXMiLCJyZW1vdmVUaW1lb3V0IiwicmVmcmVzaCIsImRlc3Ryb3lHYWxsZXJ5IiwiY2xvc2VUaW1lb3V0IiwiZ2FsbGVyeSIsImRlc2NyaXB0aW9uIiwibGciLCJsaWdodEdhbGxlcnkiLCJib2R5TG9ja1N0YXR1cyIsImJvZHlVbmxvY2siLCJib2R5TG9jayIsInRtIiwibW0iLCJoZWFkZXIiLCJjbG9zZUNhcnRXaWRnZXQiLCJjbG9zZUhlYWRlck1lbnUiLCJvbk1hdGNoTWVkaWFDaGFuZ2VIYW5kbGVyIiwiZ2V0RnVsbFllYXIiXSwic291cmNlUm9vdCI6IiJ9